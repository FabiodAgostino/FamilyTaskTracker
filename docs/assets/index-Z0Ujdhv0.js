var Zb=Object.freeze,Qb=Object.defineProperty,ZM=Object.defineProperties;var QM=Object.getOwnPropertyDescriptors;var qu=Object.getOwnPropertySymbols;var Jb=Object.prototype.hasOwnProperty,e0=Object.prototype.propertyIsEnumerable;var t0=e=>{throw TypeError(e)},Ku=Math.pow,Zm=(e,t,r)=>t in e?Qb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A=(e,t)=>{for(var r in t||(t={}))Jb.call(t,r)&&Zm(e,r,t[r]);if(qu)for(var r of qu(t))e0.call(t,r)&&Zm(e,r,t[r]);return e},D=(e,t)=>ZM(e,QM(t));var W=(e,t)=>{var r={};for(var n in e)Jb.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&qu)for(var n of qu(e))t.indexOf(n)<0&&e0.call(e,n)&&(r[n]=e[n]);return r};var JM=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Un=(e,t,r)=>Zm(e,typeof t!="symbol"?t+"":t,r),Qm=(e,t,r)=>t.has(e)||t0("Cannot "+r);var te=(e,t,r)=>(Qm(e,t,"read from private field"),r?r.call(e):t.get(e)),at=(e,t,r)=>t.has(e)?t0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ve=(e,t,r,n)=>(Qm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),yr=(e,t,r)=>(Qm(e,t,"access private method"),r);var Gu=(e,t,r,n)=>({set _(a){Ve(e,t,a,r)},get _(){return te(e,t,n)}});var Ar=(e,t)=>Zb(Qb(e,"raw",{value:Zb(t||e.slice())})),G=(e,t,r)=>new Promise((n,a)=>{var i=l=>{try{c(r.next(l))}catch(u){a(u)}},o=l=>{try{c(r.throw(l))}catch(u){a(u)}},c=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,o);c((r=r.apply(e,t)).next())});import{r as y,a as vu,R as vy,b as eI,c as M,g as gt}from"./vendor-DX73CXBy.js";import{_ as ns,C as as,r as di,S as tI,a as rI,F as yy,g as DA,b as yu,c as gh,d as nI,i as aI,p as iI,u as sI,e as oI,E as xy,o as by,L as cI,f as lI,h as MA,v as IA,j as r0,k as $A,l as uI,m as dI,n as fI,q as Za,s as RA,t as hI,w as Jm,x as mI,y as pI}from"./firebase-ByPVKQKq.js";var dxe=JM(Vu=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var LA={exports:{}},vh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI=y,vI=Symbol.for("react.element"),yI=Symbol.for("react.fragment"),xI=Object.prototype.hasOwnProperty,bI=gI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wI={key:!0,ref:!0,__self:!0,__source:!0};function FA(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)xI.call(t,n)&&!wI.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:vI,type:e,key:i,ref:o,props:a,_owner:bI.current}}vh.Fragment=yI;vh.jsx=FA;vh.jsxs=FA;LA.exports=vh;var s=LA.exports,BA,n0=vu;BA=n0.createRoot,n0.hydrateRoot;function jI(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],c="",l=e.split("/");for(l[0]||l.shift();a=l.shift();)r=a[0],r==="*"?(o.push(r),c+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),c+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(c+=(~n?"?":"")+"\\"+a.substring(i))):c+="/"+a;return{keys:o,pattern:new RegExp("^"+c+(t?"(?=$|/)":"/?$"),"i")}}var zA={exports:{}},UA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=y;function NI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SI=typeof Object.is=="function"?Object.is:NI,AI=mo.useState,_I=mo.useEffect,PI=mo.useLayoutEffect,CI=mo.useDebugValue;function OI(e,t){var r=t(),n=AI({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return PI(function(){a.value=r,a.getSnapshot=t,ep(a)&&i({inst:a})},[e,r,t]),_I(function(){return ep(a)&&i({inst:a}),e(function(){ep(a)&&i({inst:a})})},[e]),CI(r),r}function ep(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!SI(e,r)}catch(n){return!0}}function EI(e,t){return t()}var kI=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?EI:OI;UA.useSyncExternalStore=mo.useSyncExternalStore!==void 0?mo.useSyncExternalStore:kI;zA.exports=UA;var TI=zA.exports;const DI=vy.useInsertionEffect,MI=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",WA=MI?y.useLayoutEffect:y.useEffect,II=DI||WA,wy=e=>{const t=y.useRef([e,(...r)=>t[0](...r)]).current;return II(()=>{t[0]=e}),t[1]},$I="popstate",jy="pushState",Ny="replaceState",RI="hashchange",a0=[$I,jy,Ny,RI],LI=e=>{for(const t of a0)addEventListener(t,e);return()=>{for(const t of a0)removeEventListener(t,e)}},VA=(e,t)=>TI.useSyncExternalStore(LI,e,t),FI=()=>location.search,BI=({ssrSearch:e=""}={})=>VA(FI,()=>e),i0=()=>location.pathname,zI=({ssrPath:e}={})=>VA(i0,e?()=>e:i0),UI=(e,{replace:t=!1,state:r=null}={})=>history[t?Ny:jy](r,"",e),WI=(e={})=>[zI(e),UI],s0=Symbol.for("wouter_v3");if(typeof history!="undefined"&&typeof window[s0]=="undefined"){for(const e of[jy,Ny]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,s0,{value:!0})}const VI=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",HA=(e="")=>e==="/"?"":e,HI=(e,t)=>e[0]==="~"?e.slice(1):HA(t)+e,qI=(e="",t)=>VI(o0(HA(e)),o0(t)),o0=e=>{try{return decodeURI(e)}catch(t){return e}},qA={hook:WI,searchHook:BI,parser:jI,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},KA=y.createContext(qA),rc=()=>y.useContext(KA),GA={},YA=y.createContext(GA),KI=()=>y.useContext(YA),xu=e=>{const[t,r]=e.hook(e);return[qI(e.base,t),wy((n,a)=>r(HI(n,e.base),a))]},XA=()=>xu(rc()),ZA=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[c,...l]=o;return c!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,l[h]])):o.groups;let d=A({},l);return u&&Object.assign(d,u),d})(),...n?[c]:[]]:[!1,null]},QA=r=>{var n=r,{children:e}=n,t=W(n,["children"]);var h,m,v,p;const a=rc(),i=t.hook?qA:a;let o=i;const[c,l]=(m=(h=t.ssrPath)==null?void 0:h.split("?"))!=null?m:[];l&&(t.ssrSearch=l,t.ssrPath=c),t.hrefs=(p=t.hrefs)!=null?p:(v=t.hook)==null?void 0:v.hrefs;let u=y.useRef({}),d=u.current,f=d;for(let g in i){const b=g==="base"?i[g]+(t[g]||""):t[g]||i[g];d===f&&b!==f[g]&&(u.current=f=A({},f)),f[g]=b,(b!==i[g]||b!==o[g])&&(o=f)}return y.createElement(KA.Provider,{value:o,children:e})},c0=({children:e,component:t},r)=>t?y.createElement(t,{params:r}):typeof e=="function"?e(r):e,GI=e=>{let t=y.useRef(GA);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,a])=>a!==r[n])?e:r},ya=a=>{var i=a,{path:e,nest:t,match:r}=i,n=W(i,["path","nest","match"]);const o=rc(),[c]=xu(o),[l,u,d]=r!=null?r:ZA(o.parser,e,c,t),f=GI(A(A({},KI()),u));if(!l)return null;const h=d?y.createElement(QA,{base:d},c0(n,f)):c0(n,f);return y.createElement(YA.Provider,{value:f,children:h})},Rs=y.forwardRef((e,t)=>{const r=rc(),[n,a]=xu(r),g=e,{to:i="",href:o=i,onClick:c,asChild:l,children:u,className:d,replace:f,state:h}=g,m=W(g,["to","href","onClick","asChild","children","className","replace","state"]),v=wy(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(c==null||c(b),b.defaultPrevented||(b.preventDefault(),a(o,e)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return l&&y.isValidElement(u)?y.cloneElement(u,{onClick:v,href:p}):y.createElement("a",D(A({},m),{onClick:v,href:p,className:d!=null&&d.call?d(n===o):d,children:u,ref:t}))}),JA=e=>Array.isArray(e)?e.flatMap(t=>JA(t&&t.type===y.Fragment?t.props.children:t)):[e],e_=({children:e,location:t})=>{const r=rc(),[n]=xu(r);for(const a of JA(e)){let i=0;if(y.isValidElement(a)&&(i=ZA(r.parser,a.props.path,t||n,a.props.nest))[0])return y.cloneElement(a,{match:i})}return null},YI=e=>{const{to:t,href:r=t}=e,n=rc(),[,a]=xu(n),i=wy(()=>a(t||r,e)),{ssrContext:o}=n;return WA(()=>{i()},[]),o&&(o.redirectTo=t),null};var yh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xh=typeof window=="undefined"||"Deno"in globalThis;function An(){}function XI(e,t){return typeof e=="function"?e(t):e}function ZI(e){return typeof e=="number"&&e>=0&&e!==1/0}function QI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function og(e,t){return typeof e=="function"?e(t):e}function JI(e,t){return typeof e=="function"?e(t):e}function l0(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:c}=e;if(o){if(n){if(t.queryHash!==Sy(o,t.options))return!1}else if(!hl(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||i&&!i(t))}function u0(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(fl(t.options.mutationKey)!==fl(i))return!1}else if(!hl(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Sy(e,t){return((t==null?void 0:t.queryKeyHashFn)||fl)(e)}function fl(e){return JSON.stringify(e,(t,r)=>cg(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function hl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>hl(e[r],t[r])):!1}function t_(e,t){if(e===t)return e;const r=d0(e)&&d0(t);if(r||cg(e)&&cg(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,c=r?[]:{},l=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:i[d];(!r&&l.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(c[f]=void 0,u++):(c[f]=t_(e[f],t[f]),c[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:c}return t}function d0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cg(e){if(!f0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!f0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function f0(e){return Object.prototype.toString.call(e)==="[object Object]"}function e$(e){return new Promise(t=>{setTimeout(t,e)})}function t$(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?t_(e,t):t}function r$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function n$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ay=Symbol();function r_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ay?()=>Promise.reject(new Error("Missing queryFn: '".concat(e.queryHash,"'"))):e.queryFn}var Ki,ei,io,dA,a$=(dA=class extends yh{constructor(){super();at(this,Ki);at(this,ei);at(this,io);Ve(this,io,t=>{if(!xh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,ei)||this.setEventListener(te(this,io))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,ei))==null||t.call(this),Ve(this,ei,void 0))}setEventListener(t){var r;Ve(this,io,t),(r=te(this,ei))==null||r.call(this),Ve(this,ei,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,Ki)!==t&&(Ve(this,Ki,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,Ki)=="boolean"?te(this,Ki):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ki=new WeakMap,ei=new WeakMap,io=new WeakMap,dA),n_=new a$,so,ti,oo,fA,i$=(fA=class extends yh{constructor(){super();at(this,so,!0);at(this,ti);at(this,oo);Ve(this,oo,t=>{if(!xh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,ti)||this.setEventListener(te(this,oo))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,ti))==null||t.call(this),Ve(this,ti,void 0))}setEventListener(t){var r;Ve(this,oo,t),(r=te(this,ti))==null||r.call(this),Ve(this,ti,t(this.setOnline.bind(this)))}setOnline(t){te(this,so)!==t&&(Ve(this,so,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,so)}},so=new WeakMap,ti=new WeakMap,oo=new WeakMap,fA),Td=new i$;function s$(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function o$(e){return Math.min(1e3*Ku(2,e),3e4)}function a_(e){return(e!=null?e:"online")==="online"?Td.isOnline():!0}var i_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function tp(e){return e instanceof i_}function s_(e){let t=!1,r=0,n=!1,a;const i=s$(),o=p=>{var g;n||(h(new i_(p)),(g=e.abort)==null||g.call(e))},c=()=>{t=!0},l=()=>{t=!1},u=()=>n_.isFocused()&&(e.networkMode==="always"||Td.isOnline())&&e.canRun(),d=()=>a_(e.networkMode)&&e.canRun(),f=p=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),i.resolve(p))},h=p=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var g;a=b=>{(n||u())&&p(b)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g!=null?g:e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S,P,k;if(n)return;const x=(S=e.retry)!=null?S:xh?0:3,j=(P=e.retryDelay)!=null?P:o$,N=typeof j=="function"?j(r,b):j,w=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!w){h(b);return}r++,(k=e.onFail)==null||k.call(e,r,b),e$(N).then(()=>u()?void 0:m()).then(()=>{t?h(b):v()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:c,continueRetry:l,canStart:d,start:()=>(d()?v():m().then(v),i)}}var c$=e=>setTimeout(e,0);function l$(){let e=[],t=0,r=c=>{c()},n=c=>{c()},a=c$;const i=c=>{t?e.push(c):a(()=>{r(c)})},o=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(l=>{r(l)})})})};return{batch:c=>{let l;t++;try{l=c()}finally{t--,t||o()}return l},batchCalls:c=>(...l)=>{i(()=>{c(...l)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var Cr=l$(),Gi,hA,o_=(hA=class{constructor(){at(this,Gi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZI(this.gcTime)&&Ve(this,Gi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e!=null?e:xh?1/0:5*60*1e3)}clearGcTimeout(){te(this,Gi)&&(clearTimeout(te(this,Gi)),Ve(this,Gi,void 0))}},Gi=new WeakMap,hA),co,Yi,cn,Xi,xr,pu,Zi,_n,va,mA,u$=(mA=class extends o_{constructor(t){var r;super();at(this,_n);at(this,co);at(this,Yi);at(this,cn);at(this,Xi);at(this,xr);at(this,pu);at(this,Zi);Ve(this,Zi,!1),Ve(this,pu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ve(this,Xi,t.client),Ve(this,cn,te(this,Xi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ve(this,co,f$(this.options)),this.state=(r=t.state)!=null?r:te(this,co),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,xr))==null?void 0:t.promise}setOptions(t){this.options=A(A({},te(this,pu)),t),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,cn).remove(this)}setData(t,r){const n=t$(this.state.data,t,this.options);return yr(this,_n,va).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){yr(this,_n,va).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=te(this,xr))==null?void 0:n.promise;return(a=te(this,xr))==null||a.cancel(t),r?r.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,co))}isActive(){return this.observers.some(t=>JI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ay||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>og(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!QI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,xr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,xr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,cn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,xr)&&(te(this,Zi)?te(this,xr).cancel({revert:!0}):te(this,xr).cancelRetry()),this.scheduleGc()),te(this,cn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yr(this,_n,va).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,xr))return te(this,xr).continueRetry(),te(this,xr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ve(this,Zi,!0),n.signal)})},i=()=>{const h=r_(this.options,r),v=(()=>{const p={client:te(this,Xi),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return Ve(this,Zi,!1),this.options.persister?this.options.persister(h,v,this):h(v)},c=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,Xi),state:this.state,fetchFn:i};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(c,this),Ve(this,Yi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&yr(this,_n,va).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta});const l=h=>{var m,v,p,g;tp(h)&&h.silent||yr(this,_n,va).call(this,{type:"error",error:h}),tp(h)||((v=(m=te(this,cn).config).onError)==null||v.call(m,h,this),(g=(p=te(this,cn).config).onSettled)==null||g.call(p,this.state.data,h,this)),this.scheduleGc()};return Ve(this,xr,s_({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,v,p,g;if(h===void 0){l(new Error("".concat(this.queryHash," data is undefined")));return}try{this.setData(h)}catch(b){l(b);return}(v=(m=te(this,cn).config).onSuccess)==null||v.call(m,h,this),(g=(p=te(this,cn).config).onSettled)==null||g.call(p,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{yr(this,_n,va).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{yr(this,_n,va).call(this,{type:"pause"})},onContinue:()=>{yr(this,_n,va).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),te(this,xr).start()}},co=new WeakMap,Yi=new WeakMap,cn=new WeakMap,Xi=new WeakMap,xr=new WeakMap,pu=new WeakMap,Zi=new WeakMap,_n=new WeakSet,va=function(t){const r=n=>{var a,i;switch(t.type){case"failed":return D(A({},n),{fetchFailureCount:t.failureCount,fetchFailureReason:t.error});case"pause":return D(A({},n),{fetchStatus:"paused"});case"continue":return D(A({},n),{fetchStatus:"fetching"});case"fetch":return D(A(A({},n),d$(n.data,this.options)),{fetchMeta:(a=t.meta)!=null?a:null});case"success":return Ve(this,Yi,void 0),A(D(A({},n),{data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(i=t.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success"}),!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const o=t.error;return tp(o)&&o.revert&&te(this,Yi)?D(A({},te(this,Yi)),{fetchStatus:"idle"}):D(A({},n),{error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"});case"invalidate":return D(A({},n),{isInvalidated:!0});case"setState":return A(A({},n),t.state)}};this.state=r(this.state),Cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,cn).notify({query:this,type:"updated",action:t})})},mA);function d$(e,t){return A({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:a_(t.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}function f$(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n!=null?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wn,pA,h$=(pA=class extends yh{constructor(t={}){super();at(this,Wn);this.config=t,Ve(this,Wn,new Map)}build(t,r,n){var c;const a=r.queryKey,i=(c=r.queryHash)!=null?c:Sy(a,r);let o=this.get(i);return o||(o=new u$({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){te(this,Wn).has(t.queryHash)||(te(this,Wn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,Wn).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,Wn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Cr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,Wn).get(t)}getAll(){return[...te(this,Wn).values()]}find(t){const r=A({exact:!0},t);return this.getAll().find(n=>l0(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>l0(t,n)):r}notify(t){Cr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Cr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Cr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wn=new WeakMap,pA),Vn,_r,Qi,Hn,Ha,gA,m$=(gA=class extends o_{constructor(t){super();at(this,Hn);at(this,Vn);at(this,_r);at(this,Qi);this.mutationId=t.mutationId,Ve(this,_r,t.mutationCache),Ve(this,Vn,[]),this.state=t.state||p$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,Vn).includes(t)||(te(this,Vn).push(t),this.clearGcTimeout(),te(this,_r).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ve(this,Vn,te(this,Vn).filter(r=>r!==t)),this.scheduleGc(),te(this,_r).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,Vn).length||(this.state.status==="pending"?this.scheduleGc():te(this,_r).remove(this))}continue(){var t,r;return(r=(t=te(this,Qi))==null?void 0:t.continue())!=null?r:this.execute(this.state.variables)}execute(t){return G(this,null,function*(){var i,o,c,l,u,d,f,h,m,v,p,g,b,x,j,N,w,S,P,k,T;const r=()=>{yr(this,Hn,Ha).call(this,{type:"continue"})};Ve(this,Qi,s_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,_)=>{yr(this,Hn,Ha).call(this,{type:"failed",failureCount:E,error:_})},onPause:()=>{yr(this,Hn,Ha).call(this,{type:"pause"})},onContinue:r,retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,_r).canRun(this)}));const n=this.state.status==="pending",a=!te(this,Qi).canStart();try{if(n)r();else{yr(this,Hn,Ha).call(this,{type:"pending",variables:t,isPaused:a}),yield(c=(o=te(this,_r).config).onMutate)==null?void 0:c.call(o,t,this);const _=yield(u=(l=this.options).onMutate)==null?void 0:u.call(l,t);_!==this.state.context&&yr(this,Hn,Ha).call(this,{type:"pending",context:_,variables:t,isPaused:a})}const E=yield te(this,Qi).start();return yield(f=(d=te(this,_r).config).onSuccess)==null?void 0:f.call(d,E,t,this.state.context,this),yield(m=(h=this.options).onSuccess)==null?void 0:m.call(h,E,t,this.state.context),yield(p=(v=te(this,_r).config).onSettled)==null?void 0:p.call(v,E,null,this.state.variables,this.state.context,this),yield(b=(g=this.options).onSettled)==null?void 0:b.call(g,E,null,t,this.state.context),yr(this,Hn,Ha).call(this,{type:"success",data:E}),E}catch(E){try{throw yield(j=(x=te(this,_r).config).onError)==null?void 0:j.call(x,E,t,this.state.context,this),yield(w=(N=this.options).onError)==null?void 0:w.call(N,E,t,this.state.context),yield(P=(S=te(this,_r).config).onSettled)==null?void 0:P.call(S,void 0,E,this.state.variables,this.state.context,this),yield(T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,E,t,this.state.context),E}finally{yr(this,Hn,Ha).call(this,{type:"error",error:E})}}finally{te(this,_r).runNext(this)}})}},Vn=new WeakMap,_r=new WeakMap,Qi=new WeakMap,Hn=new WeakSet,Ha=function(t){const r=n=>{switch(t.type){case"failed":return D(A({},n),{failureCount:t.failureCount,failureReason:t.error});case"pause":return D(A({},n),{isPaused:!0});case"continue":return D(A({},n),{isPaused:!1});case"pending":return D(A({},n),{context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()});case"success":return D(A({},n),{data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return D(A({},n),{data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"})}};this.state=r(this.state),Cr.batch(()=>{te(this,Vn).forEach(n=>{n.onMutationUpdate(t)}),te(this,_r).notify({mutation:this,type:"updated",action:t})})},gA);function p$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wa,Pn,gu,vA,g$=(vA=class extends yh{constructor(t={}){super();at(this,wa);at(this,Pn);at(this,gu);this.config=t,Ve(this,wa,new Set),Ve(this,Pn,new Map),Ve(this,gu,0)}build(t,r,n){const a=new m$({mutationCache:this,mutationId:++Gu(this,gu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){te(this,wa).add(t);const r=Yu(t);if(typeof r=="string"){const n=te(this,Pn).get(r);n?n.push(t):te(this,Pn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,wa).delete(t)){const r=Yu(t);if(typeof r=="string"){const n=te(this,Pn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&te(this,Pn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Yu(t);if(typeof r=="string"){const n=te(this,Pn).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n,a;const r=Yu(t);if(typeof r=="string"){const i=(n=te(this,Pn).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(a=i==null?void 0:i.continue())!=null?a:Promise.resolve()}else return Promise.resolve()}clear(){Cr.batch(()=>{te(this,wa).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,wa).clear(),te(this,Pn).clear()})}getAll(){return Array.from(te(this,wa))}find(t){const r=A({exact:!0},t);return this.getAll().find(n=>u0(r,n))}findAll(t={}){return this.getAll().filter(r=>u0(t,r))}notify(t){Cr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Cr.batch(()=>Promise.all(t.map(r=>r.continue().catch(An))))}},wa=new WeakMap,Pn=new WeakMap,gu=new WeakMap,vA);function Yu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function h0(e){return{onFetch:(t,r)=>{var d,f,h,m,v;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},l=0;const u=()=>G(this,null,function*(){var j;let p=!1;const g=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=r_(t.options,t.fetchOptions),x=(N,w,S)=>G(this,null,function*(){if(p)return Promise.reject();if(w==null&&N.pages.length)return Promise.resolve(N);const k=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:w,direction:S?"backward":"forward",meta:t.options.meta};return g(O),O})(),T=yield b(k),{maxPages:E}=t.options,_=S?n$:r$;return{pages:_(N.pages,T,E),pageParams:_(N.pageParams,w,E)}});if(a&&i.length){const N=a==="backward",w=N?v$:m0,S={pages:i,pageParams:o},P=w(n,S);c=yield x(S,P,N)}else{const N=e!=null?e:i.length;do{const w=l===0?(j=o[0])!=null?j:n.initialPageParam:m0(n,c);if(l>0&&w==null)break;c=yield x(c,w),l++}while(l<N)}return c});t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function m0(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function v$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Dt,ri,ni,lo,uo,ai,fo,ho,yA,y$=(yA=class{constructor(e={}){at(this,Dt);at(this,ri);at(this,ni);at(this,lo);at(this,uo);at(this,ai);at(this,fo);at(this,ho);Ve(this,Dt,e.queryCache||new h$),Ve(this,ri,e.mutationCache||new g$),Ve(this,ni,e.defaultOptions||{}),Ve(this,lo,new Map),Ve(this,uo,new Map),Ve(this,ai,0)}mount(){Gu(this,ai)._++,te(this,ai)===1&&(Ve(this,fo,n_.subscribe(e=>G(this,null,function*(){e&&(yield this.resumePausedMutations(),te(this,Dt).onFocus())}))),Ve(this,ho,Td.subscribe(e=>G(this,null,function*(){e&&(yield this.resumePausedMutations(),te(this,Dt).onOnline())}))))}unmount(){var e,t;Gu(this,ai)._--,te(this,ai)===0&&((e=te(this,fo))==null||e.call(this),Ve(this,fo,void 0),(t=te(this,ho))==null||t.call(this),Ve(this,ho,void 0))}isFetching(e){return te(this,Dt).findAll(D(A({},e),{fetchStatus:"fetching"})).length}isMutating(e){return te(this,ri).findAll(D(A({},e),{status:"pending"})).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,Dt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=te(this,Dt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(og(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return te(this,Dt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=te(this,Dt).get(n.queryHash),i=a==null?void 0:a.state.data,o=XI(t,i);if(o!==void 0)return te(this,Dt).build(this,n).setData(o,D(A({},r),{manual:!0}))}setQueriesData(e,t,r){return Cr.batch(()=>te(this,Dt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,Dt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,Dt);Cr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,Dt);return Cr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries(A({type:"active"},e),t)))}cancelQueries(e,t={}){const r=A({revert:!0},t),n=Cr.batch(()=>te(this,Dt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(An).catch(An)}invalidateQueries(e,t={}){return Cr.batch(()=>{var r,n;return te(this,Dt).findAll(e).forEach(a=>{a.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(D(A({},e),{type:(n=(r=e==null?void 0:e.refetchType)!=null?r:e==null?void 0:e.type)!=null?n:"active"}),t)})}refetchQueries(e,t={}){var a;const r=D(A({},t),{cancelRefetch:(a=t.cancelRefetch)!=null?a:!0}),n=Cr.batch(()=>te(this,Dt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(An)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(An)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,Dt).build(this,t);return r.isStaleByTime(og(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(An).catch(An)}fetchInfiniteQuery(e){return e.behavior=h0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(An).catch(An)}ensureInfiniteQueryData(e){return e.behavior=h0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Td.isOnline()?te(this,ri).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Dt)}getMutationCache(){return te(this,ri)}getDefaultOptions(){return te(this,ni)}setDefaultOptions(e){Ve(this,ni,e)}setQueryDefaults(e,t){te(this,lo).set(fl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,lo).values()],r={};return t.forEach(n=>{hl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){te(this,uo).set(fl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,uo).values()],r={};return t.forEach(n=>{hl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t=D(A(A(A({},te(this,ni).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=Sy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ay&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:D(A(A(A({},te(this,ni).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){te(this,Dt).clear(),te(this,ri).clear()}},Dt=new WeakMap,ri=new WeakMap,ni=new WeakMap,lo=new WeakMap,uo=new WeakMap,ai=new WeakMap,fo=new WeakMap,ho=new WeakMap,yA),x$=y.createContext(void 0),b$=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(x$.Provider,{value:e,children:t}));function w$(e){return G(this,null,function*(){if(!e.ok){const t=(yield e.text())||e.statusText;throw new Error("".concat(e.status,": ").concat(t))}})}const j$=({on401:e})=>r=>G(Vu,[r],function*({queryKey:t}){const n=yield fetch(t[0],{credentials:"include"});return yield w$(n),yield n.json()}),N$=new y$({defaultOptions:{queries:{queryFn:j$({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function p0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function bh(...e){return t=>{let r=!1;const n=e.map(a=>{const i=p0(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():p0(e[a],null)}}}}function Xe(...e){return y.useCallback(bh(...e),e)}function S$(e,t){const r=y.createContext(t),n=i=>{const u=i,{children:o}=u,c=W(u,["children"]),l=y.useMemo(()=>c,Object.values(c));return s.jsx(r.Provider,{value:l,children:o})};n.displayName=e+"Provider";function a(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error("`".concat(i,"` must be used within `").concat(e,"`"))}return[n,a]}function nn(e,t=[]){let r=[];function n(i,o){const c=y.createContext(o),l=r.length;r=[...r,o];const u=f=>{var x;const b=f,{scope:h,children:m}=b,v=W(b,["scope","children"]),p=((x=h==null?void 0:h[e])==null?void 0:x[l])||c,g=y.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[l])||c,v=y.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error("`".concat(f,"` must be used within `").concat(i,"`"))}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(c){const l=(c==null?void 0:c[e])||i;return y.useMemo(()=>({["__scope".concat(e)]:D(A({},c),{[e]:l})}),[c,l])}};return a.scopeName=e,[n,A$(a,...t)]}function A$(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)["__scope".concat(u)];return A(A({},c),f)},{});return y.useMemo(()=>({["__scope".concat(t.scopeName)]:o}),[o])}};return r.scopeName=t.scopeName,r}function fi(e){const t=_$(e),r=y.forwardRef((n,a)=>{const u=n,{children:i}=u,o=W(u,["children"]),c=y.Children.toArray(i),l=c.find(P$);if(l){const d=l.props.children,f=c.map(h=>h===l?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return s.jsx(t,D(A({},o),{ref:a,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null}))}return s.jsx(t,D(A({},o),{ref:a,children:i}))});return r.displayName="".concat(e,".Slot"),r}var c_=fi("Slot");function _$(e){const t=y.forwardRef((r,n)=>{const o=r,{children:a}=o,i=W(o,["children"]);if(y.isValidElement(a)){const c=O$(a),l=C$(i,a.props);return a.type!==y.Fragment&&(l.ref=n?bh(n,c):c),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}var l_=Symbol("radix.slottable");function u_(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName="".concat(e,".Slottable"),t.__radixId=l_,t}function P$(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===l_}function C$(e,t){const r=A({},t);for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const l=i(...c);return a(...c),l}:a&&(r[n]=a):n==="style"?r[n]=A(A({},a),i):n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return A(A({},e),r)}function O$(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var E$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=E$.reduce((e,t)=>{const r=fi("Primitive.".concat(t)),n=y.forwardRef((a,i)=>{const u=a,{asChild:o}=u,c=W(u,["asChild"]),l=o?r:t;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,D(A({},c),{ref:i}))});return n.displayName="Primitive.".concat(t),D(A({},e),{[t]:n})},{});function d_(e,t){e&&vu.flushSync(()=>e.dispatchEvent(t))}function gr(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function k$(e,t=globalThis==null?void 0:globalThis.document){const r=gr(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var T$="DismissableLayer",lg="dismissableLayer.update",D$="dismissableLayer.pointerDownOutside",M$="dismissableLayer.focusOutside",g0,f_=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nc=y.forwardRef((e,t)=>{var k;const P=e,{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c}=P,l=W(P,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),u=y.useContext(f_),[d,f]=y.useState(null),h=(k=d==null?void 0:d.ownerDocument)!=null?k:globalThis==null?void 0:globalThis.document,[,m]=y.useState({}),v=Xe(t,T=>f(T)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(g),x=d?p.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,N=x>=b,w=R$(T=>{const E=T.target,_=[...u.branches].some(O=>O.contains(E));!N||_||(a==null||a(T),o==null||o(T),T.defaultPrevented||c==null||c())},h),S=L$(T=>{const E=T.target;[...u.branches].some(O=>O.contains(E))||(i==null||i(T),o==null||o(T),T.defaultPrevented||c==null||c())},h);return k$(T=>{x===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(g0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),v0(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=g0)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),v0())},[d,u]),y.useEffect(()=>{const T=()=>m({});return document.addEventListener(lg,T),()=>document.removeEventListener(lg,T)},[]),s.jsx($e.div,D(A({},l),{ref:v,style:A({pointerEvents:j?N?"auto":"none":void 0},e.style),onFocusCapture:pe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,w.onPointerDownCapture)}))});nc.displayName=T$;var I$="DismissableLayerBranch",$$=y.forwardRef((e,t)=>{const r=y.useContext(f_),n=y.useRef(null),a=Xe(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx($e.div,D(A({},e),{ref:a}))});$$.displayName=I$;function R$(e,t=globalThis==null?void 0:globalThis.document){const r=gr(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let l=function(){h_(D$,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function L$(e,t=globalThis==null?void 0:globalThis.document){const r=gr(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&h_(M$,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function v0(){const e=new CustomEvent(lg);document.dispatchEvent(e)}function h_(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?d_(a,i):a.dispatchEvent(i)}var vr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},F$=vy[" useId ".trim().toString()]||(()=>{}),B$=0;function Mn(e){const[t,r]=y.useState(F$());return vr(()=>{r(n=>n!=null?n:String(B$++))},[e]),t?"radix-".concat(t):""}const z$=["top","right","bottom","left"],hi=Math.min,Gr=Math.max,Dd=Math.round,Xu=Math.floor,Jn=e=>({x:e,y:e}),U$={left:"right",right:"left",bottom:"top",top:"bottom"},W$={start:"end",end:"start"};function ug(e,t,r){return Gr(e,hi(t,r))}function Ea(e,t){return typeof e=="function"?e(t):e}function ka(e){return e.split("-")[0]}function ac(e){return e.split("-")[1]}function _y(e){return e==="x"?"y":"x"}function Py(e){return e==="y"?"height":"width"}function Gn(e){return["top","bottom"].includes(ka(e))?"y":"x"}function Cy(e){return _y(Gn(e))}function V$(e,t,r){r===void 0&&(r=!1);const n=ac(e),a=Cy(e),i=Py(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Md(o)),[o,Md(o)]}function H$(e){const t=Md(e);return[dg(e),t,dg(t)]}function dg(e){return e.replace(/start|end/g,t=>W$[t])}function q$(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function K$(e,t,r,n){const a=ac(e);let i=q$(ka(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(dg)))),i}function Md(e){return e.replace(/left|right|bottom|top/g,t=>U$[t])}function G$(e){return A({top:0,right:0,bottom:0,left:0},e)}function m_(e){return typeof e!="number"?G$(e):{top:e,right:e,bottom:e,left:e}}function Id(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function y0(e,t,r){let{reference:n,floating:a}=e;const i=Gn(t),o=Cy(t),c=Py(o),l=ka(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[c]/2-a[c]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(ac(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Y$=(e,t,r)=>G(Vu,null,function*(){const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),l=yield o.isRTL==null?void 0:o.isRTL(t);let u=yield o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=y0(u,n,l),h=n,m={},v=0;for(let p=0;p<c.length;p++){const{name:g,fn:b}=c[p],{x,y:j,data:N,reset:w}=yield b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x!=null?x:d,f=j!=null?j:f,m=D(A({},m),{[g]:A(A({},m[g]),N)}),w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(u=w.rects===!0?yield o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:d,y:f}=y0(u,h,l)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}});function ml(e,t){return G(this,null,function*(){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ea(t,e),v=m_(m),g=c[h?f==="floating"?"reference":"floating":f],b=Id(yield i.getClippingRect({element:(r=yield i.isElement==null?void 0:i.isElement(g))==null||r?g:g.contextElement||(yield i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=yield i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating),N=(yield i.isElement==null?void 0:i.isElement(j))?(yield i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},w=Id(i.convertOffsetParentRelativeRectToViewportRelativeRect?yield i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:j,strategy:l}):x);return{top:(b.top-w.top+v.top)/N.y,bottom:(w.bottom-b.bottom+v.bottom)/N.y,left:(b.left-w.left+v.left)/N.x,right:(w.right-b.right+v.right)/N.x}})}const X$=e=>({name:"arrow",options:e,fn(r){return G(this,null,function*(){const{x:n,y:a,placement:i,rects:o,platform:c,elements:l,middlewareData:u}=r,{element:d,padding:f=0}=Ea(e,r)||{};if(d==null)return{};const h=m_(f),m={x:n,y:a},v=Cy(i),p=Py(v),g=yield c.getDimensions(d),b=v==="y",x=b?"top":"left",j=b?"bottom":"right",N=b?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[v]-m[v]-o.floating[p],S=m[v]-o.reference[v],P=yield c.getOffsetParent==null?void 0:c.getOffsetParent(d);let k=P?P[N]:0;(!k||!(yield c.isElement==null?void 0:c.isElement(P)))&&(k=l.floating[N]||o.floating[p]);const T=w/2-S/2,E=k/2-g[p]/2-1,_=hi(h[x],E),O=hi(h[j],E),C=_,R=k-g[p]-O,I=k/2-g[p]/2+T,F=ug(C,I,R),B=!u.arrow&&ac(i)!=null&&I!==F&&o.reference[p]/2-(I<C?_:O)-g[p]/2<0,L=B?I<C?I-C:I-R:0;return{[v]:m[v]+L,data:A({[v]:F,centerOffset:I-F-L},B&&{alignmentOffset:L}),reset:B}})}}),Z$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,fn(r){return G(this,null,function*(){var n,a;const{placement:i,middlewareData:o,rects:c,initialPlacement:l,platform:u,elements:d}=r,I=Ea(e,r),{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0}=I,b=W(I,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=ka(i),j=Gn(l),N=ka(l)===l,w=yield u.isRTL==null?void 0:u.isRTL(d.floating),S=m||(N||!g?[Md(l)]:H$(l)),P=p!=="none";!m&&P&&S.push(...K$(l,g,p,w));const k=[l,...S],T=yield ml(r,b),E=[];let _=((a=o.flip)==null?void 0:a.overflows)||[];if(f&&E.push(T[x]),h){const F=V$(i,c,w);E.push(T[F[0]],T[F[1]])}if(_=[..._,{placement:i,overflows:E}],!E.every(F=>F<=0)){var O,C;const F=(((O=o.flip)==null?void 0:O.index)||0)+1,B=k[F];if(B&&(!(h==="alignment"?j!==Gn(B):!1)||_.every(U=>U.overflows[0]>0&&Gn(U.placement)===j)))return{data:{index:F,overflows:_},reset:{placement:B}};let L=(C=_.filter(z=>z.overflows[0]<=0).sort((z,U)=>z.overflows[1]-U.overflows[1])[0])==null?void 0:C.placement;if(!L)switch(v){case"bestFit":{var R;const z=(R=_.filter(U=>{if(P){const Z=Gn(U.placement);return Z===j||Z==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(Z=>Z>0).reduce((Z,K)=>Z+K,0)]).sort((U,Z)=>U[1]-Z[1])[0])==null?void 0:R[0];z&&(L=z);break}case"initialPlacement":L=l;break}if(i!==L)return{reset:{placement:L}}}return{}})}}};function x0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function b0(e){return z$.some(t=>e[t]>=0)}const Q$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,fn(r){return G(this,null,function*(){const{rects:n}=r,o=Ea(e,r),{strategy:a="referenceHidden"}=o,i=W(o,["strategy"]);switch(a){case"referenceHidden":{const c=yield ml(r,D(A({},i),{elementContext:"reference"})),l=x0(c,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:b0(l)}}}case"escaped":{const c=yield ml(r,D(A({},i),{altBoundary:!0})),l=x0(c,n.floating);return{data:{escapedOffsets:l,escaped:b0(l)}}}default:return{}}})}}};function J$(e,t){return G(this,null,function*(){const{placement:r,platform:n,elements:a}=e,i=yield n.isRTL==null?void 0:n.isRTL(a.floating),o=ka(r),c=ac(r),l=Gn(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=Ea(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof v=="number"&&(m=c==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}})}const eR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(r){return G(this,null,function*(){var n,a;const{x:i,y:o,placement:c,middlewareData:l}=r,u=yield J$(r,e);return c===((n=l.offset)==null?void 0:n.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:D(A({},u),{placement:c})}})}}},tR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,fn(r){return G(this,null,function*(){const{x:n,y:a,placement:i}=r,b=Ea(e,r),{mainAxis:o=!0,crossAxis:c=!1,limiter:l={fn:x=>{let{x:j,y:N}=x;return{x:j,y:N}}}}=b,u=W(b,["mainAxis","crossAxis","limiter"]),d={x:n,y:a},f=yield ml(r,u),h=Gn(ka(i)),m=_y(h);let v=d[m],p=d[h];if(o){const x=m==="y"?"top":"left",j=m==="y"?"bottom":"right",N=v+f[x],w=v-f[j];v=ug(N,v,w)}if(c){const x=h==="y"?"top":"left",j=h==="y"?"bottom":"right",N=p+f[x],w=p-f[j];p=ug(N,p,w)}const g=l.fn(D(A({},r),{[m]:v,[h]:p}));return D(A({},g),{data:{x:g.x-n,y:g.y-a,enabled:{[m]:o,[h]:c}}})})}}},rR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=Ea(e,t),d={x:r,y:n},f=Gn(a),h=_y(f);let m=d[h],v=d[f];const p=Ea(c,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:A({mainAxis:0,crossAxis:0},p);if(l){const j=h==="y"?"height":"width",N=i.reference[h]-i.floating[j]+g.mainAxis,w=i.reference[h]+i.reference[j]-g.mainAxis;m<N?m=N:m>w&&(m=w)}if(u){var b,x;const j=h==="y"?"width":"height",N=["top","left"].includes(ka(a)),w=i.reference[f]-i.floating[j]+(N&&((b=o.offset)==null?void 0:b[f])||0)+(N?0:g.crossAxis),S=i.reference[f]+i.reference[j]+(N?0:((x=o.offset)==null?void 0:x[f])||0)-(N?g.crossAxis:0);v<w?v=w:v>S&&(v=S)}return{[h]:m,[f]:v}}}},nR=function(e){return e===void 0&&(e={}),{name:"size",options:e,fn(r){return G(this,null,function*(){var n,a;const{placement:i,rects:o,platform:c,elements:l}=r,_=Ea(e,r),{apply:u=()=>{}}=_,d=W(_,["apply"]),f=yield ml(r,d),h=ka(i),m=ac(i),v=Gn(i)==="y",{width:p,height:g}=o.floating;let b,x;h==="top"||h==="bottom"?(b=h,x=m===((yield c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,b=m==="end"?"top":"bottom");const j=g-f.top-f.bottom,N=p-f.left-f.right,w=hi(g-f[b],j),S=hi(p-f[x],N),P=!r.middlewareData.shift;let k=w,T=S;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(T=N),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(k=j),P&&!m){const O=Gr(f.left,0),C=Gr(f.right,0),R=Gr(f.top,0),I=Gr(f.bottom,0);v?T=p-2*(O!==0||C!==0?O+C:Gr(f.left,f.right)):k=g-2*(R!==0||I!==0?R+I:Gr(f.top,f.bottom))}yield u(D(A({},r),{availableWidth:T,availableHeight:k}));const E=yield c.getDimensions(l.floating);return p!==E.width||g!==E.height?{reset:{rects:!0}}:{}})}}};function wh(){return typeof window!="undefined"}function ic(e){return p_(e)?(e.nodeName||"").toLowerCase():"#document"}function Qr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oa(e){var t;return(t=(p_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function p_(e){return wh()?e instanceof Node||e instanceof Qr(e).Node:!1}function $n(e){return wh()?e instanceof Element||e instanceof Qr(e).Element:!1}function na(e){return wh()?e instanceof HTMLElement||e instanceof Qr(e).HTMLElement:!1}function w0(e){return!wh()||typeof ShadowRoot=="undefined"?!1:e instanceof ShadowRoot||e instanceof Qr(e).ShadowRoot}function bu(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Rn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function aR(e){return["table","td","th"].includes(ic(e))}function jh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(r){return!1}})}function Oy(e){const t=Ey(),r=$n(e)?Rn(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function iR(e){let t=mi(e);for(;na(t)&&!po(t);){if(Oy(t))return t;if(jh(t))return null;t=mi(t)}return null}function Ey(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function po(e){return["html","body","#document"].includes(ic(e))}function Rn(e){return Qr(e).getComputedStyle(e)}function Nh(e){return $n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function mi(e){if(ic(e)==="html")return e;const t=e.assignedSlot||e.parentNode||w0(e)&&e.host||oa(e);return w0(t)?t.host:t}function g_(e){const t=mi(e);return po(t)?e.ownerDocument?e.ownerDocument.body:e.body:na(t)&&bu(t)?t:g_(t)}function pl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=g_(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Qr(a);if(i){const c=fg(o);return t.concat(o,o.visualViewport||[],bu(a)?a:[],c&&r?pl(c):[])}return t.concat(a,pl(a,[],r))}function fg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function v_(e){const t=Rn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=na(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,c=Dd(r)!==i||Dd(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function ky(e){return $n(e)?e:e.contextElement}function Gs(e){const t=ky(e);if(!na(t))return Jn(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=v_(t);let o=(i?Dd(r.width):r.width)/n,c=(i?Dd(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const sR=Jn(0);function y_(e){const t=Qr(e);return!Ey()||!t.visualViewport?sR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qr(e)?!1:t}function is(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=ky(e);let o=Jn(1);t&&(n?$n(n)&&(o=Gs(n)):o=Gs(e));const c=oR(i,r,n)?y_(i):Jn(0);let l=(a.left+c.x)/o.x,u=(a.top+c.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Qr(i),m=n&&$n(n)?Qr(n):n;let v=h,p=fg(v);for(;p&&n&&m!==v;){const g=Gs(p),b=p.getBoundingClientRect(),x=Rn(p),j=b.left+(p.clientLeft+parseFloat(x.paddingLeft))*g.x,N=b.top+(p.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=j,u+=N,v=Qr(p),p=fg(v)}}return Id({width:d,height:f,x:l,y:u})}function Ty(e,t){const r=Nh(e).scrollLeft;return t?t.left+r:is(oa(e)).left+r}function x_(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Ty(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function cR(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=oa(n),c=t?jh(t.floating):!1;if(n===o||c&&i)return r;let l={scrollLeft:0,scrollTop:0},u=Jn(1);const d=Jn(0),f=na(n);if((f||!f&&!i)&&((ic(n)!=="body"||bu(o))&&(l=Nh(n)),na(n))){const m=is(n);u=Gs(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?x_(o,l,!0):Jn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-l.scrollTop*u.y+d.y+h.y}}function lR(e){return Array.from(e.getClientRects())}function uR(e){const t=oa(e),r=Nh(e),n=e.ownerDocument.body,a=Gr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Gr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ty(e);const c=-r.scrollTop;return Rn(n).direction==="rtl"&&(o+=Gr(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:c}}function dR(e,t){const r=Qr(e),n=oa(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,l=0;if(a){i=a.width,o=a.height;const u=Ey();(!u||u&&t==="fixed")&&(c=a.offsetLeft,l=a.offsetTop)}return{width:i,height:o,x:c,y:l}}function fR(e,t){const r=is(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=na(e)?Gs(e):Jn(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,l=a*i.x,u=n*i.y;return{width:o,height:c,x:l,y:u}}function j0(e,t,r){let n;if(t==="viewport")n=dR(e,r);else if(t==="document")n=uR(oa(e));else if($n(t))n=fR(t,r);else{const a=y_(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Id(n)}function b_(e,t){const r=mi(e);return r===t||!$n(r)||po(r)?!1:Rn(r).position==="fixed"||b_(r,t)}function hR(e,t){const r=t.get(e);if(r)return r;let n=pl(e,[],!1).filter(c=>$n(c)&&ic(c)!=="body"),a=null;const i=Rn(e).position==="fixed";let o=i?mi(e):e;for(;$n(o)&&!po(o);){const c=Rn(o),l=Oy(o);!l&&c.position==="fixed"&&(a=null),(i?!l&&!a:!l&&c.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||bu(o)&&!l&&b_(e,o))?n=n.filter(d=>d!==o):a=c,o=mi(o)}return t.set(e,n),n}function mR(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?jh(t)?[]:hR(t,this._c):[].concat(r),n],c=o[0],l=o.reduce((u,d)=>{const f=j0(t,d,a);return u.top=Gr(f.top,u.top),u.right=hi(f.right,u.right),u.bottom=hi(f.bottom,u.bottom),u.left=Gr(f.left,u.left),u},j0(t,c,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pR(e){const{width:t,height:r}=v_(e);return{width:t,height:r}}function gR(e,t,r){const n=na(t),a=oa(t),i=r==="fixed",o=is(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=Jn(0);function u(){l.x=Ty(a)}if(n||!n&&!i)if((ic(t)!=="body"||bu(a))&&(c=Nh(t)),n){const m=is(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?x_(a,c):Jn(0),f=o.left+c.scrollLeft-l.x-d.x,h=o.top+c.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function rp(e){return Rn(e).position==="static"}function N0(e,t){if(!na(e)||Rn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return oa(e)===r&&(r=r.ownerDocument.body),r}function w_(e,t){const r=Qr(e);if(jh(e))return r;if(!na(e)){let a=mi(e);for(;a&&!po(a);){if($n(a)&&!rp(a))return a;a=mi(a)}return r}let n=N0(e,t);for(;n&&aR(n)&&rp(n);)n=N0(n,t);return n&&po(n)&&rp(n)&&!Oy(n)?r:n||iR(e)||r}const vR=function(e){return G(this,null,function*(){const t=this.getOffsetParent||w_,r=this.getDimensions,n=yield r(e.floating);return{reference:gR(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})};function yR(e){return Rn(e).direction==="rtl"}const xR={convertOffsetParentRelativeRectToViewportRelativeRect:cR,getDocumentElement:oa,getClippingRect:mR,getOffsetParent:w_,getElementRects:vR,getClientRects:lR,getDimensions:pR,getScale:Gs,isElement:$n,isRTL:yR};function j_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bR(e,t){let r=null,n;const a=oa(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(c||t(),!h||!m)return;const v=Xu(f),p=Xu(a.clientWidth-(d+h)),g=Xu(a.clientHeight-(f+m)),b=Xu(d),j={rootMargin:-v+"px "+-p+"px "+-g+"px "+-b+"px",threshold:Gr(0,hi(1,l))||1};let N=!0;function w(S){const P=S[0].intersectionRatio;if(P!==l){if(!N)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!j_(u,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(w,D(A({},j),{root:a.ownerDocument}))}catch(S){r=new IntersectionObserver(w,j)}r.observe(e)}return o(!0),i}function wR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=ky(e),d=a||i?[...u?pl(u):[],...pl(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&c?bR(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let v,p=l?is(e):null;l&&g();function g(){const b=is(e);p&&!j_(p,b)&&r(),p=b,v=requestAnimationFrame(g)}return r(),()=>{var b;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const jR=eR,NR=tR,SR=Z$,AR=nR,_R=Q$,S0=X$,PR=rR,CR=(e,t,r)=>{const n=new Map,a=A({platform:xR},r),i=D(A({},a.platform),{_c:n});return Y$(e,t,D(A({},a),{platform:i}))};var OR=typeof document!="undefined",ER=function(){},wd=OR?y.useLayoutEffect:ER;function $d(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$d(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!$d(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function N_(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function A0(e,t){const r=N_(e);return Math.round(t*r)/r}function np(e){const t=y.useRef(e);return wd(()=>{t.current=e}),t}function kR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);$d(h,n)||m(n);const[v,p]=y.useState(null),[g,b]=y.useState(null),x=y.useCallback(L=>{L!==S.current&&(S.current=L,p(L))},[]),j=y.useCallback(L=>{L!==P.current&&(P.current=L,b(L))},[]),N=i||v,w=o||g,S=y.useRef(null),P=y.useRef(null),k=y.useRef(d),T=l!=null,E=np(l),_=np(a),O=np(u),C=y.useCallback(()=>{if(!S.current||!P.current)return;const L={placement:t,strategy:r,middleware:h};_.current&&(L.platform=_.current),CR(S.current,P.current,L).then(z=>{const U=D(A({},z),{isPositioned:O.current!==!1});R.current&&!$d(k.current,U)&&(k.current=U,vu.flushSync(()=>{f(U)}))})},[h,t,r,_,O]);wd(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(L=>D(A({},L),{isPositioned:!1})))},[u]);const R=y.useRef(!1);wd(()=>(R.current=!0,()=>{R.current=!1}),[]),wd(()=>{if(N&&(S.current=N),w&&(P.current=w),N&&w){if(E.current)return E.current(N,w,C);C()}},[N,w,C,E,T]);const I=y.useMemo(()=>({reference:S,floating:P,setReference:x,setFloating:j}),[x,j]),F=y.useMemo(()=>({reference:N,floating:w}),[N,w]),B=y.useMemo(()=>{const L={position:r,left:0,top:0};if(!F.floating)return L;const z=A0(F.floating,d.x),U=A0(F.floating,d.y);return c?A(D(A({},L),{transform:"translate("+z+"px, "+U+"px)"}),N_(F.floating)>=1.5&&{willChange:"transform"}):{position:r,left:z,top:U}},[r,c,F.floating,d.x,d.y]);return y.useMemo(()=>D(A({},d),{update:C,refs:I,elements:F,floatingStyles:B}),[d,C,I,F,B])}const TR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?S0({element:n.current,padding:a}).fn(r):{}:n?S0({element:n,padding:a}).fn(r):{}}}},DR=(e,t)=>D(A({},jR(e)),{options:[e,t]}),MR=(e,t)=>D(A({},NR(e)),{options:[e,t]}),IR=(e,t)=>D(A({},PR(e)),{options:[e,t]}),$R=(e,t)=>D(A({},SR(e)),{options:[e,t]}),RR=(e,t)=>D(A({},AR(e)),{options:[e,t]}),LR=(e,t)=>D(A({},_R(e)),{options:[e,t]}),FR=(e,t)=>D(A({},TR(e)),{options:[e,t]});var BR="Arrow",S_=y.forwardRef((e,t)=>{const o=e,{children:r,width:n=10,height:a=5}=o,i=W(o,["children","width","height"]);return s.jsx($e.svg,D(A({},i),{ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})}))});S_.displayName=BR;var zR=S_;function A_(e){const[t,r]=y.useState(void 0);return vr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,c=u.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Dy="Popper",[__,bi]=nn(Dy),[UR,P_]=__(Dy),C_=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return s.jsx(UR,{scope:t,anchor:n,onAnchorChange:a,children:r})};C_.displayName=Dy;var O_="PopperAnchor",E_=y.forwardRef((e,t)=>{const l=e,{__scopePopper:r,virtualRef:n}=l,a=W(l,["__scopePopper","virtualRef"]),i=P_(O_,r),o=y.useRef(null),c=Xe(t,o);return y.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx($e.div,D(A({},a),{ref:c}))});E_.displayName=O_;var My="PopperContent",[WR,VR]=__(My),k_=y.forwardRef((e,t)=>{var ue,ee,Y,Q,H,re,se,Ae;const Fe=e,{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v}=Fe,p=W(Fe,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),g=P_(My,r),[b,x]=y.useState(null),j=Xe(t,Be=>x(Be)),[N,w]=y.useState(null),S=A_(N),P=(ue=S==null?void 0:S.width)!=null?ue:0,k=(ee=S==null?void 0:S.height)!=null?ee:0,T=n+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:A({top:0,right:0,bottom:0,left:0},d),_=Array.isArray(u)?u:[u],O=_.length>0,C={padding:E,boundary:_.filter(qR),altBoundary:O},{refs:R,floatingStyles:I,placement:F,isPositioned:B,middlewareData:L}=kR({strategy:"fixed",placement:T,whileElementsMounted:(...Be)=>wR(...Be,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[DR({mainAxis:a+k,alignmentAxis:o}),l&&MR(A({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?IR():void 0},C)),l&&$R(A({},C)),RR(D(A({},C),{apply:({elements:Be,rects:lt,availableWidth:ve,availableHeight:ze})=>{const{width:$,height:V}=lt.reference,q=Be.floating.style;q.setProperty("--radix-popper-available-width","".concat(ve,"px")),q.setProperty("--radix-popper-available-height","".concat(ze,"px")),q.setProperty("--radix-popper-anchor-width","".concat($,"px")),q.setProperty("--radix-popper-anchor-height","".concat(V,"px"))}})),N&&FR({element:N,padding:c}),KR({arrowWidth:P,arrowHeight:k}),h&&LR(A({strategy:"referenceHidden"},C))]}),[z,U]=M_(F),Z=gr(v);vr(()=>{B&&(Z==null||Z())},[B,Z]);const K=(Y=L.arrow)==null?void 0:Y.x,ie=(Q=L.arrow)==null?void 0:Q.y,xe=((H=L.arrow)==null?void 0:H.centerOffset)!==0,[ke,Oe]=y.useState();return vr(()=>{b&&Oe(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:A(D(A({},I),{transform:B?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(re=L.transformOrigin)==null?void 0:re.x,(se=L.transformOrigin)==null?void 0:se.y].join(" ")}),((Ae=L.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:s.jsx(WR,{scope:r,placedSide:z,onArrowChange:w,arrowX:K,arrowY:ie,shouldHideArrow:xe,children:s.jsx($e.div,D(A({"data-side":z,"data-align":U},p),{ref:j,style:D(A({},p.style),{animation:B?void 0:"none"})}))})})});k_.displayName=My;var T_="PopperArrow",HR={top:"bottom",right:"left",bottom:"top",left:"right"},D_=y.forwardRef(function(t,r){const c=t,{__scopePopper:n}=c,a=W(c,["__scopePopper"]),i=VR(T_,n),o=HR[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(zR,D(A({},a),{ref:r,style:D(A({},a.style),{display:"block"})}))})});D_.displayName=T_;function qR(e){return e!==null}var KR=e=>({name:"transformOrigin",options:e,fn(t){var g,b,x,j,N;const{placement:r,rects:n,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,c=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[u,d]=M_(r),f={start:"0%",center:"50%",end:"100%"}[d],h=((x=(b=a.arrow)==null?void 0:b.x)!=null?x:0)+c/2,m=((N=(j=a.arrow)==null?void 0:j.y)!=null?N:0)+l/2;let v="",p="";return u==="bottom"?(v=o?f:"".concat(h,"px"),p="".concat(-l,"px")):u==="top"?(v=o?f:"".concat(h,"px"),p="".concat(n.floating.height+l,"px")):u==="right"?(v="".concat(-l,"px"),p=o?f:"".concat(m,"px")):u==="left"&&(v="".concat(n.floating.width+l,"px"),p=o?f:"".concat(m,"px")),{data:{x:v,y:p}}}});function M_(e){const[t,r="center"]=e.split("-");return[t,r]}var Sh=C_,wu=E_,Ah=k_,_h=D_,GR="Portal",ju=y.forwardRef((e,t)=>{var l;const c=e,{container:r}=c,n=W(c,["container"]),[a,i]=y.useState(!1);vr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eI.createPortal(s.jsx($e.div,D(A({},n),{ref:t})),o):null});ju.displayName=GR;function YR(e,t){return y.useReducer((r,n)=>{const a=t[r][n];return a!=null?a:r},e)}var Mr=e=>{const{present:t,children:r}=e,n=XR(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Xe(n.ref,ZR(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};Mr.displayName="Presence";function XR(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[c,l]=YR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Zu(n.current);i.current=c==="mounted"?u:"none"},[c]),vr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=Zu(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),vr(()=>{var u;if(t){let d;const f=(u=t.ownerDocument.defaultView)!=null?u:window,h=v=>{const g=Zu(n.current).includes(v.animationName);if(v.target===t&&g&&(l("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=v=>{v.target===t&&(i.current=Zu(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Zu(e){return(e==null?void 0:e.animationName)||"none"}function ZR(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var QR=vy[" useInsertionEffect ".trim().toString()]||vr;function pi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=JR({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;if(f!==c){const h=f?"controlled":"uncontrolled",m=c?"controlled":"uncontrolled";console.warn("".concat(n," is changing from ").concat(h," to ").concat(m,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}d.current=c},[c,n])}const u=y.useCallback(d=>{var f;if(c){const h=e4(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[c,e,i,o]);return[l,u]}function JR({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return QR(()=>{i.current=t},[t]),y.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function e4(e){return typeof e=="function"}var I_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),t4="VisuallyHidden",$_=y.forwardRef((e,t)=>s.jsx($e.span,D(A({},e),{ref:t,style:A(A({},I_),e.style)})));$_.displayName=t4;var r4=$_,[Ph,pxe]=nn("Tooltip",[bi]),Ch=bi(),R_="TooltipProvider",n4=700,hg="tooltip.open",[a4,Iy]=Ph(R_),L_=e=>{const{__scopeTooltip:t,delayDuration:r=n4,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=y.useRef(!0),c=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),s.jsx(a4,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};L_.displayName=R_;var gl="Tooltip",[i4,Oh]=Ph(gl),F_=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:c}=e,l=Iy(gl,e.__scopeTooltip),u=Ch(t),[d,f]=y.useState(null),h=Mn(),m=y.useRef(0),v=o!=null?o:l.disableHoverableContent,p=c!=null?c:l.delayDuration,g=y.useRef(!1),[b,x]=pi({prop:n,defaultProp:a!=null?a:!1,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(hg))):l.onClose(),i==null||i(P)},caller:gl}),j=y.useMemo(()=>b?g.current?"delayed-open":"instant-open":"closed",[b]),N=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,g.current=!1,x(!0)},[x]),w=y.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),S=y.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{g.current=!0,x(!0),m.current=0},p)},[p,x]);return y.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(Sh,D(A({},u),{children:s.jsx(i4,{scope:t,contentId:h,open:b,stateAttribute:j,trigger:d,onTriggerChange:f,onTriggerEnter:y.useCallback(()=>{l.isOpenDelayedRef.current?S():N()},[l.isOpenDelayedRef,S,N]),onTriggerLeave:y.useCallback(()=>{v?w():(window.clearTimeout(m.current),m.current=0)},[w,v]),onOpen:N,onClose:w,disableHoverableContent:v,children:r})}))};F_.displayName=gl;var mg="TooltipTrigger",B_=y.forwardRef((e,t)=>{const h=e,{__scopeTooltip:r}=h,n=W(h,["__scopeTooltip"]),a=Oh(mg,r),i=Iy(mg,r),o=Ch(r),c=y.useRef(null),l=Xe(t,c,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(wu,D(A({asChild:!0},o),{children:s.jsx($e.button,D(A({"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute},n),{ref:l,onPointerMove:pe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:pe(e.onBlur,a.onClose),onClick:pe(e.onClick,a.onClose)}))}))});B_.displayName=mg;var s4="TooltipPortal",[gxe,o4]=Ph(s4,{forceMount:void 0}),go="TooltipContent",z_=y.forwardRef((e,t)=>{const r=o4(go,e.__scopeTooltip),c=e,{forceMount:n=r.forceMount,side:a="top"}=c,i=W(c,["forceMount","side"]),o=Oh(go,e.__scopeTooltip);return s.jsx(Mr,{present:n||o.open,children:o.disableHoverableContent?s.jsx(U_,D(A({side:a},i),{ref:t})):s.jsx(c4,D(A({side:a},i),{ref:t}))})}),c4=y.forwardRef((e,t)=>{const r=Oh(go,e.__scopeTooltip),n=Iy(go,e.__scopeTooltip),a=y.useRef(null),i=Xe(t,a),[o,c]=y.useState(null),{trigger:l,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{c(null),f(!1)},[f]),m=y.useCallback((v,p)=>{const g=v.currentTarget,b={x:v.clientX,y:v.clientY},x=h4(b,g.getBoundingClientRect()),j=m4(b,x),N=p4(p.getBoundingClientRect()),w=v4([...j,...N]);c(w),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(l&&d){const v=g=>m(g,d),p=g=>m(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[l,d,m,h]),y.useEffect(()=>{if(o){const v=p=>{const g=p.target,b={x:p.clientX,y:p.clientY},x=(l==null?void 0:l.contains(g))||(d==null?void 0:d.contains(g)),j=!g4(b,o);x?h():j&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,u,h]),s.jsx(U_,D(A({},e),{ref:i}))}),[l4,u4]=Ph(gl,{isInside:!1}),d4=u_("TooltipContent"),U_=y.forwardRef((e,t)=>{const f=e,{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o}=f,c=W(f,["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"]),l=Oh(go,r),u=Ch(r),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(hg,d),()=>document.removeEventListener(hg,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=m=>{const v=m.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),s.jsx(nc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(Ah,D(A(A({"data-state":l.stateAttribute},u),c),{ref:t,style:D(A({},c.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[s.jsx(d4,{children:n}),s.jsx(l4,{scope:r,isInside:!0,children:s.jsx(r4,{id:l.contentId,role:"tooltip",children:a||n})})]}))})});z_.displayName=go;var W_="TooltipArrow",f4=y.forwardRef((e,t)=>{const o=e,{__scopeTooltip:r}=o,n=W(o,["__scopeTooltip"]),a=Ch(r);return u4(W_,r).isInside?null:s.jsx(_h,D(A(A({},a),n),{ref:t}))});f4.displayName=W_;function h4(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function m4(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function p4(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function g4(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],l=t[o],u=c.x,d=c.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function v4(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),y4(t)}function y4(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var x4=L_,b4=F_,w4=B_,V_=z_;function H_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=H_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function He(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=H_(e))&&(n&&(n+=" "),n+=t);return n}const $y="-",j4=e=>{const t=S4(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const c=o.split($y);return c[0]===""&&c.length!==1&&c.shift(),q_(c,t)||N4(o)},getConflictingClassGroupIds:(o,c)=>{const l=r[o]||[];return c&&n[o]?[...l,...n[o]]:l}}},q_=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?q_(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join($y);return(o=t.validators.find(({validator:c})=>c(i)))==null?void 0:o.classGroupId},_0=/^\[(.+)\]$/,N4=e=>{if(_0.test(e)){const t=_0.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},S4=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return _4(Object.entries(e.classGroups),r).forEach(([i,o])=>{pg(o,n,i,t)}),n},pg=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:P0(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(A4(a)){pg(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{pg(o,P0(t,i),r,n)})})},P0=(e,t)=>{let r=e;return t.split($y).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},A4=e=>e.isThemeGetter,_4=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[t+o,c])):i);return[r,a]}):e,P4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},K_="!",C4=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=c=>{const l=[];let u=0,d=0,f;for(let g=0;g<c.length;g++){let b=c[g];if(u===0){if(b===a&&(n||c.slice(g,g+i)===t)){l.push(c.slice(d,g)),d=g+i;continue}if(b==="/"){f=g;continue}}b==="["?u++:b==="]"&&u--}const h=l.length===0?c:c.substring(d),m=h.startsWith(K_),v=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return r?c=>r({className:c,parseClassName:o}):o},O4=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},E4=e=>A({cache:P4(e.cacheSize),parseClassName:C4(e)},j4(e)),k4=/\s+/,T4=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(k4);let c="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,p=n(v?h.substring(0,m):h);if(!p){if(!v){c=u+(c.length>0?" "+c:c);continue}if(p=n(h),!p){c=u+(c.length>0?" "+c:c);continue}v=!1}const g=O4(d).join(":"),b=f?g+K_:g,x=b+p;if(i.includes(x))continue;i.push(x);const j=a(p,v);for(let N=0;N<j.length;++N){const w=j[N];i.push(b+w)}c=u+(c.length>0?" "+c:c)}return c};function D4(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=G_(t))&&(n&&(n+=" "),n+=r);return n}const G_=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=G_(e[n]))&&(r&&(r+=" "),r+=t);return r};function M4(e,...t){let r,n,a,i=o;function o(l){const u=t.reduce((d,f)=>f(d),e());return r=E4(u),n=r.cache.get,a=r.cache.set,i=c,c(l)}function c(l){const u=n(l);if(u)return u;const d=T4(l,r);return a(l,d),d}return function(){return i(D4.apply(null,arguments))}}const Pt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Y_=/^\[(?:([a-z-]+):)?(.+)\]$/i,I4=/^\d+\/\d+$/,$4=new Set(["px","full","screen"]),R4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,L4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,B4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fa=e=>Ys(e)||$4.has(e)||I4.test(e),Ua=e=>sc(e,"length",Y4),Ys=e=>!!e&&!Number.isNaN(Number(e)),ap=e=>sc(e,"number",Ys),$c=e=>!!e&&Number.isInteger(Number(e)),U4=e=>e.endsWith("%")&&Ys(e.slice(0,-1)),Ye=e=>Y_.test(e),Wa=e=>R4.test(e),W4=new Set(["length","size","percentage"]),V4=e=>sc(e,W4,X_),H4=e=>sc(e,"position",X_),q4=new Set(["image","url"]),K4=e=>sc(e,q4,Z4),G4=e=>sc(e,"",X4),Rc=()=>!0,sc=(e,t,r)=>{const n=Y_.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Y4=e=>L4.test(e)&&!F4.test(e),X_=()=>!1,X4=e=>B4.test(e),Z4=e=>z4.test(e),Q4=()=>{const e=Pt("colors"),t=Pt("spacing"),r=Pt("blur"),n=Pt("brightness"),a=Pt("borderColor"),i=Pt("borderRadius"),o=Pt("borderSpacing"),c=Pt("borderWidth"),l=Pt("contrast"),u=Pt("grayscale"),d=Pt("hueRotate"),f=Pt("invert"),h=Pt("gap"),m=Pt("gradientColorStops"),v=Pt("gradientColorStopPositions"),p=Pt("inset"),g=Pt("margin"),b=Pt("opacity"),x=Pt("padding"),j=Pt("saturate"),N=Pt("scale"),w=Pt("sepia"),S=Pt("skew"),P=Pt("space"),k=Pt("translate"),T=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Ye,t],O=()=>[Ye,t],C=()=>["",fa,Ua],R=()=>["auto",Ys,Ye],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ye],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Ys,Ye];return{cacheSize:500,separator:":",theme:{colors:[Rc],spacing:[fa,Ua],blur:["none","",Wa,Ye],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Wa,Ye],borderSpacing:O(),borderWidth:C(),contrast:Z(),grayscale:z(),hueRotate:Z(),invert:z(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[U4,Ua],inset:_(),margin:_(),opacity:Z(),padding:O(),saturate:Z(),scale:Z(),sepia:z(),skew:Z(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Wa]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ye]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$c,Ye]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",$c,Ye]}],"grid-cols":[{"grid-cols":[Rc]}],"col-start-end":[{col:["auto",{span:["full",$c,Ye]},Ye]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Rc]}],"row-start-end":[{row:["auto",{span:[$c,Ye]},Ye]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,t]}],"min-w":[{"min-w":[Ye,t,"min","max","fit"]}],"max-w":[{"max-w":[Ye,t,"none","full","min","max","fit","prose",{screen:[Wa]},Wa]}],h:[{h:[Ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Wa,Ua]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ap]}],"font-family":[{font:[Rc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Ys,ap]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fa,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fa,Ua]}],"underline-offset":[{"underline-offset":["auto",fa,Ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),H4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[fa,Ye]}],"outline-w":[{outline:[fa,Ua]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[fa,Ua]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wa,G4]}],"shadow-color":[{shadow:[Rc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wa,Ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[$c,Ye]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fa,Ua,ap]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J4=M4(Q4);function ne(...e){return J4(He(e))}function $a(e){const t={};for(const[r,n]of Object.entries(e))if(n!==void 0)if(n&&typeof n=="object"&&!(n instanceof Date)){const a=$a(n);Object.keys(a).length>0&&(t[r]=a)}else t[r]=n;return t}function eL(e){try{const t=new URL(e);let r=t.pathname.startsWith("/")?t.pathname.slice(1):t.pathname;t.search&&(r+=t.search),t.hash&&(r+=t.hash),r=r.replace(/\.(html|htm|php|asp|aspx|jsp|cfm|cgi)(\?|#|$)/gi,"$2"),r=r.replace(/^[a-z]{2}-[a-z]{2}\//i,""),r=r.replace(/\/[a-z]{2}-[a-z]{2}\//gi,"/"),r=r.replace(/\/[a-z]{2}-[a-z]{2}$/i,"");let n;do n=r,r=r.replace(/^(it|en|fr|de|es|pt|nl|ru|zh|ja|ko|ar)\//i,"");while(r!==n&&r.match(/^(it|en|fr|de|es|pt|nl|ru|zh|ja|ko|ar)\//i));if(r=r.replace(/\/(it|en|fr|de|es|pt|nl|ru|zh|ja|ko|ar)\//gi,"/"),r=r.replace(/\/(it|en|fr|de|es|pt|nl|ru|zh|ja|ko|ar)$/i,""),r=r.replace(/^(product|item|detail|p|products|items|details|shop|store|catalog)\/+/i,""),r=r.replace(/\/(product|item|detail|p|products|items|details|shop|store|catalog)\/+/gi,"/"),r=r.replace(/\/+/g,"/"),r=r.replace(/\/$/,""),r.includes("?")){const[a,i]=r.split("?",2),o=i.split("&").filter(c=>!c.startsWith("utm_")&&!c.startsWith("gclid=")&&!c.startsWith("gbraid=")&&!c.startsWith("gad_source=")&&!c.startsWith("esl-k=")).join("&");o?r=a+"?"+o:r=a}return r}catch(t){return console.error("Invalid URL:",t),null}}const Ry=x4,Ht=b4,qt=w4,Ft=y.forwardRef((a,n)=>{var i=a,{className:e,sideOffset:t=4}=i,r=W(i,["className","sideOffset"]);return s.jsx(V_,A({ref:n,sideOffset:t,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e)},r))});Ft.displayName=V_.displayName;class el{constructor(t,r,n,a,i,o=new Date,c=!1,l,u,d="medium",f,h,m=new Date,v=!0,p,g,b,x,j=!0,N=[],w,S,P){this.id=t,this.category=r,this.createdBy=n,this.link=a,this.name=i,this.createdAt=o,this.completed=c,this.completedBy=l,this.completedAt=u,this.priority=d,this.estimatedPrice=f,this.notes=h,this.updatedAt=m,this.isPublic=v,this.scrapingData=p,this.brandName=g,this.imageUrl=b,this.imageUpdated=x,this.available=j,this.historicalPrice=N,this.lastPriceCheck=w,this.priceMonitoring=S,this.historicalPriceWithDates=P,this.validate&&this.validate()}validate(){var n,a,i;const t=[];if((n=this.category)!=null&&n.trim()||t.push("La categoria è obbligatoria"),(a=this.createdBy)!=null&&a.trim()||t.push("Il creatore è obbligatorio"),!((i=this.link)!=null&&i.trim()))t.push("Il link è obbligatorio");else try{new URL(this.link)}catch(o){t.push("Il link deve essere un URL valido")}this.estimatedPrice!==void 0&&this.estimatedPrice<0&&t.push("Il prezzo stimato non può essere negativo"),this.historicalPrice&&!Array.isArray(this.historicalPrice)&&t.push("Lo storico prezzi deve essere un array"),this.historicalPrice&&this.historicalPrice.some(o=>typeof o!="number"||o<0)&&t.push("Lo storico prezzi deve contenere solo numeri positivi"),this.historicalPriceWithDates&&!Array.isArray(this.historicalPriceWithDates)&&t.push("Lo storico prezzi con date deve essere un array"),this.historicalPriceWithDates&&this.historicalPriceWithDates.some(o=>!o||typeof o.price!="number"||o.price<0||!(o.date instanceof Date))&&t.push("Lo storico prezzi con date deve contenere oggetti validi con prezzo e data"),typeof this.available!="boolean"&&t.push("La disponibilità deve essere un booleano");const r={isValid:t.length===0,errors:t};if(!r.isValid)throw new ft("Validazione fallita: ".concat(t.join(", ")),t);return r}static fromFirestore(t){try{const r=l=>{if(!l)return new Date;if(l instanceof Date)return l;if(typeof l=="object"&&l.toDate)return l.toDate();const u=new Date(l);return isNaN(u.getTime())?new Date:u},n=l=>Array.isArray(l)?l.map(u=>typeof u=="object"&&u!==null?{price:typeof u.price=="number"?u.price:0,date:r(u.date),oldPrice:typeof u.oldPrice=="number"?u.oldPrice:null,changeType:u.changeType||"initial"}:{price:typeof u=="number"?u:0,date:new Date,changeType:"initial"}):[],a=t.category||"Articoli",i=t.createdBy||"Unknown",o=t.link||"",c=Object.create(el.prototype);if(c.id=t.id,c.category=a,c.createdBy=i,c.link=o,c.name=t.name,c.createdAt=r(t.createdAt),c.completed=t.completed||!1,c.completedBy=t.completedBy,c.completedAt=t.completedAt?r(t.completedAt):void 0,c.priority=t.priority||"medium",c.estimatedPrice=t.estimatedPrice,c.notes=t.notes,c.updatedAt=r(t.updatedAt),c.isPublic=t.isPublic!==void 0?t.isPublic:!0,c.brandName=t.brandName,c.imageUrl=t.imageUrl,c.imageUpdated=t.imageUpdated||!1,t.scrapingData&&typeof t.scrapingData=="object"&&(c.scrapingData={lastScraped:r(t.scrapingData.lastScraped),scrapingMode:t.scrapingData.scrapingMode||"html_analysis",scrapingSuccess:t.scrapingData.scrapingSuccess||!1,scrapingText:t.scrapingData.scrapingText,errors:t.scrapingData.errors}),c.available=t.available!==void 0?t.available:!0,c.historicalPrice=Array.isArray(t.historicalPrice)?t.historicalPrice:[],c.lastPriceCheck=t.lastPriceCheck?r(t.lastPriceCheck):void 0,c.historicalPriceWithDates=n(t.historicalPriceWithDates),t.priceMonitoring&&typeof t.priceMonitoring=="object"&&(c.priceMonitoring={lastCheck:r(t.priceMonitoring.lastCheck),changesDetected:t.priceMonitoring.changesDetected||!1,priceChanged:t.priceMonitoring.priceChanged||!1,availabilityChanged:t.priceMonitoring.availabilityChanged||!1,analysisText:t.priceMonitoring.analysisText}),o&&a&&i)try{c.validate()}catch(l){console.warn("Validation warning for existing document:",t.id,l)}return c}catch(r){console.error("Error in fromFirestore for ShoppingItem:",r,t);const n=Object.create(el.prototype);return n.id=t.id||"unknown",n.category=t.category||"Articoli",n.createdBy=t.createdBy||"Unknown",n.link=t.link||"https://example.com",n.name=t.name||"Prodotto sconosciuto",n.createdAt=new Date,n.completed=!1,n.priority="medium",n.updatedAt=new Date,n.isPublic=!0,n.imageUpdated=!1,n.available=!0,n.historicalPrice=[],n.historicalPriceWithDates=[],n}}toFirestore(){const t={category:this.category,createdBy:this.createdBy,link:this.link,name:this.name,createdAt:this.createdAt,completed:this.completed,completedBy:this.completedBy,completedAt:this.completedAt,priority:this.priority,estimatedPrice:this.estimatedPrice,notes:this.notes,updatedAt:new Date,isPublic:this.isPublic,scrapingData:this.scrapingData,brandName:this.brandName,imageUrl:this.imageUrl,imageUpdated:this.imageUpdated,available:this.available,historicalPrice:this.historicalPrice,lastPriceCheck:this.lastPriceCheck,priceMonitoring:this.priceMonitoring,historicalPriceWithDates:this.historicalPriceWithDates};return $a(t)}complete(t){this.completed=!0,this.completedBy=t,this.completedAt=new Date,this.updatedAt=new Date}uncomplete(){this.completed=!1,this.completedBy=void 0,this.completedAt=void 0,this.updatedAt=new Date}updateName(t){this.name=t,this.updatedAt=new Date,this.validate()}updateNotes(t){this.notes=t,this.updatedAt=new Date}updateCategory(t){this.category=t,this.updatedAt=new Date,this.validate()}updatePriority(t){this.priority=t,this.updatedAt=new Date}updatePrice(t){if(t<0)throw new Error("Il prezzo non può essere negativo");this.estimatedPrice=t,this.updatedAt=new Date}togglePublic(){this.isPublic=!this.isPublic,this.updatedAt=new Date}updateBrand(t){this.brandName=t,this.updatedAt=new Date}updateImageUrl(t){this.canUpdateImage()&&(this.imageUrl=t,this.imageUpdated=!0,this.updatedAt=new Date)}removeImage(){this.imageUrl=void 0,this.imageUpdated=!1,this.updatedAt=new Date}isValidLink(){if(!this.link)return!1;try{return new URL(this.link),!0}catch(t){return!1}}isValidImageUrl(){if(!this.imageUrl)return!0;try{const t=new URL(this.imageUrl);return t.protocol==="http:"||t.protocol==="https:"}catch(t){return!1}}canUpdateImage(){return!this.imageUpdated}hasPrice(){return this.estimatedPrice!==void 0&&this.estimatedPrice!==null}isCompleted(){return this.completed}isPublicItem(){return this.isPublic}isOwnedBy(t){return this.createdBy===t}getLastPrice(){return this.historicalPrice.length===0?this.estimatedPrice||null:this.historicalPrice[this.historicalPrice.length-1]}addPriceToHistory(t){if(typeof t!="number"||t<0)throw new Error("Il prezzo deve essere un numero positivo");this.getLastPrice()!==t&&(this.historicalPrice.push(t),this.historicalPrice.length>50&&(this.historicalPrice=this.historicalPrice.slice(-50)),this.updatedAt=new Date)}addPriceToHistoryWithDate(t,r=new Date,n){if(typeof t!="number"||t<0)throw new Error("Il prezzo deve essere un numero positivo");this.getLastPrice()!==t&&(this.historicalPrice.push(t),this.historicalPrice.length>50&&(this.historicalPrice=this.historicalPrice.slice(-50))),this.historicalPriceWithDates||(this.historicalPriceWithDates=[]);const i=this.getLastPriceWithDate();if(!i||i.price!==t){const o=n==null?"initial":t>n?"increase":t<n?"decrease":"initial";this.historicalPriceWithDates.push({price:t,date:r,oldPrice:n||null,changeType:o}),this.historicalPriceWithDates.length>50&&(this.historicalPriceWithDates=this.historicalPriceWithDates.slice(-50))}this.updatedAt=new Date}getLastPriceWithDate(){return!this.historicalPriceWithDates||this.historicalPriceWithDates.length===0?null:this.historicalPriceWithDates[this.historicalPriceWithDates.length-1]}getMinPrice(){return this.historicalPrice.length===0?this.estimatedPrice||null:Math.min(...this.historicalPrice)}getMaxPrice(){return this.historicalPrice.length===0?this.estimatedPrice||null:Math.max(...this.historicalPrice)}getPriceChangePercentage(){if(this.historicalPrice.length<2)return null;const t=this.historicalPrice[0],r=this.historicalPrice[this.historicalPrice.length-1];return t===0?null:(r-t)/t*100}isPriceTrendingUp(){if(this.historicalPrice.length<3)return!1;const t=this.historicalPrice.slice(-3);return t[0]<t[1]&&t[1]<t[2]}isPriceTrendingDown(){if(this.historicalPrice.length<3)return!1;const t=this.historicalPrice.slice(-3);return t[0]>t[1]&&t[1]>t[2]}updateAvailability(t,r){const n=this.available;this.available=t,this.priceMonitoring={lastCheck:new Date,changesDetected:n!==t,priceChanged:!1,availabilityChanged:n!==t,analysisText:r},this.lastPriceCheck=new Date,this.updatedAt=new Date}updatePriceAndAvailability(t,r,n){const a=this.estimatedPrice,i=this.available;t!==null&&t!==a&&(this.estimatedPrice=t,this.addPriceToHistoryWithDate(t,new Date,a)),this.available=r,this.priceMonitoring={lastCheck:new Date,changesDetected:t!==a||i!==r,priceChanged:t!==a,availabilityChanged:i!==r,analysisText:n},this.lastPriceCheck=new Date,this.updatedAt=new Date}isAvailable(){return this.available}needsPriceCheck(t=24){return this.lastPriceCheck?(new Date().getTime()-this.lastPriceCheck.getTime())/(1e3*60*60)>=t:!0}markAsChecked(){this.lastPriceCheck=new Date,this.priceMonitoring&&(this.priceMonitoring.lastCheck=new Date)}hasRecentChanges(){var t;return((t=this.priceMonitoring)==null?void 0:t.changesDetected)||!1}updateWithScrapingData(t){if(t.nameProduct&&!this.name&&(this.name=t.nameProduct),t.nameBrand&&!this.brandName&&(this.brandName=t.nameBrand),t.category&&this.category==="Articoli"&&(this.category=t.category),t.price&&!this.estimatedPrice){const r=t.price.match(/(\d+[.,]\d+|\d+)/);if(r){const n=parseFloat(r[1].replace(",","."));this.estimatedPrice=n,this.addPriceToHistoryWithDate(n)}}t.imageUrl&&!this.imageUrl&&(this.imageUrl=t.imageUrl),typeof t.available=="boolean"&&(this.available=t.available),this.scrapingData={lastScraped:new Date,scrapingMode:t.mode||"html_analysis",scrapingSuccess:!0,scrapingText:t.scrapingText||JSON.stringify(t),errors:null},this.updatedAt=new Date;try{this.validate()}catch(r){console.warn("Validation warning after scraping update:",r),this.imageUrl&&!this.isValidImageUrl()&&(this.imageUrl=void 0)}}hasScrapingData(){return this.scrapingData!==void 0}getLastScrapingDate(){var t;return((t=this.scrapingData)==null?void 0:t.lastScraped)||null}wasScrapingSuccessful(){var t;return((t=this.scrapingData)==null?void 0:t.scrapingSuccess)||!1}getAge(){return Math.floor((new Date().getTime()-this.createdAt.getTime())/(1e3*60*60*24))}getAgeInHours(){return Math.floor((new Date().getTime()-this.createdAt.getTime())/(1e3*60*60))}getTimeSinceLastUpdate(){const t=new Date,r=this.updatedAt||this.createdAt;return Math.floor((t.getTime()-r.getTime())/(1e3*60*60))}getSummary(){const t=[];return this.name&&t.push(this.name),this.brandName&&t.push("by ".concat(this.brandName)),this.estimatedPrice&&t.push("€".concat(this.estimatedPrice)),this.available||t.push("(Non disponibile)"),this.completed&&t.push("(Completato)"),t.join(" ")}clone(){return new el("".concat(this.id,"_copy"),this.category,this.createdBy,this.link,this.name,new Date,!1,void 0,void 0,this.priority,this.estimatedPrice,this.notes,new Date,this.isPublic,void 0,this.brandName,this.imageUrl,this.imageUpdated,this.available,[],void 0,void 0,[])}toJSON(){var t,r;return{id:this.id,category:this.category,createdBy:this.createdBy,link:this.link,name:this.name,createdAt:this.createdAt.toISOString(),completed:this.completed,completedBy:this.completedBy,completedAt:(t=this.completedAt)==null?void 0:t.toISOString(),priority:this.priority,estimatedPrice:this.estimatedPrice,notes:this.notes,updatedAt:this.updatedAt.toISOString(),isPublic:this.isPublic,brandName:this.brandName,imageUrl:this.imageUrl,imageUpdated:this.imageUpdated,available:this.available,historicalPrice:this.historicalPrice,lastPriceCheck:(r=this.lastPriceCheck)==null?void 0:r.toISOString(),hasScrapingData:this.hasScrapingData(),age:this.getAge(),summary:this.getSummary()}}}class ft extends Error{constructor(t,r){super(t),this.errors=r,this.name="ValidationError"}}class Z_{constructor(t,r="user",n,a){this.username=t,this.role=r,this.email=n,this.password=a}isAdmin(){return this.role==="admin"}toSafeUser(){return{username:this.username,role:this.role,email:this.email,isAdmin:()=>this.isAdmin()}}}let tL=class Q_{constructor(t,r,n="user",a,i,o,c=new Date,l,u,d=!0,f,h){this.id=t,this.username=r,this.role=n,this.email=a,this.displayName=i,this.photoURL=o,this.createdAt=c,this.lastLoginAt=l,this.updatedAt=u,this.isActive=d,this.passwordEncrypted=f,this.passwordIV=h}static fromFirestore(t){var r,n,a;return new Q_(t.id,t.username,t.role,t.email,t.displayName,t.photoURL,((r=t.createdAt)==null?void 0:r.toDate())||new Date,(n=t.lastLoginAt)==null?void 0:n.toDate(),(a=t.updatedAt)==null?void 0:a.toDate(),t.isActive!==void 0?t.isActive:!0,t.passwordEncrypted,t.passwordIV)}toFirestore(){const t={username:this.username,role:this.role,email:this.email,displayName:this.displayName,photoURL:this.photoURL,createdAt:this.createdAt,lastLoginAt:this.lastLoginAt,updatedAt:this.updatedAt||new Date,isActive:this.isActive,passwordEncrypted:this.passwordEncrypted,passwordIV:this.passwordIV};return $a(t)}isAdmin(){return this.role==="admin"}toUserLogin(t=""){return new Z_(this.username,this.role,this.email||"".concat(this.username,"@familytasktracker.local"),t)}};class Ji{constructor(t,r,n,a=new Date,i,o="#6B7280",c,l=!1,u=0,d){this.id=t,this.name=r,this.createdBy=n,this.createdAt=a,this.description=i,this.color=o,this.icon=c,this.isDefault=l,this.itemCount=u,this.updatedAt=d}static fromFirestore(t){var r;return new Ji(t.id,t.name,t.createdBy,((r=t.createdAt)==null?void 0:r.toDate())||new Date,t.description,t.color||"#6B7280",t.icon,t.isDefault||!1,t.itemCount||0)}toFirestore(){const t={name:this.name,createdBy:this.createdBy,createdAt:this.createdAt,description:this.description,color:this.color,icon:this.icon,isDefault:this.isDefault,itemCount:this.itemCount};return $a(t)}incrementItemCount(){this.itemCount++}decrementItemCount(){this.itemCount>0&&this.itemCount--}isValidColor(){return/^#[0-9A-F]{6}$/i.test(this.color)}}class Ly{constructor(t,r,n,a,i=new Date,o=new Date,c=!1,l=[],u=!1,d="#F3F4F6",f=[],h){this.id=t,this.title=r,this.content=n,this.createdBy=a,this.createdAt=i,this.updatedAt=o,this.isPublic=c,this.tags=l,this.isPinned=u,this.color=d,this.sharedWith=f,this.lastViewedAt=h,this.validate()}validate(){const t=[];if((!this.title||this.title.trim().length===0)&&t.push("Title is required"),this.title&&this.title.length>100&&t.push("Title must be less than 100 characters"),(!this.content||this.content.trim().length===0)&&t.push("Content is required"),(!this.createdBy||this.createdBy.trim().length===0)&&t.push("Created by is required"),this.isValidColor()||t.push("Invalid color format"),t.length>0)throw new ft("Note validation failed",t);return{isValid:!0,errors:[]}}static fromFirestore(t){var r,n,a;return new Ly(t.id,t.title,t.content,t.createdBy,((r=t.createdAt)==null?void 0:r.toDate())||new Date,((n=t.updatedAt)==null?void 0:n.toDate())||new Date,t.isPublic||!1,t.tags||[],t.isPinned||!1,t.color||"#F3F4F6",t.sharedWith||[],(a=t.lastViewedAt)==null?void 0:a.toDate())}toFirestore(){const t={title:this.title,content:this.content,createdBy:this.createdBy,createdAt:this.createdAt,updatedAt:this.updatedAt,isPublic:this.isPublic,tags:this.tags,isPinned:this.isPinned,color:this.color,sharedWith:this.sharedWith,lastViewedAt:this.lastViewedAt};return $a(t)}update(t,r){t&&(this.title=t),r&&(this.content=r),this.updatedAt=new Date,this.validate()}isValidColor(){return/^#[0-9A-F]{6}$/i.test(this.color)}addTag(t){this.tags.includes(t)||(this.tags.push(t),this.updatedAt=new Date)}removeTag(t){this.tags=this.tags.filter(r=>r!==t),this.updatedAt=new Date}shareWith(t){this.sharedWith.includes(t)||(this.sharedWith.push(t),this.updatedAt=new Date)}unshareWith(t){this.sharedWith=this.sharedWith.filter(r=>r!==t),this.updatedAt=new Date}togglePin(){this.isPinned=!this.isPinned,this.updatedAt=new Date}togglePublic(){this.isPublic=!this.isPublic,this.updatedAt=new Date}markAsViewed(){this.lastViewedAt=new Date}canBeViewedBy(t){return this.isPublic||this.createdBy===t||this.sharedWith.includes(t)}canBeEditedBy(t){return this.createdBy===t}}class Fy{constructor(t,r,n,a,i,o,c=!1,l=!1,u="personal",d="#E07A5F",f,h=[],m=new Date,v=new Date){this.id=t,this.title=r,this.startDate=n,this.endDate=a,this.createdBy=i,this.description=o,this.isAllDay=c,this.isPublic=l,this.eventType=u,this.color=d,this.location=f,this.attendees=h,this.createdAt=m,this.updatedAt=v,this.validate()}validate(){const t=[];if((!this.title||this.title.trim().length===0)&&t.push("Title is required"),this.title&&this.title.length>100&&t.push("Title must be less than 100 characters"),(!this.createdBy||this.createdBy.trim().length===0)&&t.push("Created by is required"),this.endDate<=this.startDate&&t.push("End date must be after start date"),this.isValidColor()||t.push("Invalid color format"),t.length>0)throw new ft("Calendar event validation failed",t);return{isValid:!0,errors:[]}}isValidColor(){return/^#[0-9A-F]{6}$/i.test(this.color)}static fromFirestore(t){var r,n,a,i;return new Fy(t.id,t.title,((r=t.startDate)==null?void 0:r.toDate())||new Date,((n=t.endDate)==null?void 0:n.toDate())||new Date,t.createdBy,t.description,t.isAllDay||!1,t.isPublic||!1,t.eventType||"personal",t.color||"#E07A5F",t.location,t.attendees||[],((a=t.createdAt)==null?void 0:a.toDate())||new Date,((i=t.updatedAt)==null?void 0:i.toDate())||new Date)}toFirestore(){const t={title:this.title,startDate:this.startDate,endDate:this.endDate,createdBy:this.createdBy,description:this.description,isAllDay:this.isAllDay,isPublic:this.isPublic,eventType:this.eventType,color:this.color,location:this.location,attendees:this.attendees,createdAt:this.createdAt,updatedAt:this.updatedAt};return $a(t)}getDuration(){return this.endDate.getTime()-this.startDate.getTime()}getDurationInHours(){return this.getDuration()/(1e3*60*60)}isOnDate(t){const r=new Date(this.startDate),n=new Date(this.endDate),a=new Date(t);return r.setHours(0,0,0,0),n.setHours(23,59,59,999),a.setHours(12,0,0,0),a>=r&&a<=n}isInRange(t,r){return this.startDate<=r&&this.endDate>=t}addAttendee(t){this.attendees.includes(t)||(this.attendees.push(t),this.updatedAt=new Date)}removeAttendee(t){this.attendees=this.attendees.filter(r=>r!==t),this.updatedAt=new Date}updateDates(t,r){this.startDate=t,this.endDate=r,this.updatedAt=new Date,this.validate()}canBeViewedBy(t){return this.isPublic||this.createdBy===t||this.attendees.includes(t)}canBeEditedBy(t){return this.createdBy===t}isUpcoming(){return this.startDate>new Date}isPast(){return this.endDate<new Date}isOngoing(){const t=new Date;return this.startDate<=t&&this.endDate>=t}}class Rd{static createCategory(t){var r;try{if(!t.name||t.name.trim().length===0)throw new ft("Category validation failed",["Category name is required"]);if(t.name.length>50)throw new ft("Category validation failed",["Category name must be less than 50 characters"]);if(!t.createdBy||t.createdBy.trim().length===0)throw new ft("Category validation failed",["Created by is required"]);if(t.color&&!/^#[0-9A-F]{6}$/i.test(t.color))throw new ft("Category validation failed",["Invalid color format - must be hex color (e.g., #FF0000)"]);if(t.description&&t.description.length>100)throw new ft("Category validation failed",["Description must be less than 100 characters"]);if(t.icon&&t.icon.length>2)throw new ft("Category validation failed",["Icon must be less than 2 characters"]);const n=new Ji(t.id||"category_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),t.name.trim(),t.createdBy,t.createdAt||new Date,((r=t.description)==null?void 0:r.trim())||void 0,t.color||"#6B7280",t.icon||"🏷️",t.isDefault||!1,t.itemCount||0);if(!n.isValidColor())throw new ft("Category validation failed",["Invalid color format"]);return n}catch(n){throw n instanceof ft?n:new ft("Failed to create category",["Unknown validation error"])}}static createNote(t){try{return new Ly(t.id||"",t.title||"",t.content||"",t.createdBy||"",t.createdAt||new Date,t.updatedAt||new Date,t.isPublic||!1,t.tags||[],t.isPinned||!1,t.color||"#F3F4F6",t.sharedWith||[],t.lastViewedAt)}catch(r){throw r instanceof ft?r:new ft("Failed to create note",["Unknown validation error"])}}static createShoppingItem(t){try{if(!t.link||!t.link.startsWith("http"))throw new ft("Shopping item validation failed",["Valid URL is required"]);if(!t.category||t.category.trim().length===0)throw new ft("Shopping item validation failed",["Category is required"]);if(!t.createdBy||t.createdBy.trim().length===0)throw new ft("Shopping item validation failed",["Created by is required"]);if(t.imageUrl&&t.imageUrl.trim().length>0)try{const r=new URL(t.imageUrl);if(r.protocol!=="http:"&&r.protocol!=="https:")throw new ft("Shopping item validation failed",["Image URL must use http or https protocol"])}catch(r){throw new ft("Shopping item validation failed",["Invalid image URL format"])}return new el(t.id||"item_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),t.category,t.createdBy,t.link,t.name,t.createdAt||new Date,t.completed||!1,t.completedBy,t.completedAt,t.priority||"medium",t.estimatedPrice,t.notes,t.updatedAt||new Date,t.isPublic!==void 0?t.isPublic:!0,t.scrapingData,t.brandName,t.imageUrl)}catch(r){throw r instanceof ft?r:new ft("Failed to create shopping item",["Unknown validation error"])}}static createCalendarEvent(t){try{return new Fy(t.id||"",t.title||"",t.startDate||new Date,t.endDate||new Date,t.createdBy||"",t.description,t.isAllDay||!1,t.isPublic||!1,t.eventType||"personal",t.color||"#E07A5F",t.location,t.attendees||[],t.createdAt||new Date,t.updatedAt||new Date)}catch(r){throw r instanceof ft?r:new ft("Failed to create calendar event",["Unknown validation error"])}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="firebasestorage.googleapis.com",rL="storageBucket",nL=2*60*1e3,aL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends yy{constructor(t,r,n=0){super(ip(t),"Firebase Storage: ".concat(r," (").concat(ip(t),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ca.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ip(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var aa;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(aa||(aa={}));function ip(e){return"storage/"+e}function iL(){const e="An unknown error occurred, please check the error payload for server response.";return new ca(aa.UNKNOWN,e)}function sL(){return new ca(aa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oL(){return new ca(aa.CANCELED,"User canceled the upload/download.")}function cL(e){return new ca(aa.INVALID_URL,"Invalid URL '"+e+"'.")}function lL(e){return new ca(aa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function C0(e){return new ca(aa.INVALID_ARGUMENT,e)}function eP(){return new ca(aa.APP_DELETED,"The Firebase app was deleted.")}function uL(e){return new ca(aa.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=Tn.makeFromUrl(t,r)}catch(a){return new Tn(t,"")}if(n.path==="")return n;throw lL(t)}static makeFromUrl(t,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+a+o,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp("^https?://".concat(f,"/").concat(d,"/b/").concat(a,"/o").concat(h),"i"),v={bucket:1,path:3},p=r===J_?"(?:storage.googleapis.com|storage.cloud.google.com)":r,g="([^?#]*)",b=new RegExp("^https?://".concat(p,"/").concat(a,"/").concat(g),"i"),j=[{regex:c,indices:l,postModify:i},{regex:m,indices:v,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<j.length;N++){const w=j[N],S=w.regex.exec(t);if(S){const P=S[w.indices.bucket];let k=S[w.indices.path];k||(k=""),n=new Tn(P,k),w.postModify(n);break}}if(n==null)throw cL(t);return n}}class dL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(e,t,r){let n=1,a=null,i=null,o=!1,c=0;function l(){return c===2}let u=!1;function d(...g){u||(u=!0,t.apply(null,g))}function f(g){a=setTimeout(()=>{a=null,e(m,l())},g)}function h(){i&&clearTimeout(i)}function m(g,...b){if(u){h();return}if(g){h(),d.call(null,g,...b);return}if(l()||o){h(),d.call(null,g,...b);return}n<64&&(n*=2);let j;c===1?(c=2,j=0):j=(n+Math.random())*1e3,f(j)}let v=!1;function p(g){v||(v=!0,h(),!u&&(a!==null?(g||(c=2),clearTimeout(a),f(0)):g||(c=1)))}return f(0),i=setTimeout(()=>{o=!0,p(!0)},r),p}function hL(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(e){return e!==void 0}function O0(e,t,r,n){if(n<t)throw C0("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(n>r)throw C0("Invalid value for '".concat(e,"'. Expected ").concat(r," or less."))}function pL(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const a=t(n)+"="+t(e[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var Ld;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ld||(Ld={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(e,t){const r=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return r||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(t,r,n,a,i,o,c,l,u,d,f,h=!0,m=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,p)=>{this.resolve_=v,this.reject_=p,this.start_()})}start_(){const t=(n,a)=>{if(a){n(!1,new Qu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=c=>{const l=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const c=i.getErrorCode()===Ld.NO_ERROR,l=i.getStatus();if(!c||gL(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Ld.ABORT;n(!1,new Qu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new Qu(u,i))})},r=(n,a)=>{const i=this.resolve_,o=this.reject_,c=a.connection;if(a.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());mL(l)?i(l):i()}catch(l){o(l)}else if(c!==null){const l=iL();l.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,l)):o(l)}else if(a.canceled){const l=this.appDelete_?eP():oL();o(l)}else{const l=sL();o(l)}};this.canceled_?r(!1,new Qu(!1,null,!0)):this.backoffId_=fL(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&hL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qu{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function yL(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function xL(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function bL(e,t){t&&(e["X-Firebase-GMPID"]=t)}function wL(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function jL(e,t,r,n,a,i,o=!0,c=!1){const l=pL(e.urlParams),u=e.url+l,d=Object.assign({},e.headers);return bL(d,t),yL(d,r),xL(d,i),wL(d,n),new vL(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function SL(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,r){this._service=t,r instanceof Tn?this._location=r:this._location=Tn.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Fd(t,r)}get root(){const t=new Tn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SL(this._location.path)}get storage(){return this._service}get parent(){const t=NL(this._location.path);if(t===null)return null;const r=new Tn(this._location.bucket,t);return new Fd(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw uL(t)}}function E0(e,t){const r=t==null?void 0:t[rL];return r==null?null:Tn.makeFromBucketSpec(r,e)}function AL(e,t,r,n={}){e.host="".concat(t,":").concat(r);const a=aI(t);a&&(iI("https://".concat(e.host,"/b")),sI("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:i}=n;i&&(e._overrideAuthToken=typeof i=="string"?i:oI(i,e.app.options.projectId))}class _L{constructor(t,r,n,a,i,o=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=J_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nL,this._maxUploadRetryTime=aL,this._requests=new Set,a!=null?this._bucket=Tn.makeFromBucketSpec(a,this._host):this._bucket=E0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,t):this._bucket=E0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){O0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){O0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return G(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(r!==null)return r.accessToken}return null})}_getAppCheckToken(){return G(this,null,function*(){if(rI(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Fd(this,t)}_makeRequest(t,r,n,a,i=!0){if(this._deleted)return new dL(eP());{const o=jL(t,this._appId,n,a,r,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,r){return G(this,null,function*(){const[n,a]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,a).getPromise()})}}const k0="@firebase/storage",T0="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="storage";function PL(e=DA(),t){e=yu(e);const n=gh(e,tP).getImmediate({identifier:t}),a=nI("storage");return a&&CL(n,...a),n}function CL(e,t,r,n={}){AL(e,t,r,n)}function OL(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new _L(r,n,a,t,tI)}function EL(){ns(new as(tP,OL,"PUBLIC").setMultipleInstances(!0)),di(k0,T0,""),di(k0,T0,"esm2017")}EL();const rP="@firebase/installations",By="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=1e4,aP="w:".concat(By),iP="FIS_v2",kL="https://firebaseinstallations.googleapis.com/v1",TL=60*60*1e3,DL="installations",ML="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ss=new xy(DL,ML,IL);function sP(e){return e instanceof yy&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP({projectId:e}){return"".concat(kL,"/projects/").concat(e,"/installations")}function cP(e){return{token:e.token,requestStatus:2,expiresIn:RL(e.expiresIn),creationTime:Date.now()}}function lP(e,t){return G(this,null,function*(){const n=(yield t.json()).error;return ss.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})}function uP({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function $L(e,{refreshToken:t}){const r=uP(e);return r.append("Authorization",LL(t)),r}function dP(e){return G(this,null,function*(){const t=yield e();return t.status>=500&&t.status<600?e():t})}function RL(e){return Number(e.replace("s","000"))}function LL(e){return"".concat(iP," ").concat(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n,a){return G(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const i=oP(e),o=uP(e),c=t.getImmediate({optional:!0});if(c){const f=yield c.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const l={fid:r,authVersion:iP,appId:e.appId,sdkVersion:aP},u={method:"POST",headers:o,body:JSON.stringify(l)},d=yield dP(()=>fetch(i,u));if(d.ok){const f=yield d.json();return{fid:f.fid||r,registrationStatus:2,refreshToken:f.refreshToken,authToken:cP(f.authToken)}}else throw yield lP("Create Installation",d)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=/^[cdef][\w-]{21}$/,gg="";function UL(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=WL(e);return zL.test(r)?r:gg}catch(e){return gg}}function WL(e){return BL(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(e){return"".concat(e.appName,"!").concat(e.appId)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new Map;function mP(e,t){const r=Eh(e);pP(r,t),VL(r,t)}function pP(e,t){const r=hP.get(e);if(r)for(const n of r)n(t)}function VL(e,t){const r=HL();r&&r.postMessage({key:e,fid:t}),qL()}let Li=null;function HL(){return!Li&&"BroadcastChannel"in self&&(Li=new BroadcastChannel("[Firebase] FID Change"),Li.onmessage=e=>{pP(e.data.key,e.data.fid)}),Li}function qL(){hP.size===0&&Li&&(Li.close(),Li=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="firebase-installations-database",GL=1,os="firebase-installations-store";let sp=null;function zy(){return sp||(sp=by(KL,GL,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(os)}}})),sp}function Bd(e,t){return G(this,null,function*(){const r=Eh(e),a=(yield zy()).transaction(os,"readwrite"),i=a.objectStore(os),o=yield i.get(r);return yield i.put(t,r),yield a.done,(!o||o.fid!==t.fid)&&mP(e,t.fid),t})}function gP(e){return G(this,null,function*(){const t=Eh(e),n=(yield zy()).transaction(os,"readwrite");yield n.objectStore(os).delete(t),yield n.done})}function kh(e,t){return G(this,null,function*(){const r=Eh(e),a=(yield zy()).transaction(os,"readwrite"),i=a.objectStore(os),o=yield i.get(r),c=t(o);return c===void 0?yield i.delete(r):yield i.put(c,r),yield a.done,c&&(!o||o.fid!==c.fid)&&mP(e,c.fid),c})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(e){return G(this,null,function*(){let t;const r=yield kh(e.appConfig,n=>{const a=YL(n),i=XL(e,a);return t=i.registrationPromise,i.installationEntry});return r.fid===gg?{installationEntry:yield t}:{installationEntry:r,registrationPromise:t}})}function YL(e){const t=e||{fid:UL(),registrationStatus:0};return vP(t)}function XL(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ss.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=ZL(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:QL(e)}:{installationEntry:t}}function ZL(e,t){return G(this,null,function*(){try{const r=yield FL(e,t);return Bd(e.appConfig,r)}catch(r){throw sP(r)&&r.customData.serverCode===409?yield gP(e.appConfig):yield Bd(e.appConfig,{fid:t.fid,registrationStatus:0}),r}})}function QL(e){return G(this,null,function*(){let t=yield D0(e.appConfig);for(;t.registrationStatus===1;)yield fP(100),t=yield D0(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=yield Uy(e);return n||r}return t})}function D0(e){return kh(e,t=>{if(!t)throw ss.create("installation-not-found");return vP(t)})}function vP(e){return JL(e)?{fid:e.fid,registrationStatus:0}:e}function JL(e){return e.registrationStatus===1&&e.registrationTime+nP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(n,a){return G(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},r){const i=t3(e,r),o=$L(e,r),c=t.getImmediate({optional:!0});if(c){const f=yield c.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const l={installation:{sdkVersion:aP,appId:e.appId}},u={method:"POST",headers:o,body:JSON.stringify(l)},d=yield dP(()=>fetch(i,u));if(d.ok){const f=yield d.json();return cP(f)}else throw yield lP("Generate Auth Token",d)})}function t3(e,{fid:t}){return"".concat(oP(e),"/").concat(t,"/authTokens:generate")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(e,t=!1){return G(this,null,function*(){let r;const n=yield kh(e.appConfig,i=>{if(!yP(i))throw ss.create("not-registered");const o=i.authToken;if(!t&&a3(o))return i;if(o.requestStatus===1)return r=r3(e,t),i;{if(!navigator.onLine)throw ss.create("app-offline");const c=s3(i);return r=n3(e,c),c}});return r?yield r:n.authToken})}function r3(e,t){return G(this,null,function*(){let r=yield M0(e.appConfig);for(;r.authToken.requestStatus===1;)yield fP(100),r=yield M0(e.appConfig);const n=r.authToken;return n.requestStatus===0?Wy(e,t):n})}function M0(e){return kh(e,t=>{if(!yP(t))throw ss.create("not-registered");const r=t.authToken;return o3(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function n3(e,t){return G(this,null,function*(){try{const r=yield e3(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return yield Bd(e.appConfig,n),r}catch(r){if(sP(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))yield gP(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield Bd(e.appConfig,n)}throw r}})}function yP(e){return e!==void 0&&e.registrationStatus===2}function a3(e){return e.requestStatus===2&&!i3(e)}function i3(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+TL}function s3(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function o3(e){return e.requestStatus===1&&e.requestTime+nP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(e){return G(this,null,function*(){const t=e,{installationEntry:r,registrationPromise:n}=yield Uy(t);return n?n.catch(console.error):Wy(t).catch(console.error),r.fid})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(e,t=!1){return G(this,null,function*(){const r=e;return yield u3(r),(yield Wy(r,t)).token})}function u3(e){return G(this,null,function*(){const{registrationPromise:t}=yield Uy(e);t&&(yield t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(e){if(!e||!e.options)throw op("App Configuration");if(!e.name)throw op("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw op(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function op(e){return ss.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="installations",f3="installations-internal",h3=e=>{const t=e.getProvider("app").getImmediate(),r=d3(t),n=gh(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},m3=e=>{const t=e.getProvider("app").getImmediate(),r=gh(t,xP).getImmediate();return{getId:()=>c3(r),getToken:a=>l3(r,a)}};function p3(){ns(new as(xP,h3,"PUBLIC")),ns(new as(f3,m3,"PRIVATE"))}p3();di(rP,By);di(rP,By,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="analytics",g3="firebase_id",v3="origin",y3=60*1e3,x3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new cI("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fn=new xy("analytics","Analytics",b3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(e){if(!e.startsWith(Vy)){const t=fn.create("invalid-gtag-resource",{gtagURL:e});return zr.warn(t.message),""}return e}function bP(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function j3(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function N3(e,t){const r=j3("firebase-js-sdk-policy",{createScriptURL:w3}),n=document.createElement("script"),a="".concat(Vy,"?l=").concat(e,"&id=").concat(t);n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function S3(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function A3(e,t,r,n,a,i){return G(this,null,function*(){const o=n[a];try{if(o)yield t[o];else{const l=(yield bP(r)).find(u=>u.measurementId===a);l&&(yield t[l.appId])}}catch(c){zr.error(c)}e("config",a,i)})}function _3(e,t,r,n,a){return G(this,null,function*(){try{let i=[];if(a&&a.send_to){let o=a.send_to;Array.isArray(o)||(o=[o]);const c=yield bP(r);for(const l of o){const u=c.find(f=>f.measurementId===l),d=u&&t[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(t)),yield Promise.all(i),e("event",n,a||{})}catch(i){zr.error(i)}})}function P3(e,t,r,n){function a(i,...o){return G(this,null,function*(){try{if(i==="event"){const[c,l]=o;yield _3(e,t,r,c,l)}else if(i==="config"){const[c,l]=o;yield A3(e,t,r,n,c,l)}else if(i==="consent"){const[c,l]=o;e("consent",c,l)}else if(i==="get"){const[c,l,u]=o;e("get",c,l,u)}else if(i==="set"){const[c]=o;e("set",c)}else e(i,...o)}catch(c){zr.error(c)}})}return a}function C3(e,t,r,n,a){let i=function(...o){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=P3(i,e,t,r),{gtagCore:i,wrappedGtag:window[a]}}function O3(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(Vy)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=30,k3=1e3;class T3{constructor(t={},r=k3){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const wP=new T3;function D3(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function M3(e){return G(this,null,function*(){var t;const{appId:r,apiKey:n}=e,a={method:"GET",headers:D3(n)},i=x3.replace("{app-id}",r),o=yield fetch(i,a);if(o.status!==200&&o.status!==304){let c="";try{const l=yield o.json();!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message)}catch(l){}throw fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()})}function I3(n){return G(this,arguments,function*(e,t=wP,r){const{appId:a,apiKey:i,measurementId:o}=e.options;if(!a)throw fn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:a};throw fn.create("no-api-key")}const c=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new L3;return setTimeout(()=>G(this,null,function*(){l.abort()}),y3),jP({appId:a,apiKey:i,measurementId:o},c,l,t)})}function jP(i,o,c){return G(this,arguments,function*(e,{throttleEndTimeMillis:t,backoffCount:r},n,a=wP){var l;const{appId:u,measurementId:d}=e;try{yield $3(n,t)}catch(f){if(d)return zr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ".concat(d,' provided in the "measurementId" field in the local Firebase config. [').concat(f==null?void 0:f.message,"]")),{appId:u,measurementId:d};throw f}try{const f=yield M3(e);return a.deleteThrottleMetadata(u),f}catch(f){const h=f;if(!R3(h)){if(a.deleteThrottleMetadata(u),d)return zr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ".concat(d,' provided in the "measurementId" field in the local Firebase config. [').concat(h==null?void 0:h.message,"]")),{appId:u,measurementId:d};throw f}const m=Number((l=h==null?void 0:h.customData)===null||l===void 0?void 0:l.httpStatus)===503?r0(r,a.intervalMillis,E3):r0(r,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:r+1};return a.setThrottleMetadata(u,v),zr.debug("Calling attemptFetch again in ".concat(m," millis")),jP(e,v,n,a)}})}function $3(e,t){return new Promise((r,n)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(i),n(fn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function R3(e){if(!(e instanceof yy)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class L3{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function F3(e,t,r,n,a){return G(this,null,function*(){if(a&&a.global){e("event",r,n);return}else{const i=yield t,o=Object.assign(Object.assign({},n),{send_to:i});e("event",r,o)}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return G(this,null,function*(){if(MA())try{yield IA()}catch(e){return zr.warn(fn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return zr.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function z3(e,t,r,n,a,i,o){return G(this,null,function*(){var c;const l=I3(e);l.then(m=>{r[m.measurementId]=m.appId,e.options.measurementId&&m.measurementId!==e.options.measurementId&&zr.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,") does not match the measurement ID fetched from the server (").concat(m.measurementId,"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config."))}).catch(m=>zr.error(m)),t.push(l);const u=B3().then(m=>{if(m)return n.getId()}),[d,f]=yield Promise.all([l,u]);O3(i)||N3(i,d.measurementId),a("js",new Date);const h=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return h[v3]="firebase",h.update=!0,f!=null&&(h[g3]=f),a("config",d.measurementId,h),d.measurementId})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(t){this.app=t}_delete(){return delete tl[this.app.options.appId],Promise.resolve()}}let tl={},$0=[];const R0={};let cp="dataLayer",W3="gtag",L0,NP,F0=!1;function V3(){const e=[];if(lI()&&e.push("This is a browser extension environment."),$A()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,a)=>"(".concat(a+1,") ").concat(n)).join(" "),r=fn.create("invalid-analytics-context",{errorInfo:t});zr.warn(r.message)}}function H3(e,t,r){V3();const n=e.options.appId;if(!n)throw fn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)zr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '.concat(e.options.measurementId,' provided in the "measurementId" field in the local Firebase config.'));else throw fn.create("no-api-key");if(tl[n]!=null)throw fn.create("already-exists",{id:n});if(!F0){S3(cp);const{wrappedGtag:i,gtagCore:o}=C3(tl,$0,R0,cp,W3);NP=i,L0=o,F0=!0}return tl[n]=z3(e,$0,R0,t,L0,cp,r),new U3(e)}function q3(e,t,r,n){e=yu(e),F3(NP,tl[e.app.options.appId],t,r,n).catch(a=>zr.error(a))}const B0="@firebase/analytics",z0="0.10.16";function K3(){ns(new as(I0,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return H3(n,a,r)},"PUBLIC")),ns(new as("analytics-internal",e,"PRIVATE")),di(B0,z0),di(B0,z0,"esm2017");function e(t){try{const r=t.getProvider(I0).getImmediate();return{logEvent:(n,a,i)=>q3(r,n,a,i)}}catch(r){throw fn.create("interop-component-reg-failed",{reason:r})}}}K3();const G3={BASE_URL:"/FamilyTaskTracker/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Y3={apiKey:void 0,authDomain:void 0,projectId:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},X3=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],U0=X3.filter(e=>!G3[e]);if(U0.length>0)throw new Error("Missing required environment variables: ".concat(U0.join(", ")));const Hy=uI(Y3);dI(Hy);const Z3=fI(Hy);PL(Hy);const ha={MAX_LOGIN_ATTEMPTS:3,LOCKOUT_DURATION:5*60*1e3,SESSION_DURATION:8*60*60*1e3,API_DELAY:1e3,STORAGE_KEY:"familyTaskManager_auth",FAILED_ATTEMPTS_KEY:"familyTaskManager_failedAttempts"};class SP{static generateSecurePassword(t=12){const r="abcdefghijklmnopqrstuvwxyz",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a="0123456789",i="!@#$%^&*",o=r+n+a+i;let c="";c+=r[Math.floor(Math.random()*r.length)],c+=n[Math.floor(Math.random()*n.length)],c+=a[Math.floor(Math.random()*a.length)],c+=i[Math.floor(Math.random()*i.length)];for(let l=4;l<t;l++)c+=o[Math.floor(Math.random()*o.length)];return c.split("").sort(()=>Math.random()-.5).join("")}static encryptPassword(t){return G(this,null,function*(){if(!this.ENCRYPTION_KEY)throw new Error("VITE_PASSWORD_ENCRYPTION_KEY non configurata nel file .env");const r=new TextEncoder,n=r.encode(t),a=crypto.getRandomValues(new Uint8Array(12)),i=r.encode(this.ENCRYPTION_KEY.padEnd(32,"0").slice(0,32)),o=yield crypto.subtle.importKey("raw",i,{name:"AES-GCM"},!1,["encrypt","decrypt"]),c=yield crypto.subtle.encrypt({name:"AES-GCM",iv:a},o,n),l=Array.from(new Uint8Array(c)).map(d=>d.toString(16).padStart(2,"0")).join(""),u=Array.from(a).map(d=>d.toString(16).padStart(2,"0")).join("");return{encrypted:l,iv:u}})}static decryptPassword(t,r){return G(this,null,function*(){if(!this.ENCRYPTION_KEY)throw new Error("VITE_PASSWORD_ENCRYPTION_KEY non configurata nel file .env");const n=new TextEncoder,a=new TextDecoder,i=new Uint8Array(t.match(/.{2}/g).map(d=>parseInt(d,16))),o=new Uint8Array(r.match(/.{2}/g).map(d=>parseInt(d,16))),c=n.encode(this.ENCRYPTION_KEY.padEnd(32,"0").slice(0,32)),l=yield crypto.subtle.importKey("raw",c,{name:"AES-GCM"},!1,["encrypt","decrypt"]),u=yield crypto.subtle.decrypt({name:"AES-GCM",iv:o},l,i);return a.decode(u)})}}Un(SP,"ENCRYPTION_KEY");class Xs{static loadUsersFromFirestore(){return G(this,null,function*(){throw console.warn("Firebase non configurato, impossibile caricare utenti"),new Error("Firebase non configurato")})}static login(t){return G(this,null,function*(){yield new Promise(n=>setTimeout(n,ha.API_DELAY));const r=this.validateLoginInput(t);if(r.length>0)throw new Error(r.join(". "));if(this.isUserLocked(t.username)){const n=Math.ceil(ha.LOCKOUT_DURATION/6e4);throw new Error("Account bloccato. Riprova tra ".concat(n," minuti."))}try{const a=(yield this.loadUsersFromFirestore()).find(c=>c.username===t.username&&c.password===t.password);if(!a){this.recordFailedAttempt(t.username);const c=this.getFailedAttempts(t.username),l=ha.MAX_LOGIN_ATTEMPTS-c.count;throw l<=0?new Error("Account bloccato dopo troppi tentativi fallite."):new Error("Credenziali non valide. Tentativi rimanenti: ".concat(l))}this.clearFailedAttempts(t.username);const i=new Z_(a.username,a.role,a.email,""),o={user:i,isAuthenticated:!0,loginTime:Date.now()};return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(o)),i}catch(n){throw n instanceof Error&&n.message.includes("Firebase")?new Error("Servizio temporaneamente non disponibile. Riprova più tardi."):n}})}static getAvailableUsers(){return G(this,null,function*(){try{return(yield this.loadUsersFromFirestore()).map(r=>({username:r.username,displayName:this.getDisplayName(r.username,r.role),role:r.role}))}catch(t){return console.error("Errore nel caricamento utenti per UI:",t),[]}})}static getDisplayName(t,r){return r==="admin"?"".concat(t," (Amministratore)"):"".concat(t," (Membro della famiglia)")}static logout(){localStorage.removeItem(this.STORAGE_KEY)}static getCurrentUser(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(!t)return null;const r=JSON.parse(t);return this.isSessionExpired(r)?(this.logout(),null):r.isAuthenticated?r.user:null}catch(t){return console.error("Errore nel recupero utente corrente:",t),this.logout(),null}}static isAuthenticated(){return this.getCurrentUser()!==null}static validateLoginInput(t){var n,a;const r=[];return(n=t.username)!=null&&n.trim()||r.push("Username è obbligatorio"),(a=t.password)!=null&&a.trim()||r.push("Password è obbligatoria"),t.password&&t.password.length<6&&r.push("Password troppo corta"),t.username&&!/^[a-zA-Z0-9_-]+$/.test(t.username)&&r.push("Username contiene caratteri non validi"),r}static isSessionExpired(t){return t.loginTime?Date.now()-t.loginTime>ha.SESSION_DURATION:!1}static isUserLocked(t){const r=this.getFailedAttempts(t);return r.count>=ha.MAX_LOGIN_ATTEMPTS?Date.now()-r.timestamp<ha.LOCKOUT_DURATION:!1}static recordFailedAttempt(t){const r=this.getFailedAttempts(t),n={username:t,timestamp:Date.now(),count:r.count+1};localStorage.setItem("".concat(this.FAILED_ATTEMPTS_KEY,"_").concat(t),JSON.stringify(n))}static getFailedAttempts(t){try{const r=localStorage.getItem("".concat(this.FAILED_ATTEMPTS_KEY,"_").concat(t));if(r){const n=JSON.parse(r);return Date.now()-n.timestamp>ha.LOCKOUT_DURATION?(this.clearFailedAttempts(t),{username:t,timestamp:0,count:0}):n}}catch(r){console.error("Errore nel recupero tentativi falliti:",r)}return{username:t,timestamp:0,count:0}}static clearFailedAttempts(t){localStorage.removeItem("".concat(this.FAILED_ATTEMPTS_KEY,"_").concat(t))}}Un(Xs,"STORAGE_KEY",ha.STORAGE_KEY),Un(Xs,"FAILED_ATTEMPTS_KEY",ha.FAILED_ATTEMPTS_KEY);function AP(){const[e,t]=y.useState(null),[r,n]=y.useState(!0);return y.useEffect(()=>{const o=Xs.getCurrentUser();t(o),n(!1)},[]),{user:e,isLoading:r,isAuthenticated:!!e,login:o=>G(this,null,function*(){const c=yield Xs.login(o);t(c)}),logout:()=>{Xs.logout(),t(null)}}}const _P=y.createContext(void 0);function Q3({children:e}){const t=AP();return s.jsx(_P.Provider,{value:t,children:e})}function Lt(){const e=y.useContext(_P);if(e===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return e}var Nu=e=>e.type==="checkbox",Fi=e=>e instanceof Date,Pr=e=>e==null;const PP=e=>typeof e=="object";var Wt=e=>!Pr(e)&&!Array.isArray(e)&&PP(e)&&!Fi(e),CP=e=>Wt(e)&&e.target?Nu(e.target)?e.target.checked:e.target.value:e,J3=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,OP=(e,t)=>e.has(J3(t)),eF=e=>{const t=e.constructor&&e.constructor.prototype;return Wt(t)&&t.hasOwnProperty("isPrototypeOf")},qy=typeof window!="undefined"&&typeof window.HTMLElement!="undefined"&&typeof document!="undefined";function mr(e){let t;const r=Array.isArray(e),n=typeof FileList!="undefined"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(qy&&(e instanceof Blob||n))&&(r||Wt(e)))if(t=r?[]:{},!r&&!eF(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=mr(e[a]));else return e;return t}var Th=e=>/^\w*$/.test(e),Bt=e=>e===void 0,Ky=e=>Array.isArray(e)?e.filter(Boolean):[],Gy=e=>Ky(e.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(e,t,r)=>{if(!t||!Wt(e))return r;const n=(Th(t)?[t]:Gy(t)).reduce((a,i)=>Pr(a)?a:a[i],e);return Bt(n)||n===e?Bt(e[t])?r:e[t]:n},Kr=e=>typeof e=="boolean",dt=(e,t,r)=>{let n=-1;const a=Th(t)?[t]:Gy(t),i=a.length,o=i-1;for(;++n<i;){const c=a[n];let l=r;if(n!==o){const u=e[c];l=Wt(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}};const zd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},On={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ma={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yy=M.createContext(null);Yy.displayName="HookFormContext";const Dh=()=>M.useContext(Yy),tF=e=>{const n=e,{children:t}=n,r=W(n,["children"]);return M.createElement(Yy.Provider,{value:r},t)};var EP=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==On.all&&(t._proxyFormState[o]=!n||On.all),r&&(r[o]=!0),e[o]}});return a};const Xy=typeof window!="undefined"?y.useLayoutEffect:y.useEffect;function rF(e){const t=Dh(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,c]=M.useState(r._formState),l=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Xy(()=>r._subscribe({name:a,formState:l.current,exact:i,callback:u=>{!n&&c(A(A({},r._formState),u))}}),[a,n,i]),M.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),M.useMemo(()=>EP(o,r,l.current,!1),[o,r])}var Yn=e=>typeof e=="string",kP=(e,t,r,n,a)=>Yn(e)?(n&&t.watch.add(e),me(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),me(r,i))):(n&&(t.watchAll=!0),r);function nF(e){const t=Dh(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},c=M.useRef(a),[l,u]=M.useState(r._getWatch(n,c.current));return Xy(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:d=>!i&&u(kP(n,r._names,d.values||r._formValues,!1,c.current))}),[n,r,i,o]),M.useEffect(()=>r._removeUnmounted()),l}function aF(e){const t=Dh(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=OP(a._names.array,r),c=nF({control:a,name:r,defaultValue:me(a._formValues,r,me(a._defaultValues,r,e.defaultValue)),exact:!0}),l=rF({control:a,name:r,exact:!0}),u=M.useRef(e),d=M.useRef(a.register(r,A(D(A({},e.rules),{value:c}),Kr(e.disabled)?{disabled:e.disabled}:{}))),f=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!me(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!me(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!me(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!me(l.validatingFields,r)},error:{enumerable:!0,get:()=>me(l.errors,r)}}),[l,r]),h=M.useCallback(g=>d.current.onChange({target:{value:CP(g),name:r},type:zd.CHANGE}),[r]),m=M.useCallback(()=>d.current.onBlur({target:{value:me(a._formValues,r),name:r},type:zd.BLUR}),[r,a._formValues]),v=M.useCallback(g=>{const b=me(a._fields,r);b&&g&&(b._f.ref={focus:()=>g.focus&&g.focus(),select:()=>g.select&&g.select(),setCustomValidity:x=>g.setCustomValidity(x),reportValidity:()=>g.reportValidity()})},[a._fields,r]),p=M.useMemo(()=>D(A({name:r,value:c},Kr(n)||l.disabled?{disabled:l.disabled||n}:{}),{onChange:h,onBlur:m,ref:v}),[r,n,l.disabled,h,m,v,c]);return M.useEffect(()=>{const g=a._options.shouldUnregister||i;a.register(r,A(A({},u.current.rules),Kr(u.current.disabled)?{disabled:u.current.disabled}:{}));const b=(x,j)=>{const N=me(a._fields,x);N&&N._f&&(N._f.mount=j)};if(b(r,!0),g){const x=mr(me(a._options.defaultValues,r));dt(a._defaultValues,r,x),Bt(me(a._formValues,r))&&dt(a._formValues,r,x)}return!o&&a.register(r),()=>{(o?g&&!a._state.action:g)?a.unregister(r):b(r,!1)}},[r,a,o,i]),M.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),M.useMemo(()=>({field:p,formState:l,fieldState:f}),[p,l,f])}const iF=e=>e.render(aF(e));var TP=(e,t,r,n,a)=>t?D(A({},r[e]),{types:D(A({},r[e]&&r[e].types?r[e].types:{}),{[n]:a||!0})}):{},rl=e=>Array.isArray(e)?e:[e],W0=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},vg=e=>Pr(e)||!PP(e);function Qa(e,t){if(vg(e)||vg(t))return e===t;if(Fi(e)&&Fi(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Fi(i)&&Fi(o)||Wt(i)&&Wt(o)||Array.isArray(i)&&Array.isArray(o)?!Qa(i,o):i!==o)return!1}}return!0}var Rr=e=>Wt(e)&&!Object.keys(e).length,Zy=e=>e.type==="file",En=e=>typeof e=="function",Ud=e=>{if(!qy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},DP=e=>e.type==="select-multiple",Qy=e=>e.type==="radio",sF=e=>Qy(e)||Nu(e),lp=e=>Ud(e)&&e.isConnected;function oF(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Bt(e)?n++:e[t[n++]];return e}function cF(e){for(const t in e)if(e.hasOwnProperty(t)&&!Bt(e[t]))return!1;return!0}function Jt(e,t){const r=Array.isArray(t)?t:Th(t)?[t]:Gy(t),n=r.length===1?e:oF(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Wt(n)&&Rr(n)||Array.isArray(n)&&cF(n))&&Jt(e,r.slice(0,-1)),e}var MP=e=>{for(const t in e)if(En(e[t]))return!0;return!1};function Wd(e,t={}){const r=Array.isArray(e);if(Wt(e)||r)for(const n in e)Array.isArray(e[n])||Wt(e[n])&&!MP(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Wd(e[n],t[n])):Pr(e[n])||(t[n]=!0);return t}function IP(e,t,r){const n=Array.isArray(e);if(Wt(e)||n)for(const a in e)Array.isArray(e[a])||Wt(e[a])&&!MP(e[a])?Bt(t)||vg(r[a])?r[a]=Array.isArray(e[a])?Wd(e[a],[]):A({},Wd(e[a])):IP(e[a],Pr(t)?{}:t[a],r[a]):r[a]=!Qa(e[a],t[a]);return r}var Lc=(e,t)=>IP(e,t,Wd(t));const V0={value:!1,isValid:!1},H0={value:!0,isValid:!0};var $P=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||e[0].value===""?H0:{value:e[0].value,isValid:!0}:H0:V0}return V0},RP=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Bt(e)?e:t?e===""?NaN:e&&+e:r&&Yn(e)?new Date(e):n?n(e):e;const q0={isValid:!1,value:null};var LP=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,q0):q0;function K0(e){const t=e.ref;return Zy(t)?t.files:Qy(t)?LP(e.refs).value:DP(t)?[...t.selectedOptions].map(({value:r})=>r):Nu(t)?$P(e.refs).value:RP(Bt(t.value)?e.ref.value:t.value,e)}var lF=(e,t,r,n)=>{const a={};for(const i of e){const o=me(t,i);o&&dt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Vd=e=>e instanceof RegExp,Fc=e=>Bt(e)?e:Vd(e)?e.source:Wt(e)?Vd(e.value)?e.value.source:e.value:e,G0=e=>({isOnSubmit:!e||e===On.onSubmit,isOnBlur:e===On.onBlur,isOnChange:e===On.onChange,isOnAll:e===On.all,isOnTouch:e===On.onTouched});const Y0="AsyncFunction";var uF=e=>!!e&&!!e.validate&&!!(En(e.validate)&&e.validate.constructor.name===Y0||Wt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Y0)),dF=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),X0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const nl=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const o=me(e,i);if(o){const a=o,{_f:c}=a,l=W(a,["_f"]);if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],i)&&!n)return!0;if(c.ref&&t(c.ref,c.name)&&!n)return!0;if(nl(l,t))break}else if(Wt(l)&&nl(l,t))break}}};function Z0(e,t,r){const n=me(e,r);if(n||Th(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=me(t,i),c=me(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:"".concat(i,".root"),error:c.root};a.pop()}return{name:r}}var fF=(e,t,r,n)=>{r(e);const o=e,{name:a}=o,i=W(o,["name"]);return Rr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(c=>t[c]===(!n||On.all))},hF=(e,t,r)=>!e||!t||e===t||rl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),mF=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,pF=(e,t)=>!Ky(me(e,t)).length&&Jt(e,t),gF=(e,t,r)=>{const n=rl(me(e,r));return dt(n,"root",t[r]),dt(e,r,n),e},jd=e=>Yn(e);function Q0(e,t,r="validate"){if(jd(e)||Array.isArray(e)&&e.every(jd)||Kr(e)&&!e)return{type:r,message:jd(e)?e:"",ref:t}}var Cs=e=>Wt(e)&&!Vd(e)?e:{value:e,message:""},J0=(e,t,r,n,a,i)=>G(Vu,null,function*(){const{ref:o,refs:c,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:v,name:p,valueAsNumber:g,mount:b}=e._f,x=me(r,p);if(!b||t.has(p))return{};const j=c?c[0]:o,N=O=>{a&&j.reportValidity&&(j.setCustomValidity(Kr(O)?"":O||""),j.reportValidity())},w={},S=Qy(o),P=Nu(o),k=S||P,T=(g||Zy(o))&&Bt(o.value)&&Bt(x)||Ud(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,E=TP.bind(null,p,n,w),_=(O,C,R,I=ma.maxLength,F=ma.minLength)=>{const B=O?C:R;w[p]=A({type:O?I:F,message:B,ref:o},E(O?I:F,B))};if(i?!Array.isArray(x)||!x.length:l&&(!k&&(T||Pr(x))||Kr(x)&&!x||P&&!$P(c).isValid||S&&!LP(c).isValid)){const{value:O,message:C}=jd(l)?{value:!!l,message:l}:Cs(l);if(O&&(w[p]=A({type:ma.required,message:C,ref:j},E(ma.required,C)),!n))return N(C),w}if(!T&&(!Pr(f)||!Pr(h))){let O,C;const R=Cs(h),I=Cs(f);if(!Pr(x)&&!isNaN(x)){const F=o.valueAsNumber||x&&+x;Pr(R.value)||(O=F>R.value),Pr(I.value)||(C=F<I.value)}else{const F=o.valueAsDate||new Date(x),B=U=>new Date(new Date().toDateString()+" "+U),L=o.type=="time",z=o.type=="week";Yn(R.value)&&x&&(O=L?B(x)>B(R.value):z?x>R.value:F>new Date(R.value)),Yn(I.value)&&x&&(C=L?B(x)<B(I.value):z?x<I.value:F<new Date(I.value))}if((O||C)&&(_(!!O,R.message,I.message,ma.max,ma.min),!n))return N(w[p].message),w}if((u||d)&&!T&&(Yn(x)||i&&Array.isArray(x))){const O=Cs(u),C=Cs(d),R=!Pr(O.value)&&x.length>+O.value,I=!Pr(C.value)&&x.length<+C.value;if((R||I)&&(_(R,O.message,C.message),!n))return N(w[p].message),w}if(m&&!T&&Yn(x)){const{value:O,message:C}=Cs(m);if(Vd(O)&&!x.match(O)&&(w[p]=A({type:ma.pattern,message:C,ref:o},E(ma.pattern,C)),!n))return N(C),w}if(v){if(En(v)){const O=yield v(x,r),C=Q0(O,j);if(C&&(w[p]=A(A({},C),E(ma.validate,C.message)),!n))return N(C.message),w}else if(Wt(v)){let O={};for(const C in v){if(!Rr(O)&&!n)break;const R=Q0(yield v[C](x,r),j,C);R&&(O=A(A({},R),E(C,R.message)),N(R.message),n&&(w[p]=O))}if(!Rr(O)&&(w[p]=A({ref:j},O),!n))return w}}return N(!0),w});const vF={mode:On.onSubmit,reValidateMode:On.onChange,shouldFocusError:!0};function yF(e={}){let t=A(A({},vF),e),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:En(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Wt(t.defaultValues)||Wt(t.values)?mr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:mr(a),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f=A({},d);const h={array:W0(),state:W0()},m=t.criteriaMode===On.all,v=$=>V=>{clearTimeout(u),u=setTimeout($,V)},p=$=>G(this,null,function*(){if(!t.disabled&&(d.isValid||f.isValid||$)){const V=t.resolver?Rr((yield P()).errors):yield T(n,!0);V!==r.isValid&&h.state.next({isValid:V})}}),g=($,V)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(c.mount)).forEach(q=>{q&&(V?dt(r.validatingFields,q,V):Jt(r.validatingFields,q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Rr(r.validatingFields)}))},b=($,V=[],q,ye,fe=!0,le=!0)=>{if(ye&&q&&!t.disabled){if(o.action=!0,le&&Array.isArray(me(n,$))){const _e=q(me(n,$),ye.argA,ye.argB);fe&&dt(n,$,_e)}if(le&&Array.isArray(me(r.errors,$))){const _e=q(me(r.errors,$),ye.argA,ye.argB);fe&&dt(r.errors,$,_e),pF(r.errors,$)}if((d.touchedFields||f.touchedFields)&&le&&Array.isArray(me(r.touchedFields,$))){const _e=q(me(r.touchedFields,$),ye.argA,ye.argB);fe&&dt(r.touchedFields,$,_e)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Lc(a,i)),h.state.next({name:$,isDirty:_($,V),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else dt(i,$,V)},x=($,V)=>{dt(r.errors,$,V),h.state.next({errors:r.errors})},j=$=>{r.errors=$,h.state.next({errors:r.errors,isValid:!1})},N=($,V,q,ye)=>{const fe=me(n,$);if(fe){const le=me(i,$,Bt(q)?me(a,$):q);Bt(le)||ye&&ye.defaultChecked||V?dt(i,$,V?le:K0(fe._f)):R($,le),o.mount&&p()}},w=($,V,q,ye,fe)=>{let le=!1,_e=!1;const Ke={name:$};if(!t.disabled){if(!q||ye){(d.isDirty||f.isDirty)&&(_e=r.isDirty,r.isDirty=Ke.isDirty=_(),le=_e!==Ke.isDirty);const Ge=Qa(me(a,$),V);_e=!!me(r.dirtyFields,$),Ge?Jt(r.dirtyFields,$):dt(r.dirtyFields,$,!0),Ke.dirtyFields=r.dirtyFields,le=le||(d.dirtyFields||f.dirtyFields)&&_e!==!Ge}if(q){const Ge=me(r.touchedFields,$);Ge||(dt(r.touchedFields,$,q),Ke.touchedFields=r.touchedFields,le=le||(d.touchedFields||f.touchedFields)&&Ge!==q)}le&&fe&&h.state.next(Ke)}return le?Ke:{}},S=($,V,q,ye)=>{const fe=me(r.errors,$),le=(d.isValid||f.isValid)&&Kr(V)&&r.isValid!==V;if(t.delayError&&q?(l=v(()=>x($,q)),l(t.delayError)):(clearTimeout(u),l=null,q?dt(r.errors,$,q):Jt(r.errors,$)),(q?!Qa(fe,q):fe)||!Rr(ye)||le){const _e=D(A(A({},ye),le&&Kr(V)?{isValid:V}:{}),{errors:r.errors,name:$});r=A(A({},r),_e),h.state.next(_e)}},P=$=>G(this,null,function*(){g($,!0);const V=yield t.resolver(i,t.context,lF($||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g($),V}),k=$=>G(this,null,function*(){const{errors:V}=yield P($);if($)for(const q of $){const ye=me(V,q);ye?dt(r.errors,q,ye):Jt(r.errors,q)}else r.errors=V;return V}),T=(ye,fe,...le)=>G(this,[ye,fe,...le],function*($,V,q={valid:!0}){for(const Ke in $){const Ge=$[Ke];if(Ge){const _e=Ge,{_f:yt}=_e,X=W(_e,["_f"]);if(yt){const de=c.array.has(yt.name),Pe=Ge._f&&uF(Ge._f);Pe&&d.validatingFields&&g([Ke],!0);const Ce=yield J0(Ge,c.disabled,i,m,t.shouldUseNativeValidation&&!V,de);if(Pe&&d.validatingFields&&g([Ke]),Ce[yt.name]&&(q.valid=!1,V))break;!V&&(me(Ce,yt.name)?de?gF(r.errors,Ce,yt.name):dt(r.errors,yt.name,Ce[yt.name]):Jt(r.errors,yt.name))}!Rr(X)&&(yield T(X,V,q))}}return q.valid}),E=()=>{for(const $ of c.unMount){const V=me(n,$);V&&(V._f.refs?V._f.refs.every(q=>!lp(q)):!lp(V._f.ref))&&Fe($)}c.unMount=new Set},_=($,V)=>!t.disabled&&($&&V&&dt(i,$,V),!Qa(U(),a)),O=($,V,q)=>kP($,c,A({},o.mount?i:Bt(V)?a:Yn($)?{[$]:V}:V),q,V),C=$=>Ky(me(o.mount?i:a,$,t.shouldUnregister?me(a,$,[]):[])),R=($,V,q={})=>{const ye=me(n,$);let fe=V;if(ye){const le=ye._f;le&&(!le.disabled&&dt(i,$,RP(V,le)),fe=Ud(le.ref)&&Pr(V)?"":V,DP(le.ref)?[...le.ref.options].forEach(_e=>_e.selected=fe.includes(_e.value)):le.refs?Nu(le.ref)?le.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(fe)?_e.checked=!!fe.find(Ke=>Ke===_e.value):_e.checked=fe===_e.value||!!fe)}):le.refs.forEach(_e=>_e.checked=_e.value===fe):Zy(le.ref)?le.ref.value="":(le.ref.value=fe,le.ref.type||h.state.next({name:$,values:mr(i)})))}(q.shouldDirty||q.shouldTouch)&&w($,fe,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&z($)},I=($,V,q)=>{for(const ye in V){if(!V.hasOwnProperty(ye))return;const fe=V[ye],le=$+"."+ye,_e=me(n,le);(c.array.has($)||Wt(fe)||_e&&!_e._f)&&!Fi(fe)?I(le,fe,q):R(le,fe,q)}},F=($,V,q={})=>{const ye=me(n,$),fe=c.array.has($),le=mr(V);dt(i,$,le),fe?(h.array.next({name:$,values:mr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&h.state.next({name:$,dirtyFields:Lc(a,i),isDirty:_($,le)})):ye&&!ye._f&&!Pr(le)?I($,le,q):R($,le,q),X0($,c)&&h.state.next(A({},r)),h.state.next({name:o.mount?$:void 0,values:mr(i)})},B=$=>G(this,null,function*(){o.mount=!0;const V=$.target;let q=V.name,ye=!0;const fe=me(n,q),le=Ge=>{ye=Number.isNaN(Ge)||Fi(Ge)&&isNaN(Ge.getTime())||Qa(Ge,me(i,q,Ge))},_e=G0(t.mode),Ke=G0(t.reValidateMode);if(fe){let Ge,yt;const X=V.type?K0(fe._f):CP($),de=$.type===zd.BLUR||$.type===zd.FOCUS_OUT,Pe=!dF(fe._f)&&!t.resolver&&!me(r.errors,q)&&!fe._f.deps||mF(de,me(r.touchedFields,q),r.isSubmitted,Ke,_e),Ce=X0(q,c,de);dt(i,q,X),de?(fe._f.onBlur&&fe._f.onBlur($),l&&l(0)):fe._f.onChange&&fe._f.onChange($);const xt=w(q,X,de),tt=!Rr(xt)||Ce;if(!de&&h.state.next({name:q,type:$.type,values:mr(i)}),Pe)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?de&&p():de||p()),tt&&h.state.next(A({name:q},Ce?{}:xt));if(!de&&Ce&&h.state.next(A({},r)),t.resolver){const{errors:At}=yield P([q]);if(le(X),ye){const _t=Z0(r.errors,n,q),Ic=Z0(At,n,_t.name||q);Ge=Ic.error,q=Ic.name,yt=Rr(At)}}else g([q],!0),Ge=(yield J0(fe,c.disabled,i,m,t.shouldUseNativeValidation))[q],g([q]),le(X),ye&&(Ge?yt=!1:(d.isValid||f.isValid)&&(yt=yield T(n,!0)));ye&&(fe._f.deps&&z(fe._f.deps),S(q,yt,Ge,xt))}}),L=($,V)=>{if(me(r.errors,V)&&$.focus)return $.focus(),1},z=(q,...ye)=>G(this,[q,...ye],function*($,V={}){let fe,le;const _e=rl($);if(t.resolver){const Ke=yield k(Bt($)?$:_e);fe=Rr(Ke),le=$?!_e.some(Ge=>me(Ke,Ge)):fe}else $?(le=(yield Promise.all(_e.map(Ke=>G(this,null,function*(){const Ge=me(n,Ke);return yield T(Ge&&Ge._f?{[Ke]:Ge}:Ge)})))).every(Boolean),!(!le&&!r.isValid)&&p()):le=fe=yield T(n);return h.state.next(D(A(A({},!Yn($)||(d.isValid||f.isValid)&&fe!==r.isValid?{}:{name:$}),t.resolver||!$?{isValid:fe}:{}),{errors:r.errors})),V.shouldFocus&&!le&&nl(n,L,$?_e:c.mount),le}),U=$=>{const V=A({},o.mount?i:a);return Bt($)?V:Yn($)?me(V,$):$.map(q=>me(V,q))},Z=($,V)=>({invalid:!!me((V||r).errors,$),isDirty:!!me((V||r).dirtyFields,$),error:me((V||r).errors,$),isValidating:!!me(r.validatingFields,$),isTouched:!!me((V||r).touchedFields,$)}),K=$=>{$&&rl($).forEach(V=>Jt(r.errors,V)),h.state.next({errors:$?r.errors:{}})},ie=($,V,q)=>{const ye=(me(n,$,{_f:{}})._f||{}).ref,yt=me(r.errors,$)||{},{ref:le,message:_e,type:Ke}=yt,Ge=W(yt,["ref","message","type"]);dt(r.errors,$,D(A(A({},Ge),V),{ref:ye})),h.state.next({name:$,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&ye&&ye.focus&&ye.focus()},xe=($,V)=>En($)?h.state.subscribe({next:q=>$(O(void 0,V),q)}):O($,V,!0),ke=$=>h.state.subscribe({next:V=>{hF($.name,V.name,$.exact)&&fF(V,$.formState||d,lt,$.reRenderRoot)&&$.callback(A(A({values:A({},i)},r),V))}}).unsubscribe,Oe=$=>(o.mount=!0,f=A(A({},f),$.formState),ke(D(A({},$),{formState:f}))),Fe=($,V={})=>{for(const q of $?rl($):c.mount)c.mount.delete(q),c.array.delete(q),V.keepValue||(Jt(n,q),Jt(i,q)),!V.keepError&&Jt(r.errors,q),!V.keepDirty&&Jt(r.dirtyFields,q),!V.keepTouched&&Jt(r.touchedFields,q),!V.keepIsValidating&&Jt(r.validatingFields,q),!t.shouldUnregister&&!V.keepDefaultValue&&Jt(a,q);h.state.next({values:mr(i)}),h.state.next(A(A({},r),V.keepDirty?{isDirty:_()}:{})),!V.keepIsValid&&p()},ue=({disabled:$,name:V})=>{(Kr($)&&o.mount||$||c.disabled.has(V))&&($?c.disabled.add(V):c.disabled.delete(V))},ee=($,V={})=>{let q=me(n,$);const ye=Kr(V.disabled)||Kr(t.disabled);return dt(n,$,D(A({},q||{}),{_f:A(D(A({},q&&q._f?q._f:{ref:{name:$}}),{name:$,mount:!0}),V)})),c.mount.add($),q?ue({disabled:Kr(V.disabled)?V.disabled:t.disabled,name:$}):N($,!0,V.value),D(A(A({},ye?{disabled:V.disabled||t.disabled}:{}),t.progressive?{required:!!V.required,min:Fc(V.min),max:Fc(V.max),minLength:Fc(V.minLength),maxLength:Fc(V.maxLength),pattern:Fc(V.pattern)}:{}),{name:$,onChange:B,onBlur:B,ref:fe=>{if(fe){ee($,V),q=me(n,$);const le=Bt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,_e=sF(le),Ke=q._f.refs||[];if(_e?Ke.find(Ge=>Ge===le):le===q._f.ref)return;dt(n,$,{_f:A(A({},q._f),_e?{refs:[...Ke.filter(lp),le,...Array.isArray(me(a,$))?[{}]:[]],ref:{type:le.type,name:$}}:{ref:le})}),N($,!1,void 0,le)}else q=me(n,$,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(OP(c.array,$)&&o.action)&&c.unMount.add($)}})},Y=()=>t.shouldFocusError&&nl(n,L,c.mount),Q=$=>{Kr($)&&(h.state.next({disabled:$}),nl(n,(V,q)=>{const ye=me(n,q);ye&&(V.disabled=ye._f.disabled||$,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(fe=>{fe.disabled=ye._f.disabled||$}))},0,!1))},H=($,V)=>q=>G(this,null,function*(){let ye;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let fe=mr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:le,values:_e}=yield P();r.errors=le,fe=_e}else yield T(n);if(c.disabled.size)for(const le of c.disabled)dt(fe,le,void 0);if(Jt(r.errors,"root"),Rr(r.errors)){h.state.next({errors:{}});try{yield $(fe,q)}catch(le){ye=le}}else V&&(yield V(A({},r.errors),q)),Y(),setTimeout(Y);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rr(r.errors)&&!ye,submitCount:r.submitCount+1,errors:r.errors}),ye)throw ye}),re=($,V={})=>{me(n,$)&&(Bt(V.defaultValue)?F($,mr(me(a,$))):(F($,V.defaultValue),dt(a,$,mr(V.defaultValue))),V.keepTouched||Jt(r.touchedFields,$),V.keepDirty||(Jt(r.dirtyFields,$),r.isDirty=V.defaultValue?_($,mr(me(a,$))):_()),V.keepError||(Jt(r.errors,$),d.isValid&&p()),h.state.next(A({},r)))},se=($,V={})=>{const q=$?mr($):a,ye=mr(q),fe=Rr($),le=fe?a:ye;if(V.keepDefaultValues||(a=q),!V.keepValues){if(V.keepDirtyValues){const _e=new Set([...c.mount,...Object.keys(Lc(a,i))]);for(const Ke of Array.from(_e))me(r.dirtyFields,Ke)?dt(le,Ke,me(i,Ke)):F(Ke,me(le,Ke))}else{if(qy&&Bt($))for(const _e of c.mount){const Ke=me(n,_e);if(Ke&&Ke._f){const Ge=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(Ud(Ge)){const yt=Ge.closest("form");if(yt){yt.reset();break}}}}for(const _e of c.mount)F(_e,me(le,_e))}i=mr(le),h.array.next({values:A({},le)}),h.state.next({values:A({},le)})}c={mount:V.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:V.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:V.keepDirty?r.isDirty:!!(V.keepDefaultValues&&!Qa($,a)),isSubmitted:V.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:V.keepDirtyValues?V.keepDefaultValues&&i?Lc(a,i):r.dirtyFields:V.keepDefaultValues&&$?Lc(a,$):V.keepDirty?r.dirtyFields:{},touchedFields:V.keepTouched?r.touchedFields:{},errors:V.keepErrors?r.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ae=($,V)=>se(En($)?$(i):$,V),Be=($,V={})=>{const q=me(n,$),ye=q&&q._f;if(ye){const fe=ye.refs?ye.refs[0]:ye.ref;fe.focus&&(fe.focus(),V.shouldSelect&&En(fe.select)&&fe.select())}},lt=$=>{r=A(A({},r),$)},ze={control:{register:ee,unregister:Fe,getFieldState:Z,handleSubmit:H,setError:ie,_subscribe:ke,_runSchema:P,_focusError:Y,_getWatch:O,_getDirty:_,_setValid:p,_setFieldArray:b,_setDisabledField:ue,_setErrors:j,_getFieldArray:C,_reset:se,_resetDefaultValues:()=>En(t.defaultValues)&&t.defaultValues().then($=>{Ae($,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:Q,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state($){o=$},get _defaultValues(){return a},get _names(){return c},set _names($){c=$},get _formState(){return r},get _options(){return t},set _options($){t=A(A({},t),$)}},subscribe:Oe,trigger:z,register:ee,handleSubmit:H,watch:xe,setValue:F,getValues:U,reset:Ae,resetField:re,clearErrors:K,unregister:Fe,setError:ie,setFocus:Be,getFieldState:Z};return D(A({},ze),{formControl:ze})}function oc(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,a]=M.useState({isDirty:!1,isValidating:!1,isLoading:En(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:En(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=D(A({},e.formControl),{formState:n}),e.defaultValues&&!En(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const o=yF(e),{formControl:c}=o,l=W(o,["formControl"]);t.current=D(A({},l),{formState:n})}const i=t.current.control;return i._options=e,Xy(()=>{const c=i._subscribe({formState:i._proxyFormState,callback:()=>a(A({},i._formState)),reRenderRoot:!0});return a(l=>D(A({},l),{isReady:!0})),i._formState.isReady=!0,c},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const c=i._getDirty();c!==n.isDirty&&i._subjects.state.next({isDirty:c})}},[i,n.isDirty]),M.useEffect(()=>{e.values&&!Qa(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(c=>A({},c))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next(A({},i._formState))),i._removeUnmounted()}),t.current.formState=EP(n,i),t.current}const ew=(e,t,r)=>{if(e&&"reportValidity"in e){const n=me(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},FP=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?ew(n.ref,r,e):n.refs&&n.refs.forEach(a=>ew(a,r,e))}},xF=(e,t)=>{t.shouldUseNativeValidation&&FP(e,t);const r={};for(const n in e){const a=me(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(bF(t.names||Object.keys(e),n)){const o=Object.assign({},me(r,n));dt(o,"root",i),dt(r,n,o)}else dt(r,n,i)}return r},bF=(e,t)=>e.some(r=>r.startsWith(t+"."));var wF=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[o].types,u=l&&l[n.code];r[o]=TP(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},BP=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,c){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&FP({},i),{errors:{},values:r.raw?n:u}})}catch(u){return c(u)}return l&&l.then?l.then(void 0,c):l}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:xF(wF(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ot;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),o={};for(const c of i)o[c]=a[c];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?"'".concat(o,"'"):o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ot||(ot={}));var tw;(function(e){e.mergeShapes=(t,r)=>A(A({},t),r)})(tw||(tw={}));const Ne=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ga=e=>{switch(typeof e){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return Number.isNaN(e)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(e)?Ne.array:e===null?Ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ne.promise:typeof Map!="undefined"&&e instanceof Map?Ne.map:typeof Set!="undefined"&&e instanceof Set?Ne.set:typeof Date!="undefined"&&e instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},ce=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ta extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let c=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(o))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return a(this),n}static assert(t){if(!(t instanceof Ta))throw new Error("Not a ZodError: ".concat(t))}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ta.create=e=>new Ta(e);const yg=(e,t)=>{let r;switch(e.code){case ce.invalid_type:e.received===Ne.undefined?r="Required":r="Expected ".concat(e.expected,", received ").concat(e.received);break;case ce.invalid_literal:r="Invalid literal value, expected ".concat(JSON.stringify(e.expected,ot.jsonStringifyReplacer));break;case ce.unrecognized_keys:r="Unrecognized key(s) in object: ".concat(ot.joinValues(e.keys,", "));break;case ce.invalid_union:r="Invalid input";break;case ce.invalid_union_discriminator:r="Invalid discriminator value. Expected ".concat(ot.joinValues(e.options));break;case ce.invalid_enum_value:r="Invalid enum value. Expected ".concat(ot.joinValues(e.options),", received '").concat(e.received,"'");break;case ce.invalid_arguments:r="Invalid function arguments";break;case ce.invalid_return_type:r="Invalid function return type";break;case ce.invalid_date:r="Invalid date";break;case ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r='Invalid input: must include "'.concat(e.validation.includes,'"'),typeof e.validation.position=="number"&&(r="".concat(r," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?r='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?r='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):ot.assertNever(e.validation):e.validation!=="regex"?r="Invalid ".concat(e.validation):r="Invalid";break;case ce.too_small:e.type==="array"?r="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):e.type==="string"?r="String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):e.type==="number"?r="Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):e.type==="date"?r="Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):r="Invalid input";break;case ce.too_big:e.type==="array"?r="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):e.type==="string"?r="String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):e.type==="number"?r="Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="bigint"?r="BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="date"?r="Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):r="Invalid input";break;case ce.custom:r="Invalid input";break;case ce.invalid_intersection_types:r="Intersection results could not be merged";break;case ce.not_multiple_of:r="Number must be a multiple of ".concat(e.multipleOf);break;case ce.not_finite:r="Number must be finite";break;default:r=t.defaultError,ot.assertNever(e)}return{message:r}};let jF=yg;function NF(){return jF}const SF=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o=D(A({},a),{path:i});if(a.message!==void 0)return D(A({},a),{path:i,message:a.message});let c="";const l=n.filter(u=>!!u).slice().reverse();for(const u of l)c=u(o,{data:t,defaultError:c}).message;return D(A({},a),{path:i,message:c})};function be(e,t){const r=NF(),n=SF({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===yg?void 0:yg].filter(a=>!!a)});e.common.issues.push(n)}class en{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ue;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static mergeObjectAsync(t,r){return G(this,null,function*(){const n=[];for(const a of r){const i=yield a.key,o=yield a.value;n.push({key:i,value:o})}return en.mergeObjectSync(t,n)})}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ue;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value!="undefined"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ue=Object.freeze({status:"aborted"}),Xc=e=>({status:"dirty",value:e}),xn=e=>({status:"valid",value:e}),rw=e=>e.status==="aborted",nw=e=>e.status==="dirty",vo=e=>e.status==="valid",Hd=e=>typeof Promise!="undefined"&&e instanceof Promise;var Se;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Se||(Se={}));class gi{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aw=(e,t)=>{if(vo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ta(e.common.issues);return this._error=r,this._error}}};function Ze(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:a}:{errorMap:(o,c)=>{var u,d;const{message:l}=e;return o.code==="invalid_enum_value"?{message:l!=null?l:c.defaultError}:typeof c.data=="undefined"?{message:(u=l!=null?l:n)!=null?u:c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:(d=l!=null?l:r)!=null?d:c.defaultError}},description:a}}class nt{get description(){return this._def.description}_getType(t){return Ga(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ga(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new en,ctx:{common:t.parent.common,data:t.data,parsedType:Ga(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Hd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var i;const n={common:{issues:[],async:(i=r==null?void 0:r.async)!=null?i:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ga(t)},a=this._parseSync({data:t,path:n.path,parent:n});return aw(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ga(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return vo(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>vo(i)?{value:i.value}:{issues:r.common.issues})}parseAsync(t,r){return G(this,null,function*(){const n=yield this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error})}safeParseAsync(t,r){return G(this,null,function*(){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ga(t)},a=this._parse({data:t,path:n.path,parent:n}),i=yield Hd(a)?a:Promise.resolve(a);return aw(n,i)})}refine(t,r){const n=a=>typeof r=="string"||typeof r=="undefined"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),c=()=>i.addIssue(A({code:ce.custom},n(a)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(l=>l?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new xo({schema:this,typeName:We.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ci.create(this,this._def)}nullable(){return bo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ea.create(this)}promise(){return Yd.create(this,this._def)}or(t){return Kd.create([this,t],this._def)}and(t){return Gd.create(this,t,this._def)}transform(t){return new xo(D(A({},Ze(this._def)),{schema:this,typeName:We.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){const r=typeof t=="function"?t:()=>t;return new bg(D(A({},Ze(this._def)),{innerType:this,defaultValue:r,typeName:We.ZodDefault}))}brand(){return new KF(A({typeName:We.ZodBranded,type:this},Ze(this._def)))}catch(t){const r=typeof t=="function"?t:()=>t;return new wg(D(A({},Ze(this._def)),{innerType:this,catchValue:r,typeName:We.ZodCatch}))}describe(t){const r=this.constructor;return new r(D(A({},this._def),{description:t}))}pipe(t){return Jy.create(this,t)}readonly(){return jg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const AF=/^c[^\s-]{8,}$/i,_F=/^[0-9a-z]+$/,PF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,CF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,OF=/^[a-z0-9_-]{21}$/i,EF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,TF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let up;const MF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$F=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,RF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,FF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BF=new RegExp("^".concat(zP,"$"));function UP(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):e.precision==null&&(t="".concat(t,"(\\.\\d+)?"));const r=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(r)}function zF(e){return new RegExp("^".concat(UP(e),"$"))}function UF(e){let t="".concat(zP,"T").concat(UP(e));const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(r.join("|"),")"),new RegExp("^".concat(t,"$"))}function WF(e,t){return!!((t==="v4"||!t)&&MF.test(e)||(t==="v6"||!t)&&$F.test(e))}function VF(e,t){if(!EF.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch(r){return!1}}function HF(e,t){return!!((t==="v4"||!t)&&IF.test(e)||(t==="v6"||!t)&&RF.test(e))}class ii extends nt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ne.string){const i=this._getOrReturnCtx(t);return be(i,{code:ce.invalid_type,expected:Ne.string,received:i.parsedType}),Ue}const n=new en;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,c=t.data.length<i.value;(o||c)&&(a=this._getOrReturnCtx(t,a),o?be(a,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&be(a,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")TF.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"email",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")up||(up=new RegExp(DF,"u")),up.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"emoji",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")CF.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"uuid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")OF.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"nanoid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")AF.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"cuid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")_F.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"cuid2",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")PF.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"ulid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch(o){a=this._getOrReturnCtx(t,a),be(a,{validation:"url",code:ce.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"regex",code:ce.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),be(a,{code:ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),be(a,{code:ce.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),be(a,{code:ce.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?UF(i).test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{code:ce.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?BF.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{code:ce.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?zF(i).test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{code:ce.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?kF.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"duration",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?WF(t.data,i.version)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"ip",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?VF(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"jwt",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?HF(t.data,i.version)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"cidr",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?LF.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"base64",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?FF.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"base64url",code:ce.invalid_string,message:i.message}),n.dirty()):ot.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),A({validation:r,code:ce.invalid_string},Se.errToObj(n)))}_addCheck(t){return new ii(D(A({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(A({kind:"email"},Se.errToObj(t)))}url(t){return this._addCheck(A({kind:"url"},Se.errToObj(t)))}emoji(t){return this._addCheck(A({kind:"emoji"},Se.errToObj(t)))}uuid(t){return this._addCheck(A({kind:"uuid"},Se.errToObj(t)))}nanoid(t){return this._addCheck(A({kind:"nanoid"},Se.errToObj(t)))}cuid(t){return this._addCheck(A({kind:"cuid"},Se.errToObj(t)))}cuid2(t){return this._addCheck(A({kind:"cuid2"},Se.errToObj(t)))}ulid(t){return this._addCheck(A({kind:"ulid"},Se.errToObj(t)))}base64(t){return this._addCheck(A({kind:"base64"},Se.errToObj(t)))}base64url(t){return this._addCheck(A({kind:"base64url"},Se.errToObj(t)))}jwt(t){return this._addCheck(A({kind:"jwt"},Se.errToObj(t)))}ip(t){return this._addCheck(A({kind:"ip"},Se.errToObj(t)))}cidr(t){return this._addCheck(A({kind:"cidr"},Se.errToObj(t)))}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck(A({kind:"datetime",precision:typeof(t==null?void 0:t.precision)=="undefined"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!=null?r:!1,local:(n=t==null?void 0:t.local)!=null?n:!1},Se.errToObj(t==null?void 0:t.message)))}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck(A({kind:"time",precision:typeof(t==null?void 0:t.precision)=="undefined"?null:t==null?void 0:t.precision},Se.errToObj(t==null?void 0:t.message)))}duration(t){return this._addCheck(A({kind:"duration"},Se.errToObj(t)))}regex(t,r){return this._addCheck(A({kind:"regex",regex:t},Se.errToObj(r)))}includes(t,r){return this._addCheck(A({kind:"includes",value:t,position:r==null?void 0:r.position},Se.errToObj(r==null?void 0:r.message)))}startsWith(t,r){return this._addCheck(A({kind:"startsWith",value:t},Se.errToObj(r)))}endsWith(t,r){return this._addCheck(A({kind:"endsWith",value:t},Se.errToObj(r)))}min(t,r){return this._addCheck(A({kind:"min",value:t},Se.errToObj(r)))}max(t,r){return this._addCheck(A({kind:"max",value:t},Se.errToObj(r)))}length(t,r){return this._addCheck(A({kind:"length",value:t},Se.errToObj(r)))}nonempty(t){return this.min(1,Se.errToObj(t))}trim(){return new ii(D(A({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new ii(D(A({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new ii(D(A({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ii.create=e=>{var t;return new ii(A({checks:[],typeName:We.ZodString,coerce:(t=e==null?void 0:e.coerce)!=null?t:!1},Ze(e)))};function qF(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/Ku(10,a)}class vl extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ne.number){const i=this._getOrReturnCtx(t);return be(i,{code:ce.invalid_type,expected:Ne.number,received:i.parsedType}),Ue}let n;const a=new en;for(const i of this._def.checks)i.kind==="int"?ot.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),be(n,{code:ce.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?qF(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),be(n,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),be(n,{code:ce.not_finite,message:i.message}),a.dirty()):ot.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,a){return new vl(D(A({},this._def),{checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(a)}]}))}_addCheck(t){return new vl(D(A({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:Se.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Se.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ot.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}vl.create=e=>new vl(A({checks:[],typeName:We.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1},Ze(e)));class yl extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch(i){return this._getInvalidInput(t)}if(this._getType(t)!==Ne.bigint)return this._getInvalidInput(t);let n;const a=new en;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ot.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return be(r,{code:ce.invalid_type,expected:Ne.bigint,received:r.parsedType}),Ue}gte(t,r){return this.setLimit("min",t,!0,Se.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Se.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Se.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Se.toString(r))}setLimit(t,r,n,a){return new yl(D(A({},this._def),{checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Se.toString(a)}]}))}_addCheck(t){return new yl(D(A({},this._def),{checks:[...this._def.checks,t]}))}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Se.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}yl.create=e=>{var t;return new yl(A({checks:[],typeName:We.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!=null?t:!1},Ze(e)))};class iw extends nt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ne.boolean){const n=this._getOrReturnCtx(t);return be(n,{code:ce.invalid_type,expected:Ne.boolean,received:n.parsedType}),Ue}return xn(t.data)}}iw.create=e=>new iw(A({typeName:We.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1},Ze(e)));class qd extends nt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ne.date){const i=this._getOrReturnCtx(t);return be(i,{code:ce.invalid_type,expected:Ne.date,received:i.parsedType}),Ue}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return be(i,{code:ce.invalid_date}),Ue}const n=new en;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ot.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new qd(D(A({},this._def),{checks:[...this._def.checks,t]}))}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Se.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Se.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}qd.create=e=>new qd(A({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:We.ZodDate},Ze(e)));class sw extends nt{_parse(t){if(this._getType(t)!==Ne.symbol){const n=this._getOrReturnCtx(t);return be(n,{code:ce.invalid_type,expected:Ne.symbol,received:n.parsedType}),Ue}return xn(t.data)}}sw.create=e=>new sw(A({typeName:We.ZodSymbol},Ze(e)));class ow extends nt{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return be(n,{code:ce.invalid_type,expected:Ne.undefined,received:n.parsedType}),Ue}return xn(t.data)}}ow.create=e=>new ow(A({typeName:We.ZodUndefined},Ze(e)));class cw extends nt{_parse(t){if(this._getType(t)!==Ne.null){const n=this._getOrReturnCtx(t);return be(n,{code:ce.invalid_type,expected:Ne.null,received:n.parsedType}),Ue}return xn(t.data)}}cw.create=e=>new cw(A({typeName:We.ZodNull},Ze(e)));class lw extends nt{constructor(){super(...arguments),this._any=!0}_parse(t){return xn(t.data)}}lw.create=e=>new lw(A({typeName:We.ZodAny},Ze(e)));class uw extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xn(t.data)}}uw.create=e=>new uw(A({typeName:We.ZodUnknown},Ze(e)));class vi extends nt{_parse(t){const r=this._getOrReturnCtx(t);return be(r,{code:ce.invalid_type,expected:Ne.never,received:r.parsedType}),Ue}}vi.create=e=>new vi(A({typeName:We.ZodNever},Ze(e)));class dw extends nt{_parse(t){if(this._getType(t)!==Ne.undefined){const n=this._getOrReturnCtx(t);return be(n,{code:ce.invalid_type,expected:Ne.void,received:n.parsedType}),Ue}return xn(t.data)}}dw.create=e=>new dw(A({typeName:We.ZodVoid},Ze(e)));class ea extends nt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ne.array)return be(r,{code:ce.invalid_type,expected:Ne.array,received:r.parsedType}),Ue;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,c=r.data.length<a.exactLength.value;(o||c)&&(be(r,{code:o?ce.too_big:ce.too_small,minimum:c?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(be(r,{code:ce.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(be(r,{code:ce.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>a.type._parseAsync(new gi(r,o,r.path,c)))).then(o=>en.mergeArray(n,o));const i=[...r.data].map((o,c)=>a.type._parseSync(new gi(r,o,r.path,c)));return en.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ea(D(A({},this._def),{minLength:{value:t,message:Se.toString(r)}}))}max(t,r){return new ea(D(A({},this._def),{maxLength:{value:t,message:Se.toString(r)}}))}length(t,r){return new ea(D(A({},this._def),{exactLength:{value:t,message:Se.toString(r)}}))}nonempty(t){return this.min(1,t)}}ea.create=(e,t)=>new ea(A({type:e,minLength:null,maxLength:null,exactLength:null,typeName:We.ZodArray},Ze(t)));function Ls(e){if(e instanceof Kt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ci.create(Ls(n))}return new Kt(D(A({},e._def),{shape:()=>t}))}else return e instanceof ea?new ea(D(A({},e._def),{type:Ls(e.element)})):e instanceof ci?ci.create(Ls(e.unwrap())):e instanceof bo?bo.create(Ls(e.unwrap())):e instanceof cs?cs.create(e.items.map(t=>Ls(t))):e}class Kt extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ot.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ne.object){const u=this._getOrReturnCtx(t);return be(u,{code:ce.invalid_type,expected:Ne.object,received:u.parsedType}),Ue}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof vi&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||c.push(u);const l=[];for(const u of o){const d=i[u],f=a.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new gi(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof vi){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")c.length>0&&(be(a,{code:ce.unrecognized_keys,keys:c}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=a.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new gi(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(()=>G(this,null,function*(){const u=[];for(const d of l){const f=yield d.key,h=yield d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u})).then(u=>en.mergeObjectSync(n,u)):en.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return Se.errToObj,new Kt(A(D(A({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(r,n)=>{var i,o,c,l;const a=(c=(o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)!=null?c:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Se.errToObj(t).message)!=null?l:a}:{message:a}}}:{}))}strip(){return new Kt(D(A({},this._def),{unknownKeys:"strip"}))}passthrough(){return new Kt(D(A({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new Kt(D(A({},this._def),{shape:()=>A(A({},this._def.shape()),t)}))}merge(t){return new Kt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>A(A({},this._def.shape()),t._def.shape()),typeName:We.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Kt(D(A({},this._def),{catchall:t}))}pick(t){const r={};for(const n of ot.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Kt(D(A({},this._def),{shape:()=>r}))}omit(t){const r={};for(const n of ot.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Kt(D(A({},this._def),{shape:()=>r}))}deepPartial(){return Ls(this)}partial(t){const r={};for(const n of ot.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Kt(D(A({},this._def),{shape:()=>r}))}required(t){const r={};for(const n of ot.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ci;)i=i._def.innerType;r[n]=i}return new Kt(D(A({},this._def),{shape:()=>r}))}keyof(){return WP(ot.objectKeys(this.shape))}}Kt.create=(e,t)=>new Kt(A({shape:()=>e,unknownKeys:"strip",catchall:vi.create(),typeName:We.ZodObject},Ze(t)));Kt.strictCreate=(e,t)=>new Kt(A({shape:()=>e,unknownKeys:"strict",catchall:vi.create(),typeName:We.ZodObject},Ze(t)));Kt.lazycreate=(e,t)=>new Kt(A({shape:e,unknownKeys:"strip",catchall:vi.create(),typeName:We.ZodObject},Ze(t)));class Kd extends nt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new Ta(c.ctx.common.issues));return be(r,{code:ce.invalid_union,unionErrors:o}),Ue}if(r.common.async)return Promise.all(n.map(i=>G(this,null,function*(){const o=D(A({},r),{common:D(A({},r.common),{issues:[]}),parent:null});return{result:yield i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}}))).then(a);{let i;const o=[];for(const l of n){const u=D(A({},r),{common:D(A({},r.common),{issues:[]}),parent:null}),d=l._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(l=>new Ta(l));return be(r,{code:ce.invalid_union,unionErrors:c}),Ue}}get options(){return this._def.options}}Kd.create=(e,t)=>new Kd(A({options:e,typeName:We.ZodUnion},Ze(t)));function xg(e,t){const r=Ga(e),n=Ga(t);if(e===t)return{valid:!0,data:e};if(r===Ne.object&&n===Ne.object){const a=ot.objectKeys(t),i=ot.objectKeys(e).filter(c=>a.indexOf(c)!==-1),o=A(A({},e),t);for(const c of i){const l=xg(e[c],t[c]);if(!l.valid)return{valid:!1};o[c]=l.data}return{valid:!0,data:o}}else if(r===Ne.array&&n===Ne.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],c=t[i],l=xg(o,c);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return r===Ne.date&&n===Ne.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gd extends nt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(rw(i)||rw(o))return Ue;const c=xg(i.value,o.value);return c.valid?((nw(i)||nw(o))&&r.dirty(),{status:r.value,value:c.data}):(be(n,{code:ce.invalid_intersection_types}),Ue)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Gd.create=(e,t,r)=>new Gd(A({left:e,right:t,typeName:We.ZodIntersection},Ze(r)));class cs extends nt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.array)return be(n,{code:ce.invalid_type,expected:Ne.array,received:n.parsedType}),Ue;if(n.data.length<this._def.items.length)return be(n,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&n.data.length>this._def.items.length&&(be(n,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new gi(n,o,n.path,c)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>en.mergeArray(r,o)):en.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new cs(D(A({},this._def),{rest:t}))}}cs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cs(A({items:e,typeName:We.ZodTuple,rest:null},Ze(t)))};class fw extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.map)return be(n,{code:ce.invalid_type,expected:Ne.map,received:n.parsedType}),Ue;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([c,l],u)=>({key:a._parse(new gi(n,c,n.path,[u,"key"])),value:i._parse(new gi(n,l,n.path,[u,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(()=>G(this,null,function*(){for(const l of o){const u=yield l.key,d=yield l.value;if(u.status==="aborted"||d.status==="aborted")return Ue;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}}))}else{const c=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Ue;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),c.set(u.value,d.value)}return{status:r.value,value:c}}}}fw.create=(e,t,r)=>new fw(A({valueType:t,keyType:e,typeName:We.ZodMap},Ze(r)));class xl extends nt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ne.set)return be(n,{code:ce.invalid_type,expected:Ne.set,received:n.parsedType}),Ue;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(be(n,{code:ce.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(be(n,{code:ce.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Ue;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const c=[...n.data.values()].map((l,u)=>i._parse(new gi(n,l,n.path,u)));return n.common.async?Promise.all(c).then(l=>o(l)):o(c)}min(t,r){return new xl(D(A({},this._def),{minSize:{value:t,message:Se.toString(r)}}))}max(t,r){return new xl(D(A({},this._def),{maxSize:{value:t,message:Se.toString(r)}}))}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}xl.create=(e,t)=>new xl(A({valueType:e,minSize:null,maxSize:null,typeName:We.ZodSet},Ze(t)));class hw extends nt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}hw.create=(e,t)=>new hw(A({getter:e,typeName:We.ZodLazy},Ze(t)));class mw extends nt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return be(r,{received:r.data,code:ce.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}mw.create=(e,t)=>new mw(A({value:e,typeName:We.ZodLiteral},Ze(t)));function WP(e,t){return new yo(A({values:e,typeName:We.ZodEnum},Ze(t)))}class yo extends nt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return be(r,{expected:ot.joinValues(n),received:r.parsedType,code:ce.invalid_type}),Ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return be(r,{received:r.data,code:ce.invalid_enum_value,options:n}),Ue}return xn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return yo.create(t,A(A({},this._def),r))}exclude(t,r=this._def){return yo.create(this.options.filter(n=>!t.includes(n)),A(A({},this._def),r))}}yo.create=WP;class pw extends nt{_parse(t){const r=ot.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ne.string&&n.parsedType!==Ne.number){const a=ot.objectValues(r);return be(n,{expected:ot.joinValues(a),received:n.parsedType,code:ce.invalid_type}),Ue}if(this._cache||(this._cache=new Set(ot.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=ot.objectValues(r);return be(n,{received:n.data,code:ce.invalid_enum_value,options:a}),Ue}return xn(t.data)}get enum(){return this._def.values}}pw.create=(e,t)=>new pw(A({values:e,typeName:We.ZodNativeEnum},Ze(t)));class Yd extends nt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ne.promise&&r.common.async===!1)return be(r,{code:ce.invalid_type,expected:Ne.promise,received:r.parsedType}),Ue;const n=r.parsedType===Ne.promise?r.data:Promise.resolve(r.data);return xn(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Yd.create=(e,t)=>new Yd(A({type:e,typeName:We.ZodPromise},Ze(t)));class xo extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===We.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{be(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(c=>G(this,null,function*(){if(r.value==="aborted")return Ue;const l=yield this._def.schema._parseAsync({data:c,path:n.path,parent:n});return l.status==="aborted"?Ue:l.status==="dirty"||r.value==="dirty"?Xc(l.value):l}));{if(r.value==="aborted")return Ue;const c=this._def.schema._parseSync({data:o,path:n.path,parent:n});return c.status==="aborted"?Ue:c.status==="dirty"||r.value==="dirty"?Xc(c.value):c}}if(a.type==="refinement"){const o=c=>{const l=a.refinement(c,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Ue:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Ue:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!vo(o))return Ue;const c=a.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>vo(o)?Promise.resolve(a.transform(o.value,i)).then(c=>({status:r.value,value:c})):Ue);ot.assertNever(a)}}xo.create=(e,t,r)=>new xo(A({schema:e,typeName:We.ZodEffects,effect:t},Ze(r)));xo.createWithPreprocess=(e,t,r)=>new xo(A({schema:t,effect:{type:"preprocess",transform:e},typeName:We.ZodEffects},Ze(r)));class ci extends nt{_parse(t){return this._getType(t)===Ne.undefined?xn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ci.create=(e,t)=>new ci(A({innerType:e,typeName:We.ZodOptional},Ze(t)));class bo extends nt{_parse(t){return this._getType(t)===Ne.null?xn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bo.create=(e,t)=>new bo(A({innerType:e,typeName:We.ZodNullable},Ze(t)));class bg extends nt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}bg.create=(e,t)=>new bg(A({innerType:e,typeName:We.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},Ze(t)));class wg extends nt{_parse(t){const{ctx:r}=this._processInputParams(t),n=D(A({},r),{common:D(A({},r.common),{issues:[]})}),a=this._def.innerType._parse({data:n.data,path:n.path,parent:A({},n)});return Hd(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ta(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ta(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}wg.create=(e,t)=>new wg(A({innerType:e,typeName:We.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},Ze(t)));class gw extends nt{_parse(t){if(this._getType(t)!==Ne.nan){const n=this._getOrReturnCtx(t);return be(n,{code:ce.invalid_type,expected:Ne.nan,received:n.parsedType}),Ue}return{status:"valid",value:t.data}}}gw.create=e=>new gw(A({typeName:We.ZodNaN},Ze(e)));class KF extends nt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Jy extends nt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return G(this,null,function*(){const i=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ue:i.status==="dirty"?(r.dirty(),Xc(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})});{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ue:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Jy({in:t,out:r,typeName:We.ZodPipeline})}}class jg extends nt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(vo(a)&&(a.value=Object.freeze(a.value)),a);return Hd(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}jg.create=(e,t)=>new jg(A({innerType:e,typeName:We.ZodReadonly},Ze(t)));var We;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(We||(We={}));const zs=ii.create;vi.create;ea.create;const VP=Kt.create;Kd.create;Gd.create;cs.create;const GF=yo.create;Yd.create;ci.create;bo.create;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HP=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=y.forwardRef((u,l)=>{var d=u,{color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o}=d,c=W(d,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return y.createElement("svg",A(D(A({ref:l},XF),{width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:HP("lucide",a)}),c),[...o.map(([f,h])=>y.createElement(f,h)),...Array.isArray(i)?i:[i]])});/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=y.forwardRef((o,i)=>{var c=o,{className:n}=c,a=W(c,["className"]);return y.createElement(ZF,A({ref:i,iconNode:t,className:HP("lucide-".concat(YF(e)),n)},a))});return r.displayName="".concat(e),r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=ge("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ge("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=ge("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=ge("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ge("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ge("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ge("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=ge("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=ge("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ge("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ge("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ge("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ww=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,jw=He,$h=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return jw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=ww(d)||ww(f);return a[u][h]}),c=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let v=d,{class:f,className:h}=v,m=W(v,["class","className"]);return Object.entries(m).every(p=>{let[g,b]=p;return Array.isArray(b)?b.includes(A(A({},i),c)[g]):A(A({},i),c)[g]===b})?[...u,f,h]:u},[]);return jw(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},_l=$h("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=y.forwardRef((o,i)=>{var c=o,{className:e,variant:t,size:r,asChild:n=!1}=c,a=W(c,["className","variant","size","asChild"]);const l=n?c_:"button";return s.jsx(l,A({className:ne(_l({variant:t,size:r,className:e})),ref:i},a))});ae.displayName="Button";const Me=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx("div",A({ref:r,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e)},t))});Me.displayName="Card";const er=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx("div",A({ref:r,className:ne("flex flex-col space-y-1.5 p-6",e)},t))});er.displayName="CardHeader";const Hr=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx("div",A({ref:r,className:ne("text-2xl font-semibold leading-none tracking-tight",e)},t))});Hr.displayName="CardTitle";const l5=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx("div",A({ref:r,className:ne("text-sm text-muted-foreground",e)},t))});l5.displayName="CardDescription";const Re=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx("div",A({ref:r,className:ne("p-6 pt-0",e)},t))});Re.displayName="CardContent";const u5=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx("div",A({ref:r,className:ne("flex items-center p-6 pt-0",e)},t))});u5.displayName="CardFooter";var d5="Label",rC=y.forwardRef((e,t)=>s.jsx($e.label,D(A({},e),{ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}})));rC.displayName=d5;var nC=rC;const f5=$h("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ot=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(nC,A({ref:r,className:ne(f5(),e)},t))});Ot.displayName=nC.displayName;const cc=tF,aC=y.createContext({}),rt=t=>{var e=W(t,[]);return s.jsx(aC.Provider,{value:{name:e.name},children:s.jsx(iF,A({},e))})},Rh=()=>{const e=y.useContext(aC),t=y.useContext(iC),{getFieldState:r,formState:n}=Dh(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return A({id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message")},a)},iC=y.createContext({}),Qe=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);const i=y.useId();return s.jsx(iC.Provider,{value:{id:i},children:s.jsx("div",A({ref:r,className:ne("space-y-2",e)},t))})});Qe.displayName="FormItem";const Je=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);const{error:i,formItemId:o}=Rh();return s.jsx(Ot,A({ref:r,className:ne(i&&"text-destructive",e),htmlFor:o},t))});Je.displayName="FormLabel";const it=y.forwardRef((r,t)=>{var e=W(r,[]);const{error:n,formItemId:a,formDescriptionId:i,formMessageId:o}=Rh();return s.jsx(c_,A({ref:t,id:a,"aria-describedby":n?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!n},e))});it.displayName="FormControl";const h5=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);const{formDescriptionId:i}=Rh();return s.jsx("p",A({ref:r,id:i,className:ne("text-sm text-muted-foreground",e)},t))});h5.displayName="FormDescription";const kt=y.forwardRef((a,n)=>{var i=a,{className:e,children:t}=i,r=W(i,["className","children"]);var u;const{error:o,formMessageId:c}=Rh(),l=o?String((u=o==null?void 0:o.message)!=null?u:""):t;return l?s.jsx("p",D(A({ref:n,id:c,className:ne("text-sm font-medium text-destructive",e)},r),{children:l})):null});kt.displayName="FormMessage";function Og(e,[t,r]){return Math.min(r,Math.max(t,e))}function ix(e){const t=e+"CollectionProvider",[r,n]=nn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:b}=p,x=M.useRef(null),j=M.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:j,collectionRef:x,children:b})};o.displayName=t;const c=e+"CollectionSlot",l=fi(c),u=M.forwardRef((p,g)=>{const{scope:b,children:x}=p,j=i(c,b),N=Xe(g,j.collectionRef);return s.jsx(l,{ref:N,children:x})});u.displayName=c;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=fi(d),m=M.forwardRef((p,g)=>{const P=p,{scope:b,children:x}=P,j=W(P,["scope","children"]),N=M.useRef(null),w=Xe(g,N),S=i(d,b);return M.useEffect(()=>(S.itemMap.set(N,A({ref:N},j)),()=>void S.itemMap.delete(N))),s.jsx(h,{[f]:"",ref:w,children:x})});m.displayName=d;function v(p){const g=i(e+"CollectionConsumer",p);return M.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const j=Array.from(x.querySelectorAll("[".concat(f,"]")));return Array.from(g.itemMap.values()).sort((S,P)=>j.indexOf(S.ref.current)-j.indexOf(P.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,n]}var m5=y.createContext(void 0);function Lh(e){const t=y.useContext(m5);return e||t||"ltr"}var hp=0;function Fh(){y.useEffect(()=>{var t,r;const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=e[0])!=null?t:Nw()),document.body.insertAdjacentElement("beforeend",(r=e[1])!=null?r:Nw()),hp++,()=>{hp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),hp--}},[])}function Nw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var mp="focusScope.autoFocusOnMount",pp="focusScope.autoFocusOnUnmount",Sw={bubbles:!1,cancelable:!0},p5="FocusScope",Au=y.forwardRef((e,t)=>{const p=e,{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i}=p,o=W(p,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[c,l]=y.useState(null),u=gr(a),d=gr(i),f=y.useRef(null),h=Xe(t,g=>l(g)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let g=function(N){if(m.paused||!c)return;const w=N.target;c.contains(w)?f.current=w:qa(f.current,{select:!0})},b=function(N){if(m.paused||!c)return;const w=N.relatedTarget;w!==null&&(c.contains(w)||qa(f.current,{select:!0}))},x=function(N){if(document.activeElement===document.body)for(const S of N)S.removedNodes.length>0&&qa(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const j=new MutationObserver(x);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),j.disconnect()}}},[n,c,m.paused]),y.useEffect(()=>{if(c){_w.add(m);const g=document.activeElement;if(!c.contains(g)){const x=new CustomEvent(mp,Sw);c.addEventListener(mp,u),c.dispatchEvent(x),x.defaultPrevented||(g5(w5(sC(c)),{select:!0}),document.activeElement===g&&qa(c))}return()=>{c.removeEventListener(mp,u),setTimeout(()=>{const x=new CustomEvent(pp,Sw);c.addEventListener(pp,d),c.dispatchEvent(x),x.defaultPrevented||qa(g!=null?g:document.body,{select:!0}),c.removeEventListener(pp,d),_w.remove(m)},0)}}},[c,u,d,m]);const v=y.useCallback(g=>{if(!r&&!n||m.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(b&&x){const j=g.currentTarget,[N,w]=v5(j);N&&w?!g.shiftKey&&x===w?(g.preventDefault(),r&&qa(N,{select:!0})):g.shiftKey&&x===N&&(g.preventDefault(),r&&qa(w,{select:!0})):x===j&&g.preventDefault()}},[r,n,m.paused]);return s.jsx($e.div,D(A({tabIndex:-1},o),{ref:h,onKeyDown:v}))});Au.displayName=p5;function g5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(qa(n,{select:t}),document.activeElement!==r)return}function v5(e){const t=sC(e),r=Aw(t,e),n=Aw(t.reverse(),e);return[r,n]}function sC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Aw(e,t){for(const r of e)if(!y5(r,{upTo:t}))return r}function y5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function x5(e){return e instanceof HTMLInputElement&&"select"in e}function qa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&x5(e)&&t&&e.select()}}var _w=b5();function b5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Pw(e,t),e.unshift(t)},remove(t){var r;e=Pw(e,t),(r=e[0])==null||r.resume()}}}function Pw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function w5(e){return e.filter(t=>t.tagName!=="A")}function oC(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var j5=function(e){if(typeof document=="undefined")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Os=new WeakMap,td=new WeakMap,rd={},gp=0,cC=function(e){return e&&(e.host||cC(e.parentNode))},N5=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=cC(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},S5=function(e,t,r,n){var a=N5(t,Array.isArray(e)?e:[e]);rd[r]||(rd[r]=new WeakMap);var i=rd[r],o=[],c=new Set,l=new Set(a),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",p=(Os.get(h)||0)+1,g=(i.get(h)||0)+1;Os.set(h,p),i.set(h,g),o.push(h),p===1&&v&&td.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),c.clear(),gp++,function(){o.forEach(function(f){var h=Os.get(f)-1,m=i.get(f)-1;Os.set(f,h),i.set(f,m),h||(td.has(f)||f.removeAttribute(n),td.delete(f)),m||f.removeAttribute(r)}),gp--,gp||(Os=new WeakMap,Os=new WeakMap,td=new WeakMap,rd={})}},Bh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=j5(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),S5(n,a,r,"aria-hidden")):function(){return null}},Nd="right-scroll-bar-position",Sd="width-before-scroll-bar",A5="with-scroll-bars-hidden",_5="--removed-body-scroll-bar-size";function vp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function P5(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var C5=typeof window!="undefined"?y.useLayoutEffect:y.useEffect,Cw=new WeakMap;function O5(e,t){var r=P5(null,function(n){return e.forEach(function(a){return vp(a,n)})});return C5(function(){var n=Cw.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(c){i.has(c)||vp(c,null)}),i.forEach(function(c){a.has(c)||vp(c,o)})}Cw.set(r,e)},[e]),r}function E5(e){return e}function k5(e,t){t===void 0&&(t=E5);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function T5(e){e===void 0&&(e={});var t=k5(null);return t.options=Za({async:!0,ssr:!1},e),t}var lC=function(e){var t=e.sideCar,r=RA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Za({},r))};lC.isSideCarExport=!0;function D5(e,t){return e.useMedium(t),lC}var uC=T5(),yp=function(){},zh=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:yp,onWheelCapture:yp,onTouchMoveCapture:yp}),a=n[0],i=n[1],o=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,p=e.inert,g=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,j=e.gapMode,N=RA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,S=O5([r,t]),P=Za(Za({},N),a);return y.createElement(y.Fragment,null,d&&y.createElement(w,{sideCar:uC,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:j}),o?y.cloneElement(y.Children.only(c),Za(Za({},P),{ref:S})):y.createElement(x,Za({},P,{className:l,ref:S}),c))});zh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zh.classNames={fullWidth:Sd,zeroRight:Nd};var M5=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function I5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=M5();return t&&e.setAttribute("nonce",t),e}function $5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var L5=function(){var e=0,t=null;return{add:function(r){e==0&&(t=I5())&&($5(t,r),R5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},F5=function(){var e=L5();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},dC=function(){var e=F5(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},B5={left:0,top:0,right:0,gap:0},xp=function(e){return parseInt(e||"",10)||0},z5=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[xp(r),xp(n),xp(a)]},U5=function(e){if(e===void 0&&(e="margin"),typeof window=="undefined")return B5;var t=z5(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},W5=dC(),Qs="data-scroll-locked",V5=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),"\n  .".concat(A5," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(c,"px ").concat(n,";\n  }\n  body[").concat(Qs,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),r==="margin"&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(n,";\n    "),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Nd," {\n    right: ").concat(c,"px ").concat(n,";\n  }\n  \n  .").concat(Sd," {\n    margin-right: ").concat(c,"px ").concat(n,";\n  }\n  \n  .").concat(Nd," .").concat(Nd," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(Sd," .").concat(Sd," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Qs,"] {\n    ").concat(_5,": ").concat(c,"px;\n  }\n")},Ow=function(){var e=parseInt(document.body.getAttribute(Qs)||"0",10);return isFinite(e)?e:0},H5=function(){y.useEffect(function(){return document.body.setAttribute(Qs,(Ow()+1).toString()),function(){var e=Ow()-1;e<=0?document.body.removeAttribute(Qs):document.body.setAttribute(Qs,e.toString())}},[])},q5=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;H5();var i=y.useMemo(function(){return U5(a)},[a]);return y.createElement(W5,{styles:V5(i,!t,a,r?"":"!important")})},Eg=!1;if(typeof window!="undefined")try{var nd=Object.defineProperty({},"passive",{get:function(){return Eg=!0,!0}});window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch(e){Eg=!1}var Es=Eg?{passive:!1}:!1,K5=function(e){return e.tagName==="TEXTAREA"},fC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!K5(e)&&r[t]==="visible")},G5=function(e){return fC(e,"overflowY")},Y5=function(e){return fC(e,"overflowX")},Ew=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&(n=n.host);var a=hC(e,n);if(a){var i=mC(e,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},X5=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Z5=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},hC=function(e,t){return e==="v"?G5(t):Y5(t)},mC=function(e,t){return e==="v"?X5(t):Z5(t)},Q5=function(e,t){return e==="h"&&t==="rtl"?-1:1},J5=function(e,t,r,n,a){var i=Q5(e,window.getComputedStyle(t).direction),o=i*n,c=r.target,l=t.contains(c),u=!1,d=o>0,f=0,h=0;do{if(!c)break;var m=mC(e,c),v=m[0],p=m[1],g=m[2],b=p-g-i*v;(v||b)&&hC(e,c)&&(f+=b,h+=v);var x=c.parentNode;c=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},ad=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kw=function(e){return[e.deltaX,e.deltaY]},Tw=function(e){return e&&"current"in e?e.current:e},e6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t6=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},r6=0,ks=[];function n6(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(r6++)[0],i=y.useState(dC)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=hI([e.lockRef.current],(e.shards||[]).map(Tw),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=y.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=ad(p),x=r.current,j="deltaX"in p?p.deltaX:x[0]-b[0],N="deltaY"in p?p.deltaY:x[1]-b[1],w,S=p.target,P=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in p&&P==="h"&&S.type==="range")return!1;var k=Ew(P,S);if(!k)return!0;if(k?w=P:(w=P==="v"?"h":"v",k=Ew(P,S)),!k)return!1;if(!n.current&&"changedTouches"in p&&(j||N)&&(n.current=w),!w)return!0;var T=n.current||w;return J5(T,g,p,T==="h"?j:N)},[]),l=y.useCallback(function(p){var g=p;if(!(!ks.length||ks[ks.length-1]!==i)){var b="deltaY"in g?kw(g):ad(g),x=t.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&e6(w.delta,b)})[0];if(x&&x.should){g.cancelable&&g.preventDefault();return}if(!x){var j=(o.current.shards||[]).map(Tw).filter(Boolean).filter(function(w){return w.contains(g.target)}),N=j.length>0?c(g,j[0]):!o.current.noIsolation;N&&g.cancelable&&g.preventDefault()}}},[]),u=y.useCallback(function(p,g,b,x){var j={name:p,delta:g,target:b,should:x,shadowParent:a6(b)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),d=y.useCallback(function(p){r.current=ad(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,kw(p),p.target,c(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,ad(p),p.target,c(p,e.lockRef.current))},[]);y.useEffect(function(){return ks.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Es),document.addEventListener("touchmove",l,Es),document.addEventListener("touchstart",d,Es),function(){ks=ks.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,Es),document.removeEventListener("touchmove",l,Es),document.removeEventListener("touchstart",d,Es)}},[]);var m=e.removeScrollBar,v=e.inert;return y.createElement(y.Fragment,null,v?y.createElement(i,{styles:t6(a)}):null,m?y.createElement(q5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function a6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const i6=D5(uC,n6);var _u=y.forwardRef(function(e,t){return y.createElement(zh,Za({},e,{ref:t,sideCar:i6}))});_u.classNames=zh.classNames;var s6=[" ","Enter","ArrowUp","ArrowDown"],o6=[" ","Enter"],us="Select",[Uh,Wh,c6]=ix(us),[lc,vxe]=nn(us,[c6,bi]),Vh=bi(),[l6,wi]=lc(us),[u6,d6]=lc(us),pC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,p=Vh(t),[g,b]=y.useState(null),[x,j]=y.useState(null),[N,w]=y.useState(!1),S=Lh(u),[P,k]=pi({prop:n,defaultProp:a!=null?a:!1,onChange:i,caller:us}),[T,E]=pi({prop:o,defaultProp:c,onChange:l,caller:us}),_=y.useRef(null),O=g?v||!!g.closest("form"):!0,[C,R]=y.useState(new Set),I=Array.from(C).map(F=>F.props.value).join(";");return s.jsx(Sh,D(A({},p),{children:s.jsxs(l6,{required:m,scope:t,trigger:g,onTriggerChange:b,valueNode:x,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:Mn(),value:T,onValueChange:E,open:P,onOpenChange:k,dir:S,triggerPointerDownPosRef:_,disabled:h,children:[s.jsx(Uh.Provider,{scope:t,children:s.jsx(u6,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(F=>{R(B=>new Set(B).add(F))},[]),onNativeOptionRemove:y.useCallback(F=>{R(B=>{const L=new Set(B);return L.delete(F),L})},[]),children:r})}),O?s.jsxs(FC,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:F=>E(F.target.value),disabled:h,form:v,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(C)]},I):null]})}))};pC.displayName=us;var gC="SelectTrigger",vC=y.forwardRef((e,t)=>{const p=e,{__scopeSelect:r,disabled:n=!1}=p,a=W(p,["__scopeSelect","disabled"]),i=Vh(r),o=wi(gC,r),c=o.disabled||n,l=Xe(t,o.onTriggerChange),u=Wh(r),d=y.useRef("touch"),[f,h,m]=zC(g=>{const b=u().filter(N=>!N.disabled),x=b.find(N=>N.value===o.value),j=UC(b,g,x);j!==void 0&&o.onValueChange(j.value)}),v=g=>{c||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(wu,D(A({asChild:!0},i),{children:s.jsx($e.button,D(A({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":BC(o.value)?"":void 0},a),{ref:l,onClick:pe(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:pe(a.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:pe(a.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&s6.includes(g.key)&&(v(),g.preventDefault())})}))}))});vC.displayName=gC;var yC="SelectValue",xC=y.forwardRef((e,t)=>{const h=e,{__scopeSelect:r,className:n,style:a,children:i,placeholder:o=""}=h,c=W(h,["__scopeSelect","className","style","children","placeholder"]),l=wi(yC,r),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=Xe(t,l.onValueNodeChange);return vr(()=>{u(d)},[u,d]),s.jsx($e.span,D(A({},c),{ref:f,style:{pointerEvents:"none"},children:BC(l.value)?s.jsx(s.Fragment,{children:o}):i}))});xC.displayName=yC;var f6="SelectIcon",bC=y.forwardRef((e,t)=>{const i=e,{__scopeSelect:r,children:n}=i,a=W(i,["__scopeSelect","children"]);return s.jsx($e.span,D(A({"aria-hidden":!0},a),{ref:t,children:n||"▼"}))});bC.displayName=f6;var h6="SelectPortal",wC=e=>s.jsx(ju,A({asChild:!0},e));wC.displayName=h6;var ds="SelectContent",jC=y.forwardRef((e,t)=>{const r=wi(ds,e.__scopeSelect),[n,a]=y.useState();if(vr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?vu.createPortal(s.jsx(NC,{scope:e.__scopeSelect,children:s.jsx(Uh.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(SC,D(A({},e),{ref:t}))});jC.displayName=ds;var Sn=10,[NC,ji]=lc(ds),m6="SelectContentImpl",p6=fi("SelectContent.RemoveScroll"),SC=y.forwardRef((e,t)=>{const Fe=e,{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g}=Fe,b=W(Fe,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),x=wi(ds,r),[j,N]=y.useState(null),[w,S]=y.useState(null),P=Xe(t,ue=>N(ue)),[k,T]=y.useState(null),[E,_]=y.useState(null),O=Wh(r),[C,R]=y.useState(!1),I=y.useRef(!1);y.useEffect(()=>{if(j)return Bh(j)},[j]),Fh();const F=y.useCallback(ue=>{const[ee,...Y]=O().map(re=>re.ref.current),[Q]=Y.slice(-1),H=document.activeElement;for(const re of ue)if(re===H||(re==null||re.scrollIntoView({block:"nearest"}),re===ee&&w&&(w.scrollTop=0),re===Q&&w&&(w.scrollTop=w.scrollHeight),re==null||re.focus(),document.activeElement!==H))return},[O,w]),B=y.useCallback(()=>F([k,j]),[F,k,j]);y.useEffect(()=>{C&&B()},[C,B]);const{onOpenChange:L,triggerPointerDownPosRef:z}=x;y.useEffect(()=>{if(j){let ue={x:0,y:0};const ee=Q=>{var H,re,se,Ae;ue={x:Math.abs(Math.round(Q.pageX)-((re=(H=z.current)==null?void 0:H.x)!=null?re:0)),y:Math.abs(Math.round(Q.pageY)-((Ae=(se=z.current)==null?void 0:se.y)!=null?Ae:0))}},Y=Q=>{ue.x<=10&&ue.y<=10?Q.preventDefault():j.contains(Q.target)||L(!1),document.removeEventListener("pointermove",ee),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",Y,{capture:!0})}}},[j,L,z]),y.useEffect(()=>{const ue=()=>L(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[L]);const[U,Z]=zC(ue=>{const ee=O().filter(H=>!H.disabled),Y=ee.find(H=>H.ref.current===document.activeElement),Q=UC(ee,ue,Y);Q&&setTimeout(()=>Q.ref.current.focus())}),K=y.useCallback((ue,ee,Y)=>{const Q=!I.current&&!Y;(x.value!==void 0&&x.value===ee||Q)&&(T(ue),Q&&(I.current=!0))},[x.value]),ie=y.useCallback(()=>j==null?void 0:j.focus(),[j]),xe=y.useCallback((ue,ee,Y)=>{const Q=!I.current&&!Y;(x.value!==void 0&&x.value===ee||Q)&&_(ue)},[x.value]),ke=n==="popper"?kg:AC,Oe=ke===kg?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g}:{};return s.jsx(NC,{scope:r,content:j,viewport:w,onViewportChange:S,itemRefCallback:K,selectedItem:k,onItemLeave:ie,itemTextRefCallback:xe,focusSelectedItem:B,selectedItemText:E,position:n,isPositioned:C,searchRef:U,children:s.jsx(_u,{as:p6,allowPinchZoom:!0,children:s.jsx(Au,{asChild:!0,trapped:x.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:pe(a,ue=>{var ee;(ee=x.trigger)==null||ee.focus({preventScroll:!0}),ue.preventDefault()}),children:s.jsx(nc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(ke,D(A(A({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ue=>ue.preventDefault()},b),Oe),{onPlaced:()=>R(!0),ref:P,style:A({display:"flex",flexDirection:"column",outline:"none"},b.style),onKeyDown:pe(b.onKeyDown,ue=>{const ee=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!ee&&ue.key.length===1&&Z(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Q=O().filter(H=>!H.disabled).map(H=>H.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const H=ue.target,re=Q.indexOf(H);Q=Q.slice(re+1)}setTimeout(()=>F(Q)),ue.preventDefault()}})}))})})})})});SC.displayName=m6;var g6="SelectItemAlignedPosition",AC=y.forwardRef((e,t)=>{const P=e,{__scopeSelect:r,onPlaced:n}=P,a=W(P,["__scopeSelect","onPlaced"]),i=wi(ds,r),o=ji(ds,r),[c,l]=y.useState(null),[u,d]=y.useState(null),f=Xe(t,k=>d(k)),h=Wh(r),m=y.useRef(!1),v=y.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:b,focusSelectedItem:x}=o,j=y.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&p&&g&&b){const k=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),_=b.getBoundingClientRect();if(i.dir!=="rtl"){const H=_.left-T.left,re=E.left-H,se=k.left-re,Ae=k.width+se,Be=Math.max(Ae,T.width),lt=window.innerWidth-Sn,ve=Og(re,[Sn,Math.max(Sn,lt-Be)]);c.style.minWidth=Ae+"px",c.style.left=ve+"px"}else{const H=T.right-_.right,re=window.innerWidth-E.right-H,se=window.innerWidth-k.right-re,Ae=k.width+se,Be=Math.max(Ae,T.width),lt=window.innerWidth-Sn,ve=Og(re,[Sn,Math.max(Sn,lt-Be)]);c.style.minWidth=Ae+"px",c.style.right=ve+"px"}const O=h(),C=window.innerHeight-Sn*2,R=p.scrollHeight,I=window.getComputedStyle(u),F=parseInt(I.borderTopWidth,10),B=parseInt(I.paddingTop,10),L=parseInt(I.borderBottomWidth,10),z=parseInt(I.paddingBottom,10),U=F+B+R+z+L,Z=Math.min(g.offsetHeight*5,U),K=window.getComputedStyle(p),ie=parseInt(K.paddingTop,10),xe=parseInt(K.paddingBottom,10),ke=k.top+k.height/2-Sn,Oe=C-ke,Fe=g.offsetHeight/2,ue=g.offsetTop+Fe,ee=F+B+ue,Y=U-ee;if(ee<=ke){const H=O.length>0&&g===O[O.length-1].ref.current;c.style.bottom="0px";const re=u.clientHeight-p.offsetTop-p.offsetHeight,se=Math.max(Oe,Fe+(H?xe:0)+re+L),Ae=ee+se;c.style.height=Ae+"px"}else{const H=O.length>0&&g===O[0].ref.current;c.style.top="0px";const se=Math.max(ke,F+p.offsetTop+(H?ie:0)+Fe)+Y;c.style.height=se+"px",p.scrollTop=ee-ke+p.offsetTop}c.style.margin="".concat(Sn,"px 0"),c.style.minHeight=Z+"px",c.style.maxHeight=C+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,c,u,p,g,b,i.dir,n]);vr(()=>j(),[j]);const[N,w]=y.useState();vr(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const S=y.useCallback(k=>{k&&v.current===!0&&(j(),x==null||x(),v.current=!1)},[j,x]);return s.jsx(y6,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:s.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx($e.div,D(A({},a),{ref:f,style:A({boxSizing:"border-box",maxHeight:"100%"},a.style)}))})})});AC.displayName=g6;var v6="SelectPopperPosition",kg=y.forwardRef((e,t)=>{const c=e,{__scopeSelect:r,align:n="start",collisionPadding:a=Sn}=c,i=W(c,["__scopeSelect","align","collisionPadding"]),o=Vh(r);return s.jsx(Ah,D(A(A({},o),i),{ref:t,align:n,collisionPadding:a,style:D(A({boxSizing:"border-box"},i.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});kg.displayName=v6;var[y6,sx]=lc(ds,{}),Tg="SelectViewport",_C=y.forwardRef((e,t)=>{const u=e,{__scopeSelect:r,nonce:n}=u,a=W(u,["__scopeSelect","nonce"]),i=ji(Tg,r),o=sx(Tg,r),c=Xe(t,i.onViewportChange),l=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Uh.Slot,{scope:r,children:s.jsx($e.div,D(A({"data-radix-select-viewport":"",role:"presentation"},a),{ref:c,style:A({position:"relative",flex:1,overflow:"hidden auto"},a.style),onScroll:pe(a.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const v=Math.abs(l.current-f.scrollTop);if(v>0){const p=window.innerHeight-Sn*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),x=Math.max(g,b);if(x<p){const j=x+v,N=Math.min(p,j),w=j-N;h.style.height=N+"px",h.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})}))})]})});_C.displayName=Tg;var PC="SelectGroup",[x6,b6]=lc(PC),w6=y.forwardRef((e,t)=>{const i=e,{__scopeSelect:r}=i,n=W(i,["__scopeSelect"]),a=Mn();return s.jsx(x6,{scope:r,id:a,children:s.jsx($e.div,D(A({role:"group","aria-labelledby":a},n),{ref:t}))})});w6.displayName=PC;var CC="SelectLabel",OC=y.forwardRef((e,t)=>{const i=e,{__scopeSelect:r}=i,n=W(i,["__scopeSelect"]),a=b6(CC,r);return s.jsx($e.div,D(A({id:a.id},n),{ref:t}))});OC.displayName=CC;var Qd="SelectItem",[j6,EC]=lc(Qd),kC=y.forwardRef((e,t)=>{const x=e,{__scopeSelect:r,value:n,disabled:a=!1,textValue:i}=x,o=W(x,["__scopeSelect","value","disabled","textValue"]),c=wi(Qd,r),l=ji(Qd,r),u=c.value===n,[d,f]=y.useState(i!=null?i:""),[h,m]=y.useState(!1),v=Xe(t,j=>{var N;return(N=l.itemRefCallback)==null?void 0:N.call(l,j,n,a)}),p=Mn(),g=y.useRef("touch"),b=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(j6,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:y.useCallback(j=>{f(N=>{var w;return N||((w=j==null?void 0:j.textContent)!=null?w:"").trim()})},[]),children:s.jsx(Uh.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx($e.div,D(A({role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},o),{ref:v,onFocus:pe(o.onFocus,()=>m(!0)),onBlur:pe(o.onBlur,()=>m(!1)),onClick:pe(o.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:pe(o.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:pe(o.onPointerDown,j=>{g.current=j.pointerType}),onPointerMove:pe(o.onPointerMove,j=>{var N;g.current=j.pointerType,a?(N=l.onItemLeave)==null||N.call(l):g.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,j=>{var N;j.currentTarget===document.activeElement&&((N=l.onItemLeave)==null||N.call(l))}),onKeyDown:pe(o.onKeyDown,j=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&j.key===" "||(o6.includes(j.key)&&b(),j.key===" "&&j.preventDefault())})}))})})});kC.displayName=Qd;var Zc="SelectItemText",TC=y.forwardRef((e,t)=>{const b=e,{__scopeSelect:r,className:n,style:a}=b,i=W(b,["__scopeSelect","className","style"]),o=wi(Zc,r),c=ji(Zc,r),l=EC(Zc,r),u=d6(Zc,r),[d,f]=y.useState(null),h=Xe(t,x=>f(x),l.onItemTextChange,x=>{var j;return(j=c.itemTextRefCallback)==null?void 0:j.call(c,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=y.useMemo(()=>s.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return vr(()=>(p(v),()=>g(v)),[p,g,v]),s.jsxs(s.Fragment,{children:[s.jsx($e.span,D(A({id:l.textId},i),{ref:h})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vu.createPortal(i.children,o.valueNode):null]})});TC.displayName=Zc;var DC="SelectItemIndicator",MC=y.forwardRef((e,t)=>{const i=e,{__scopeSelect:r}=i,n=W(i,["__scopeSelect"]);return EC(DC,r).isSelected?s.jsx($e.span,D(A({"aria-hidden":!0},n),{ref:t})):null});MC.displayName=DC;var Dg="SelectScrollUpButton",IC=y.forwardRef((e,t)=>{const r=ji(Dg,e.__scopeSelect),n=sx(Dg,e.__scopeSelect),[a,i]=y.useState(!1),o=Xe(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(RC,D(A({},e),{ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}})):null});IC.displayName=Dg;var Mg="SelectScrollDownButton",$C=y.forwardRef((e,t)=>{const r=ji(Mg,e.__scopeSelect),n=sx(Mg,e.__scopeSelect),[a,i]=y.useState(!1),o=Xe(t,n.onScrollButtonChange);return vr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(RC,D(A({},e),{ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}})):null});$C.displayName=Mg;var RC=y.forwardRef((e,t)=>{const u=e,{__scopeSelect:r,onAutoScroll:n}=u,a=W(u,["__scopeSelect","onAutoScroll"]),i=ji("SelectScrollButton",r),o=y.useRef(null),c=Wh(r),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),vr(()=>{var f;const d=c().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),s.jsx($e.div,D(A({"aria-hidden":!0},a),{ref:t,style:A({flexShrink:0},a.style),onPointerDown:pe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:pe(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:pe(a.onPointerLeave,()=>{l()})}))}),N6="SelectSeparator",LC=y.forwardRef((e,t)=>{const a=e,{__scopeSelect:r}=a,n=W(a,["__scopeSelect"]);return s.jsx($e.div,D(A({"aria-hidden":!0},n),{ref:t}))});LC.displayName=N6;var Ig="SelectArrow",S6=y.forwardRef((e,t)=>{const c=e,{__scopeSelect:r}=c,n=W(c,["__scopeSelect"]),a=Vh(r),i=wi(Ig,r),o=ji(Ig,r);return i.open&&o.position==="popper"?s.jsx(_h,D(A(A({},a),n),{ref:t})):null});S6.displayName=Ig;var A6="SelectBubbleInput",FC=y.forwardRef((a,n)=>{var i=a,{__scopeSelect:e,value:t}=i,r=W(i,["__scopeSelect","value"]);const o=y.useRef(null),c=Xe(n,o),l=oC(t);return y.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&h){const m=new Event("change",{bubbles:!0});h.call(u,t),u.dispatchEvent(m)}},[l,t]),s.jsx($e.select,D(A({},r),{style:A(A({},I_),r.style),ref:c,defaultValue:t}))});FC.displayName=A6;function BC(e){return e===""||e===void 0}function zC(e){const t=gr(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(o=>{const c=r.current+o;t(c),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function UC(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=_6(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function _6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var P6=pC,WC=vC,C6=xC,O6=bC,E6=wC,VC=jC,k6=_C,HC=OC,qC=kC,T6=TC,D6=MC,KC=IC,GC=$C,YC=LC;const zt=P6,Ut=C6,It=y.forwardRef((a,n)=>{var i=a,{className:e,children:t}=i,r=W(i,["className","children"]);return s.jsxs(WC,D(A({ref:n,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e)},r),{children:[t,s.jsx(O6,{asChild:!0,children:s.jsx(yi,{className:"h-4 w-4 opacity-50"})})]}))});It.displayName=WC.displayName;const XC=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(KC,D(A({ref:r,className:ne("flex cursor-default items-center justify-center py-1",e)},t),{children:s.jsx(wo,{className:"h-4 w-4"})}))});XC.displayName=KC.displayName;const ZC=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(GC,D(A({ref:r,className:ne("flex cursor-default items-center justify-center py-1",e)},t),{children:s.jsx(yi,{className:"h-4 w-4"})}))});ZC.displayName=GC.displayName;const $t=y.forwardRef((i,a)=>{var o=i,{className:e,children:t,position:r="popper"}=o,n=W(o,["className","children","position"]);return s.jsx(E6,{children:s.jsxs(VC,D(A({ref:a,className:ne("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r},n),{children:[s.jsx(XC,{}),s.jsx(k6,{className:ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(ZC,{})]}))})});$t.displayName=VC.displayName;const M6=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(HC,A({ref:r,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e)},t))});M6.displayName=HC.displayName;const je=y.forwardRef((a,n)=>{var i=a,{className:e,children:t}=i,r=W(i,["className","children"]);return s.jsxs(qC,D(A({ref:n,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e)},r),{children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(D6,{children:s.jsx(Rt,{className:"h-4 w-4"})})}),s.jsx(T6,{children:t})]}))});je.displayName=qC.displayName;const I6=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(YC,A({ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e)},t))});I6.displayName=YC.displayName;const st=y.forwardRef((a,n)=>{var i=a,{className:e,type:t}=i,r=W(i,["className","type"]);return s.jsx("input",A({type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n},r))});st.displayName="Input";const $6=$h("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),No=y.forwardRef((a,n)=>{var i=a,{className:e,variant:t}=i,r=W(i,["className","variant"]);return s.jsx("div",A({ref:n,role:"alert",className:ne($6({variant:t}),e)},r))});No.displayName="Alert";const R6=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx("h5",A({ref:r,className:ne("mb-1 font-medium leading-none tracking-tight",e)},t))});R6.displayName="AlertTitle";const So=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx("div",A({ref:r,className:ne("text-sm [&_p]:leading-relaxed",e)},t))});So.displayName="AlertDescription";const L6=1,F6=1e6;let bp=0;function B6(){return bp=(bp+1)%Number.MAX_SAFE_INTEGER,bp.toString()}const wp=new Map,Dw=e=>{if(wp.has(e))return;const t=setTimeout(()=>{wp.delete(e),il({type:"REMOVE_TOAST",toastId:e})},F6);wp.set(e,t)},z6=(e,t)=>{switch(t.type){case"ADD_TOAST":return D(A({},e),{toasts:[t.toast,...e.toasts].slice(0,L6)});case"UPDATE_TOAST":return D(A({},e),{toasts:e.toasts.map(r=>r.id===t.toast.id?A(A({},r),t.toast):r)});case"DISMISS_TOAST":{const{toastId:r}=t;return r?Dw(r):e.toasts.forEach(n=>{Dw(n.id)}),D(A({},e),{toasts:e.toasts.map(n=>n.id===r||r===void 0?D(A({},n),{open:!1}):n)})}case"REMOVE_TOAST":return t.toastId===void 0?D(A({},e),{toasts:[]}):D(A({},e),{toasts:e.toasts.filter(r=>r.id!==t.toastId)})}},Ad=[];let _d={toasts:[]};function il(e){_d=z6(_d,e),Ad.forEach(t=>{t(_d)})}function U6(t){var e=W(t,[]);const r=B6(),n=i=>il({type:"UPDATE_TOAST",toast:D(A({},i),{id:r})}),a=()=>il({type:"DISMISS_TOAST",toastId:r});return il({type:"ADD_TOAST",toast:D(A({},e),{id:r,open:!0,onOpenChange:i=>{i||a()}})}),{id:r,dismiss:a,update:n}}function Ir(){const[e,t]=y.useState(_d);return y.useEffect(()=>(Ad.push(t),()=>{const r=Ad.indexOf(t);r>-1&&Ad.splice(r,1)}),[e]),D(A({},e),{toast:U6,dismiss:r=>il({type:"DISMISS_TOAST",toastId:r})})}const W6=VP({username:zs().min(1,"Seleziona un nome utente").max(50,"Username troppo lungo"),password:zs().min(1,"Inserisci una password").max(100,"Password troppo lunga")});function V6(){const{login:e}=Lt(),{toast:t}=Ir(),[r,n]=y.useState(!1),[a,i]=y.useState(!0),[o,c]=y.useState([]),[l,u]=y.useState(null),d=oc({resolver:BP(W6),defaultValues:{username:"",password:""}});y.useEffect(()=>{G(this,null,function*(){try{i(!0);const m=yield Xs.getAvailableUsers();c(m)}catch(m){console.error("Errore nel caricamento utenti:",m);const v=(b,x)=>{if(x==="admin")return"".concat(b," (Amministratore)");const j=b.charAt(0).toUpperCase()+b.slice(1);return"".concat(j," (Membro della famiglia)")},g=["admin","Fabio","Ludovica"].map(b=>{const x=b==="admin"?"admin":"user";return{username:b,displayName:v(b,x),role:x}});c(g)}finally{i(!1)}})},[]);const f=h=>G(this,null,function*(){n(!0),u(null);try{yield e(h),t({title:"Bentornato!",description:"Accesso effettuato con successo."})}catch(m){const v=m instanceof Error?m.message:"Credenziali non valide";u(v),t({title:"Accesso fallito",description:v,variant:"destructive"})}finally{n(!1)}});return s.jsx("div",{className:"min-h-screen bg-eggshell flex items-center justify-center p-4",children:s.jsx(Me,{className:"w-full max-w-md",children:s.jsxs(Re,{className:"pt-8 pb-8 px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-burnt-sienna rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ZP,{className:"h-8 w-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-delft-blue mb-2",children:"HomeTask"}),s.jsx("p",{className:"text-gray-600",children:"Accedi per gestire le attività"})]}),l&&s.jsxs(No,{variant:"destructive",className:"mb-6",children:[s.jsx(tC,{className:"h-4 w-4"}),s.jsx(So,{children:l})]}),s.jsx(cc,D(A({},d),{children:s.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-6",children:[s.jsx(rt,{control:d.control,name:"username",render:({field:h})=>s.jsxs(Qe,{children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Nome utente"]}),s.jsxs(zt,{onValueChange:h.onChange,defaultValue:h.value,disabled:a||r,children:[s.jsx(it,{children:s.jsx(It,{children:s.jsx(Ut,{placeholder:a?"Caricamento utenti...":"Seleziona un utente"})})}),s.jsx($t,{children:o.map(m=>s.jsx(je,{value:m.username,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:m.displayName}),m.role==="admin"&&s.jsx(zi,{className:"h-3 w-3 text-yellow-600"})]})},m.username))})]}),s.jsx(kt,{})]})}),s.jsx(rt,{control:d.control,name:"password",render:({field:h})=>s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue",children:"Password"}),s.jsx(it,{children:s.jsx(st,D(A({},h),{type:"password",placeholder:"Inserisci la password",disabled:r}))}),s.jsx(kt,{})]})}),s.jsxs(ae,{type:"submit",className:"w-full bg-burnt-sienna hover:bg-burnt-sienna/90 text-white font-semibold py-3",disabled:r||a,children:[r&&s.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Accesso in corso...":"Accedi"]})]})}))]})})})}function H6(){return s.jsx(V6,{})}const QC=y.createContext(void 0);function q6({children:e}){const[t,r]=y.useState(()=>typeof window!="undefined"&&sessionStorage.getItem("theme")||"light");y.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),sessionStorage.setItem("theme",t)},[t]);const n=i=>{r(i)},a=()=>{r(i=>i==="light"?"dark":"light")};return s.jsx(QC.Provider,{value:{theme:t,toggleTheme:a,setTheme:n},children:e})}function JC(){const e=y.useContext(QC);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="/firebase-messaging-sw.js",G6="/firebase-cloud-messaging-push-scope",eO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Y6="https://fcmregistrations.googleapis.com/v1",tO="google.c.a.c_id",X6="google.c.a.c_l",Z6="google.c.a.ts",Q6="google.c.a.e",Mw=1e4;var Iw;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Iw||(Iw={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Pl;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Pl||(Pl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function J6(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),a=new Uint8Array(n.length);for(let i=0;i<n.length;++i)a[i]=n.charCodeAt(i);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="fcm_token_details_db",eB=5,$w="fcm_token_object_Store";function tB(e){return G(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(i=>i.name).includes(jp))return null;let t=null;return(yield by(jp,eB,{upgrade:(n,a,i,o)=>G(this,null,function*(){var c;if(a<2||!n.objectStoreNames.contains($w))return;const l=o.objectStore($w),u=yield l.index("fcmSenderId").get(e);if(yield l.clear(),!!u){if(a===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:(c=d.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:xa(d.vapidKey)}}}else if(a===3){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xa(d.auth),p256dh:xa(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xa(d.vapidKey)}}}else if(a===4){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xa(d.auth),p256dh:xa(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xa(d.vapidKey)}}}}})})).close(),yield Jm(jp),yield Jm("fcm_vapid_details_db"),yield Jm("undefined"),rB(t)?t:null})}function rB(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="firebase-messaging-database",aB=1,Cl="firebase-messaging-store";let Np=null;function rO(){return Np||(Np=by(nB,aB,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Cl)}}})),Np}function iB(e){return G(this,null,function*(){const t=nO(e),n=yield(yield rO()).transaction(Cl).objectStore(Cl).get(t);if(n)return n;{const a=yield tB(e.appConfig.senderId);if(a)return yield ox(e,a),a}})}function ox(e,t){return G(this,null,function*(){const r=nO(e),a=(yield rO()).transaction(Cl,"readwrite");return yield a.objectStore(Cl).put(t,r),yield a.done,t})}function nO({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Sr=new xy("messaging","Messaging",sB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(e,t){return G(this,null,function*(){const r=yield lx(e),n=aO(t),a={method:"POST",headers:r,body:JSON.stringify(n)};let i;try{i=yield(yield fetch(cx(e.appConfig),a)).json()}catch(o){throw Sr.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw Sr.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw Sr.create("token-subscribe-no-token");return i.token})}function cB(e,t){return G(this,null,function*(){const r=yield lx(e),n=aO(t.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(n)};let i;try{i=yield(yield fetch("".concat(cx(e.appConfig),"/").concat(t.token),a)).json()}catch(o){throw Sr.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw Sr.create("token-update-failed",{errorInfo:o})}if(!i.token)throw Sr.create("token-update-no-token");return i.token})}function lB(e,t){return G(this,null,function*(){const n={method:"DELETE",headers:yield lx(e)};try{const i=yield(yield fetch("".concat(cx(e.appConfig),"/").concat(t),n)).json();if(i.error){const o=i.error.message;throw Sr.create("token-unsubscribe-failed",{errorInfo:o})}}catch(a){throw Sr.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}})}function cx({projectId:e}){return"".concat(Y6,"/projects/").concat(e,"/registrations")}function lx(r){return G(this,arguments,function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(n)})})}function aO({p256dh:e,auth:t,endpoint:r,vapidKey:n}){const a={web:{endpoint:r,auth:t,p256dh:e}};return n!==eO&&(a.web.applicationPubKey=n),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=7*24*60*60*1e3;function dB(e){return G(this,null,function*(){const t=yield hB(e.swRegistration,e.vapidKey),r={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:xa(t.getKey("auth")),p256dh:xa(t.getKey("p256dh"))},n=yield iB(e.firebaseDependencies);if(n){if(mB(n.subscriptionOptions,r))return Date.now()>=n.createTime+uB?fB(e,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{yield lB(e.firebaseDependencies,n.token)}catch(a){console.warn(a)}return Rw(e.firebaseDependencies,r)}else return Rw(e.firebaseDependencies,r)})}function fB(e,t){return G(this,null,function*(){try{const r=yield cB(e.firebaseDependencies,t),n=Object.assign(Object.assign({},t),{token:r,createTime:Date.now()});return yield ox(e.firebaseDependencies,n),r}catch(r){throw r}})}function Rw(e,t){return G(this,null,function*(){const n={token:yield oB(e,t),createTime:Date.now(),subscriptionOptions:t};return yield ox(e,n),n.token})}function hB(e,t){return G(this,null,function*(){const r=yield e.pushManager.getSubscription();return r||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:J6(t)})})}function mB(e,t){const r=t.vapidKey===e.vapidKey,n=t.endpoint===e.endpoint,a=t.auth===e.auth,i=t.p256dh===e.p256dh;return r&&n&&a&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return pB(t,e),gB(t,e),vB(t,e),t}function pB(e,t){if(!t.notification)return;e.notification={};const r=t.notification.title;r&&(e.notification.title=r);const n=t.notification.body;n&&(e.notification.body=n);const a=t.notification.image;a&&(e.notification.image=a);const i=t.notification.icon;i&&(e.notification.icon=i)}function gB(e,t){t.data&&(e.data=t.data)}function vB(e,t){var r,n,a,i,o;if(!t.fcmOptions&&!(!((r=t.notification)===null||r===void 0)&&r.click_action))return;e.fcmOptions={};const c=(a=(n=t.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&a!==void 0?a:(i=t.notification)===null||i===void 0?void 0:i.click_action;c&&(e.fcmOptions.link=c);const l=(o=t.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(e){return typeof e=="object"&&!!e&&tO in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(e){if(!e||!e.options)throw Sp("App Configuration Object");if(!e.name)throw Sp("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=e;for(const n of t)if(!r[n])throw Sp(n);return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Sp(e){return Sr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(t,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=xB(t);this.firebaseDependencies={app:t,appConfig:a,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(e){return G(this,null,function*(){try{e.swRegistration=yield navigator.serviceWorker.register(K6,{scope:G6}),e.swRegistration.update().catch(()=>{}),yield jB(e.swRegistration)}catch(t){throw Sr.create("failed-service-worker-registration",{browserErrorMessage:t==null?void 0:t.message})}})}function jB(e){return G(this,null,function*(){return new Promise((t,r)=>{const n=setTimeout(()=>r(new Error("Service worker not registered after ".concat(Mw," ms"))),Mw),a=e.installing||e.waiting;e.active?(clearTimeout(n),t()):a?a.onstatechange=i=>{var o;((o=i.target)===null||o===void 0?void 0:o.state)==="activated"&&(a.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(e,t){return G(this,null,function*(){if(!t&&!e.swRegistration&&(yield wB(e)),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Sr.create("invalid-sw-registration");e.swRegistration=t}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(e,t){return G(this,null,function*(){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=eO)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(e,t){return G(this,null,function*(){if(!navigator)throw Sr.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Sr.create("permission-blocked");return yield SB(e,t==null?void 0:t.vapidKey),yield NB(e,t==null?void 0:t.serviceWorkerRegistration),dB(e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(e,t,r){return G(this,null,function*(){const n=_B(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[tO],message_name:r[X6],message_time:r[Z6],message_device_time:Math.floor(Date.now()/1e3)})})}function _B(e){switch(e){case Pl.NOTIFICATION_CLICKED:return"notification_open";case Pl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(e,t){return G(this,null,function*(){const r=t.data;if(!r.isFirebaseMessaging)return;e.onMessageHandler&&r.messageType===Pl.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Lw(r)):e.onMessageHandler.next(Lw(r)));const n=r.data;yB(n)&&n[Q6]==="1"&&(yield AB(e,r.messageType,n))})}const Fw="@firebase/messaging",Bw="0.12.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=e=>{const t=new bB(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>PB(t,r)),t},OB=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:n=>iO(t,n)}};function EB(){ns(new as("messaging",CB,"PUBLIC")),ns(new as("messaging-internal",OB,"PRIVATE")),di(Fw,Bw),di(Fw,Bw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(){return G(this,null,function*(){try{yield IA()}catch(e){return!1}return typeof window!="undefined"&&MA()&&$A()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TB(e,t){if(!navigator)throw Sr.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(e=DA()){return kB().then(t=>{if(!t)throw Sr.create("unsupported-browser")},t=>{throw Sr.create("indexed-db-unsupported")}),gh(yu(e),"messaging").getImmediate()}function MB(e,t){return G(this,null,function*(){return e=yu(e),iO(e,t)})}function IB(e,t){return e=yu(e),TB(e,t)}EB();const $B=void 0;function RB(){const[e,t]=y.useState("default"),[r,n]=y.useState(null),[a,i]=y.useState(!1),[o,c]=y.useState(null),{toast:l}=Ir(),u=()=>{try{return typeof window!="undefined"&&"Notification"in window}catch(x){return!1}},d=()=>{try{return u()?Notification.permission:"default"}catch(x){return"default"}},f=()=>{const x=navigator.userAgent,j=/iPad|iPhone|iPod/.test(x),N=/Safari/.test(x)&&!/Chrome/.test(x);return j&&N};y.useEffect(()=>{try{const x=d();t(x)}catch(x){t("default")}"serviceWorker"in navigator&&!a&&!f()&&h()},[]);const h=()=>G(this,null,function*(){i(!0);try{const j=yield navigator.serviceWorker.register("/FamilyTaskTracker/firebase-messaging-sw.js",{scope:"/FamilyTaskTracker/"});c(j)}catch(x){console.error("❌ Service Worker registration failed:",x)}finally{i(!1)}}),m=()=>G(this,null,function*(){if(!u()){l({title:"📱 Non supportato",description:"Le notifiche non sono supportate su questo dispositivo.",variant:"destructive"});return}try{f()&&l({title:"📱 Permesso richiesto",description:"Su iPhone, conferma il permesso nelle impostazioni del browser."});const x=yield Notification.requestPermission();t(x),x==="granted"?(yield v(),l({title:"🔔 Notifiche attivate",description:"Riceverai aggiornamenti famiglia!"})):x==="denied"&&l({title:"🔕 Notifiche bloccate",description:"Puoi riabilitarle nelle impostazioni del browser.",variant:"destructive"})}catch(x){console.error("Errore permessi:",x);const j=f()?"Su iPhone, abilita le notifiche nelle impostazioni Safari.":"Impossibile attivare le notifiche";l({title:"Errore notifiche",description:j,variant:"destructive"})}}),v=()=>G(this,null,function*(){if(!f())try{const x=DB(),j={vapidKey:$B};o&&(j.serviceWorkerRegistration=o);const N=yield MB(x,j);if(N)return n(N),yield p(N),IB(x,S=>{var P,k;l({title:((P=S.notification)==null?void 0:P.title)||"Nuovo aggiornamento",description:((k=S.notification)==null?void 0:k.body)||"Controlla l'app"})});console.warn("⚠️ No FCM token available")}catch(x){console.error("Errore FCM setup:",x)}}),p=x=>G(this,null,function*(){});return{permission:e,token:r,isRegistering:a,swRegistration:o,requestPermission:m,testNotification:()=>{e==="granted"&&u()?l({title:"🧪 Test notifica",description:"Questa è una notifica di test!"}):l({title:"⚠️ Permessi necessari",description:"Abilita prima le notifiche o device non supportato.",variant:"destructive"})},getNotificationSupport:()=>{const x=u(),j="serviceWorker"in navigator,N=e==="granted",w=!!r;return{hasNotifications:x,hasServiceWorker:j,hasPermission:N,hasToken:w,isFullySupported:x&&j&&N&&w,isIOSSafari:f()}},isSupported:u()&&"serviceWorker"in navigator,isIOSSafari:f()}}var Ap="rovingFocusGroup.onEntryFocus",LB={bubbles:!1,cancelable:!0},Pu="RovingFocusGroup",[$g,sO,FB]=ix(Pu),[BB,oO]=nn(Pu,[FB]),[zB,UB]=BB(Pu),cO=y.forwardRef((e,t)=>s.jsx($g.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx($g.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(WB,D(A({},e),{ref:t}))})}));cO.displayName=Pu;var WB=y.forwardRef((e,t)=>{const k=e,{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1}=k,f=W(k,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),h=y.useRef(null),m=Xe(t,h),v=Lh(i),[p,g]=pi({prop:o,defaultProp:c!=null?c:null,onChange:l,caller:Pu}),[b,x]=y.useState(!1),j=gr(u),N=sO(r),w=y.useRef(!1),[S,P]=y.useState(0);return y.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(Ap,j),()=>T.removeEventListener(Ap,j)},[j]),s.jsx(zB,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:y.useCallback(T=>g(T),[g]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>P(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>P(T=>T-1),[]),children:s.jsx($e.div,D(A({tabIndex:b||S===0?-1:0,"data-orientation":n},f),{ref:m,style:A({outline:"none"},e.style),onMouseDown:pe(e.onMouseDown,()=>{w.current=!0}),onFocus:pe(e.onFocus,T=>{const E=!w.current;if(T.target===T.currentTarget&&E&&!b){const _=new CustomEvent(Ap,LB);if(T.currentTarget.dispatchEvent(_),!_.defaultPrevented){const O=N().filter(B=>B.focusable),C=O.find(B=>B.active),R=O.find(B=>B.id===p),F=[C,R,...O].filter(Boolean).map(B=>B.ref.current);dO(F,d)}}w.current=!1}),onBlur:pe(e.onBlur,()=>x(!1))}))})}),lO="RovingFocusGroupItem",uO=y.forwardRef((e,t)=>{const g=e,{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o}=g,c=W(g,["__scopeRovingFocusGroup","focusable","active","tabStopId","children"]),l=Mn(),u=i||l,d=UB(lO,r),f=d.currentTabStopId===u,h=sO(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:p}=d;return y.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),s.jsx($g.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx($e.span,D(A({tabIndex:f?0:-1,"data-orientation":d.orientation},c),{ref:t,onMouseDown:pe(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:pe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:pe(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=qB(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let N=h().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")N.reverse();else if(x==="prev"||x==="next"){x==="prev"&&N.reverse();const w=N.indexOf(b.currentTarget);N=d.loop?KB(N,w+1):N.slice(w+1)}setTimeout(()=>dO(N))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o}))})});uO.displayName=lO;var VB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qB(e,t,r){const n=HB(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return VB[n]}function dO(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function KB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var GB=cO,YB=uO,Rg=["Enter"," "],XB=["ArrowDown","PageUp","Home"],fO=["ArrowUp","PageDown","End"],ZB=[...XB,...fO],QB={ltr:[...Rg,"ArrowRight"],rtl:[...Rg,"ArrowLeft"]},JB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cu="Menu",[Ol,ez,tz]=ix(Cu),[ws,hO]=nn(Cu,[tz,bi,oO]),Hh=bi(),mO=oO(),[rz,js]=ws(Cu),[nz,Ou]=ws(Cu),pO=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,c=Hh(t),[l,u]=y.useState(null),d=y.useRef(!1),f=gr(i),h=Lh(a);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(Sh,D(A({},c),{children:s.jsx(rz,{scope:t,open:r,onOpenChange:f,content:l,onContentChange:u,children:s.jsx(nz,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})}))};pO.displayName=Cu;var az="MenuAnchor",ux=y.forwardRef((e,t)=>{const i=e,{__scopeMenu:r}=i,n=W(i,["__scopeMenu"]),a=Hh(r);return s.jsx(wu,D(A(A({},a),n),{ref:t}))});ux.displayName=az;var dx="MenuPortal",[iz,gO]=ws(dx,{forceMount:void 0}),vO=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=js(dx,t);return s.jsx(iz,{scope:t,forceMount:r,children:s.jsx(Mr,{present:r||i.open,children:s.jsx(ju,{asChild:!0,container:a,children:n})})})};vO.displayName=dx;var mn="MenuContent",[sz,fx]=ws(mn),yO=y.forwardRef((e,t)=>{const r=gO(mn,e.__scopeMenu),c=e,{forceMount:n=r.forceMount}=c,a=W(c,["forceMount"]),i=js(mn,e.__scopeMenu),o=Ou(mn,e.__scopeMenu);return s.jsx(Ol.Provider,{scope:e.__scopeMenu,children:s.jsx(Mr,{present:n||i.open,children:s.jsx(Ol.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(oz,D(A({},a),{ref:t})):s.jsx(cz,D(A({},a),{ref:t}))})})})}),oz=y.forwardRef((e,t)=>{const r=js(mn,e.__scopeMenu),n=y.useRef(null),a=Xe(t,n);return y.useEffect(()=>{const i=n.current;if(i)return Bh(i)},[]),s.jsx(hx,D(A({},e),{ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),cz=y.forwardRef((e,t)=>{const r=js(mn,e.__scopeMenu);return s.jsx(hx,D(A({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),lz=fi("MenuContent.ScrollLock"),hx=y.forwardRef((e,t)=>{const z=e,{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v}=z,p=W(z,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"]),g=js(mn,r),b=Ou(mn,r),x=Hh(r),j=mO(r),N=ez(r),[w,S]=y.useState(null),P=y.useRef(null),k=Xe(t,P,g.onContentChange),T=y.useRef(0),E=y.useRef(""),_=y.useRef(0),O=y.useRef(null),C=y.useRef("right"),R=y.useRef(0),I=v?_u:y.Fragment,F=v?{as:lz,allowPinchZoom:!0}:void 0,B=U=>{var ue,ee;const Z=E.current+U,K=N().filter(Y=>!Y.disabled),ie=document.activeElement,xe=(ue=K.find(Y=>Y.ref.current===ie))==null?void 0:ue.textValue,ke=K.map(Y=>Y.textValue),Oe=wz(ke,Z,xe),Fe=(ee=K.find(Y=>Y.textValue===Oe))==null?void 0:ee.ref.current;(function Y(Q){E.current=Q,window.clearTimeout(T.current),Q!==""&&(T.current=window.setTimeout(()=>Y(""),1e3))})(Z),Fe&&setTimeout(()=>Fe.focus())};y.useEffect(()=>()=>window.clearTimeout(T.current),[]),Fh();const L=y.useCallback(U=>{var K,ie;return C.current===((K=O.current)==null?void 0:K.side)&&Nz(U,(ie=O.current)==null?void 0:ie.area)},[]);return s.jsx(sz,{scope:r,searchRef:E,onItemEnter:y.useCallback(U=>{L(U)&&U.preventDefault()},[L]),onItemLeave:y.useCallback(U=>{var Z;L(U)||((Z=P.current)==null||Z.focus(),S(null))},[L]),onTriggerLeave:y.useCallback(U=>{L(U)&&U.preventDefault()},[L]),pointerGraceTimerRef:_,onPointerGraceIntentChange:y.useCallback(U=>{O.current=U},[]),children:s.jsx(I,D(A({},F),{children:s.jsx(Au,{asChild:!0,trapped:a,onMountAutoFocus:pe(i,U=>{var Z;U.preventDefault(),(Z=P.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(nc,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:s.jsx(GB,D(A({asChild:!0},j),{dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:S,onEntryFocus:pe(l,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ah,D(A(A({role:"menu","aria-orientation":"vertical","data-state":MO(g.open),"data-radix-menu-content":"",dir:b.dir},x),p),{ref:k,style:A({outline:"none"},p.style),onKeyDown:pe(p.onKeyDown,U=>{const K=U.target.closest("[data-radix-menu-content]")===U.currentTarget,ie=U.ctrlKey||U.altKey||U.metaKey,xe=U.key.length===1;K&&(U.key==="Tab"&&U.preventDefault(),!ie&&xe&&B(U.key));const ke=P.current;if(U.target!==ke||!ZB.includes(U.key))return;U.preventDefault();const Fe=N().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);fO.includes(U.key)&&Fe.reverse(),xz(Fe)}),onBlur:pe(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(T.current),E.current="")}),onPointerMove:pe(e.onPointerMove,El(U=>{const Z=U.target,K=R.current!==U.clientX;if(U.currentTarget.contains(Z)&&K){const ie=U.clientX>R.current?"right":"left";C.current=ie,R.current=U.clientX}}))}))}))})})}))})});yO.displayName=mn;var uz="MenuGroup",mx=y.forwardRef((e,t)=>{const a=e,{__scopeMenu:r}=a,n=W(a,["__scopeMenu"]);return s.jsx($e.div,D(A({role:"group"},n),{ref:t}))});mx.displayName=uz;var dz="MenuLabel",xO=y.forwardRef((e,t)=>{const a=e,{__scopeMenu:r}=a,n=W(a,["__scopeMenu"]);return s.jsx($e.div,D(A({},n),{ref:t}))});xO.displayName=dz;var Jd="MenuItem",zw="menu.itemSelect",qh=y.forwardRef((e,t)=>{const f=e,{disabled:r=!1,onSelect:n}=f,a=W(f,["disabled","onSelect"]),i=y.useRef(null),o=Ou(Jd,e.__scopeMenu),c=fx(Jd,e.__scopeMenu),l=Xe(t,i),u=y.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const m=new CustomEvent(zw,{bubbles:!0,cancelable:!0});h.addEventListener(zw,v=>n==null?void 0:n(v),{once:!0}),d_(h,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(bO,D(A({},a),{ref:l,disabled:r,onClick:pe(e.onClick,d),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:pe(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:pe(e.onKeyDown,h=>{const m=c.searchRef.current!=="";r||m&&h.key===" "||Rg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})}))});qh.displayName=Jd;var bO=y.forwardRef((e,t)=>{const v=e,{__scopeMenu:r,disabled:n=!1,textValue:a}=v,i=W(v,["__scopeMenu","disabled","textValue"]),o=fx(Jd,r),c=mO(r),l=y.useRef(null),u=Xe(t,l),[d,f]=y.useState(!1),[h,m]=y.useState("");return y.useEffect(()=>{var g;const p=l.current;p&&m(((g=p.textContent)!=null?g:"").trim())},[i.children]),s.jsx(Ol.ItemSlot,{scope:r,disabled:n,textValue:a!=null?a:h,children:s.jsx(YB,D(A({asChild:!0},c),{focusable:!n,children:s.jsx($e.div,D(A({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0},i),{ref:u,onPointerMove:pe(e.onPointerMove,El(p=>{n?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(e.onPointerLeave,El(p=>o.onItemLeave(p))),onFocus:pe(e.onFocus,()=>f(!0)),onBlur:pe(e.onBlur,()=>f(!1))}))}))})}),fz="MenuCheckboxItem",wO=y.forwardRef((e,t)=>{const i=e,{checked:r=!1,onCheckedChange:n}=i,a=W(i,["checked","onCheckedChange"]);return s.jsx(_O,{scope:e.__scopeMenu,checked:r,children:s.jsx(qh,D(A({role:"menuitemcheckbox","aria-checked":ef(r)?"mixed":r},a),{ref:t,"data-state":gx(r),onSelect:pe(a.onSelect,()=>n==null?void 0:n(ef(r)?!0:!r),{checkForDefaultPrevented:!1})}))})});wO.displayName=fz;var jO="MenuRadioGroup",[hz,mz]=ws(jO,{value:void 0,onValueChange:()=>{}}),NO=y.forwardRef((e,t)=>{const o=e,{value:r,onValueChange:n}=o,a=W(o,["value","onValueChange"]),i=gr(n);return s.jsx(hz,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(mx,D(A({},a),{ref:t}))})});NO.displayName=jO;var SO="MenuRadioItem",AO=y.forwardRef((e,t)=>{const o=e,{value:r}=o,n=W(o,["value"]),a=mz(SO,e.__scopeMenu),i=r===a.value;return s.jsx(_O,{scope:e.__scopeMenu,checked:i,children:s.jsx(qh,D(A({role:"menuitemradio","aria-checked":i},n),{ref:t,"data-state":gx(i),onSelect:pe(n.onSelect,()=>{var c;return(c=a.onValueChange)==null?void 0:c.call(a,r)},{checkForDefaultPrevented:!1})}))})});AO.displayName=SO;var px="MenuItemIndicator",[_O,pz]=ws(px,{checked:!1}),PO=y.forwardRef((e,t)=>{const o=e,{__scopeMenu:r,forceMount:n}=o,a=W(o,["__scopeMenu","forceMount"]),i=pz(px,r);return s.jsx(Mr,{present:n||ef(i.checked)||i.checked===!0,children:s.jsx($e.span,D(A({},a),{ref:t,"data-state":gx(i.checked)}))})});PO.displayName=px;var gz="MenuSeparator",CO=y.forwardRef((e,t)=>{const a=e,{__scopeMenu:r}=a,n=W(a,["__scopeMenu"]);return s.jsx($e.div,D(A({role:"separator","aria-orientation":"horizontal"},n),{ref:t}))});CO.displayName=gz;var vz="MenuArrow",OO=y.forwardRef((e,t)=>{const i=e,{__scopeMenu:r}=i,n=W(i,["__scopeMenu"]),a=Hh(r);return s.jsx(_h,D(A(A({},a),n),{ref:t}))});OO.displayName=vz;var yz="MenuSub",[yxe,EO]=ws(yz),Qc="MenuSubTrigger",kO=y.forwardRef((e,t)=>{const r=js(Qc,e.__scopeMenu),n=Ou(Qc,e.__scopeMenu),a=EO(Qc,e.__scopeMenu),i=fx(Qc,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),l(null)}},[c,l]),s.jsx(ux,D(A({asChild:!0},u),{children:s.jsx(bO,D(A({id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":MO(r.open)},e),{ref:bh(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pe(e.onPointerMove,El(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:pe(e.onPointerLeave,El(f=>{var m,v;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(v=r.content)==null?void 0:v.dataset.side,g=p==="right",b=g?-5:5,x=h[g?"left":"right"],j=h[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:j,y:h.top},{x:j,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pe(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||QB[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})}))}))});kO.displayName=Qc;var TO="MenuSubContent",DO=y.forwardRef((e,t)=>{const r=gO(mn,e.__scopeMenu),d=e,{forceMount:n=r.forceMount}=d,a=W(d,["forceMount"]),i=js(mn,e.__scopeMenu),o=Ou(mn,e.__scopeMenu),c=EO(TO,e.__scopeMenu),l=y.useRef(null),u=Xe(t,l);return s.jsx(Ol.Provider,{scope:e.__scopeMenu,children:s.jsx(Mr,{present:n||i.open,children:s.jsx(Ol.Slot,{scope:e.__scopeMenu,children:s.jsx(hx,D(A({id:c.contentId,"aria-labelledby":c.triggerId},a),{ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:pe(e.onFocusOutside,f=>{f.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pe(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:pe(e.onKeyDown,f=>{var v;const h=f.currentTarget.contains(f.target),m=JB[o.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(v=c.trigger)==null||v.focus(),f.preventDefault())})}))})})})});DO.displayName=TO;function MO(e){return e?"open":"closed"}function ef(e){return e==="indeterminate"}function gx(e){return ef(e)?"indeterminate":e?"checked":"unchecked"}function xz(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function bz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function wz(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=bz(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==r?l:void 0}function jz(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],l=t[o],u=c.x,d=c.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Nz(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return jz(r,t)}function El(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Sz=pO,Az=ux,_z=vO,Pz=yO,Cz=mx,Oz=xO,Ez=qh,kz=wO,Tz=NO,Dz=AO,Mz=PO,Iz=CO,$z=OO,Rz=kO,Lz=DO,Kh="DropdownMenu",[Fz,xxe]=nn(Kh,[hO]),$r=hO(),[Bz,IO]=Fz(Kh),$O=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,l=$r(t),u=y.useRef(null),[d,f]=pi({prop:a,defaultProp:i!=null?i:!1,onChange:o,caller:Kh});return s.jsx(Bz,{scope:t,triggerId:Mn(),triggerRef:u,contentId:Mn(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:c,children:s.jsx(Sz,D(A({},l),{open:d,onOpenChange:f,dir:n,modal:c,children:r}))})};$O.displayName=Kh;var RO="DropdownMenuTrigger",LO=y.forwardRef((e,t)=>{const c=e,{__scopeDropdownMenu:r,disabled:n=!1}=c,a=W(c,["__scopeDropdownMenu","disabled"]),i=IO(RO,r),o=$r(r);return s.jsx(Az,D(A({asChild:!0},o),{children:s.jsx($e.button,D(A({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},a),{ref:bh(t,i.triggerRef),onPointerDown:pe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:pe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})}))}))});LO.displayName=RO;var zz="DropdownMenuPortal",FO=e=>{const a=e,{__scopeDropdownMenu:t}=a,r=W(a,["__scopeDropdownMenu"]),n=$r(t);return s.jsx(_z,A(A({},n),r))};FO.displayName=zz;var BO="DropdownMenuContent",zO=y.forwardRef((e,t)=>{const c=e,{__scopeDropdownMenu:r}=c,n=W(c,["__scopeDropdownMenu"]),a=IO(BO,r),i=$r(r),o=y.useRef(!1);return s.jsx(Pz,D(A(A({id:a.contentId,"aria-labelledby":a.triggerId},i),n),{ref:t,onCloseAutoFocus:pe(e.onCloseAutoFocus,l=>{var u;o.current||(u=a.triggerRef.current)==null||u.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:pe(e.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;(!a.modal||f)&&(o.current=!0)}),style:D(A({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});zO.displayName=BO;var Uz="DropdownMenuGroup",Wz=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(Cz,D(A(A({},a),n),{ref:t}))});Wz.displayName=Uz;var Vz="DropdownMenuLabel",UO=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(Oz,D(A(A({},a),n),{ref:t}))});UO.displayName=Vz;var Hz="DropdownMenuItem",WO=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(Ez,D(A(A({},a),n),{ref:t}))});WO.displayName=Hz;var qz="DropdownMenuCheckboxItem",VO=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(kz,D(A(A({},a),n),{ref:t}))});VO.displayName=qz;var Kz="DropdownMenuRadioGroup",Gz=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(Tz,D(A(A({},a),n),{ref:t}))});Gz.displayName=Kz;var Yz="DropdownMenuRadioItem",HO=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(Dz,D(A(A({},a),n),{ref:t}))});HO.displayName=Yz;var Xz="DropdownMenuItemIndicator",qO=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(Mz,D(A(A({},a),n),{ref:t}))});qO.displayName=Xz;var Zz="DropdownMenuSeparator",KO=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(Iz,D(A(A({},a),n),{ref:t}))});KO.displayName=Zz;var Qz="DropdownMenuArrow",Jz=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx($z,D(A(A({},a),n),{ref:t}))});Jz.displayName=Qz;var e8="DropdownMenuSubTrigger",GO=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(Rz,D(A(A({},a),n),{ref:t}))});GO.displayName=e8;var t8="DropdownMenuSubContent",YO=y.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,n=W(i,["__scopeDropdownMenu"]),a=$r(r);return s.jsx(Lz,D(A(A({},a),n),{ref:t,style:D(A({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});YO.displayName=t8;var r8=$O,n8=LO,a8=FO,XO=zO,ZO=UO,QO=WO,JO=VO,eE=HO,tE=qO,rE=KO,nE=GO,aE=YO;const Lg=r8,Fg=n8,i8=y.forwardRef((i,a)=>{var o=i,{className:e,inset:t,children:r}=o,n=W(o,["className","inset","children"]);return s.jsxs(nE,D(A({ref:a,className:ne("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e)},n),{children:[r,s.jsx(tx,{className:"ml-auto"})]}))});i8.displayName=nE.displayName;const s8=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(aE,A({ref:r,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e)},t))});s8.displayName=aE.displayName;const tf=y.forwardRef((a,n)=>{var i=a,{className:e,sideOffset:t=4}=i,r=W(i,["className","sideOffset"]);return s.jsx(a8,{children:s.jsx(XO,A({ref:n,sideOffset:t,className:ne("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e)},r))})});tf.displayName=XO.displayName;const Lr=y.forwardRef((a,n)=>{var i=a,{className:e,inset:t}=i,r=W(i,["className","inset"]);return s.jsx(QO,A({ref:n,className:ne("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e)},r))});Lr.displayName=QO.displayName;const o8=y.forwardRef((i,a)=>{var o=i,{className:e,children:t,checked:r}=o,n=W(o,["className","children","checked"]);return s.jsxs(JO,D(A({ref:a,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r},n),{children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(tE,{children:s.jsx(Rt,{className:"h-4 w-4"})})}),t]}))});o8.displayName=JO.displayName;const c8=y.forwardRef((a,n)=>{var i=a,{className:e,children:t}=i,r=W(i,["className","children"]);return s.jsxs(eE,D(A({ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e)},r),{children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(tE,{children:s.jsx(Fs,{className:"h-2 w-2 fill-current"})})}),t]}))});c8.displayName=eE.displayName;const iE=y.forwardRef((a,n)=>{var i=a,{className:e,inset:t}=i,r=W(i,["className","inset"]);return s.jsx(ZO,A({ref:n,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e)},r))});iE.displayName=ZO.displayName;const Bs=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(rE,A({ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e)},t))});Bs.displayName=rE.displayName;const l8=$h("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),he=y.forwardRef((a,n)=>{var i=a,{className:e,variant:t}=i,r=W(i,["className","variant"]);return s.jsx("div",A({ref:n,className:ne(l8({variant:t}),e)},r))});he.displayName="Badge";var Gh="Popover",[sE,bxe]=nn(Gh,[bi]),Eu=bi(),[u8,Ni]=sE(Gh),oE=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,c=Eu(t),l=y.useRef(null),[u,d]=y.useState(!1),[f,h]=pi({prop:n,defaultProp:a!=null?a:!1,onChange:i,caller:Gh});return s.jsx(Sh,D(A({},c),{children:s.jsx(u8,{scope:t,contentId:Mn(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:r})}))};oE.displayName=Gh;var cE="PopoverAnchor",d8=y.forwardRef((e,t)=>{const l=e,{__scopePopover:r}=l,n=W(l,["__scopePopover"]),a=Ni(cE,r),i=Eu(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=a;return y.useEffect(()=>(o(),()=>c()),[o,c]),s.jsx(wu,D(A(A({},i),n),{ref:t}))});d8.displayName=cE;var lE="PopoverTrigger",uE=y.forwardRef((e,t)=>{const l=e,{__scopePopover:r}=l,n=W(l,["__scopePopover"]),a=Ni(lE,r),i=Eu(r),o=Xe(t,a.triggerRef),c=s.jsx($e.button,D(A({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":pE(a.open)},n),{ref:o,onClick:pe(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?c:s.jsx(wu,D(A({asChild:!0},i),{children:c}))});uE.displayName=lE;var vx="PopoverPortal",[f8,h8]=sE(vx,{forceMount:void 0}),dE=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Ni(vx,t);return s.jsx(f8,{scope:t,forceMount:r,children:s.jsx(Mr,{present:r||i.open,children:s.jsx(ju,{asChild:!0,container:a,children:n})})})};dE.displayName=vx;var Ao="PopoverContent",fE=y.forwardRef((e,t)=>{const r=h8(Ao,e.__scopePopover),o=e,{forceMount:n=r.forceMount}=o,a=W(o,["forceMount"]),i=Ni(Ao,e.__scopePopover);return s.jsx(Mr,{present:n||i.open,children:i.modal?s.jsx(p8,D(A({},a),{ref:t})):s.jsx(g8,D(A({},a),{ref:t}))})});fE.displayName=Ao;var m8=fi("PopoverContent.RemoveScroll"),p8=y.forwardRef((e,t)=>{const r=Ni(Ao,e.__scopePopover),n=y.useRef(null),a=Xe(t,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return Bh(o)},[]),s.jsx(_u,{as:m8,allowPinchZoom:!0,children:s.jsx(hE,D(A({},e),{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),i.current||(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:pe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})}))})}),g8=y.forwardRef((e,t)=>{const r=Ni(Ao,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(hE,D(A({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),hE=y.forwardRef((e,t)=>{const v=e,{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d}=v,f=W(v,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),h=Ni(Ao,r),m=Eu(r);return Fh(),s.jsx(Au,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(nc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(Ah,D(A(A({"data-state":pE(h.open),role:"dialog",id:h.contentId},m),f),{ref:t,style:D(A({},f.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),mE="PopoverClose",v8=y.forwardRef((e,t)=>{const i=e,{__scopePopover:r}=i,n=W(i,["__scopePopover"]),a=Ni(mE,r);return s.jsx($e.button,D(A({type:"button"},n),{ref:t,onClick:pe(e.onClick,()=>a.onOpenChange(!1))}))});v8.displayName=mE;var y8="PopoverArrow",x8=y.forwardRef((e,t)=>{const i=e,{__scopePopover:r}=i,n=W(i,["__scopePopover"]),a=Eu(r);return s.jsx(_h,D(A(A({},a),n),{ref:t}))});x8.displayName=y8;function pE(e){return e?"open":"closed"}var b8=oE,w8=uE,j8=dE,gE=fE;const rf=b8,nf=w8,kl=y.forwardRef((i,a)=>{var o=i,{className:e,align:t="center",sideOffset:r=4}=o,n=W(o,["className","align","sideOffset"]);return s.jsx(j8,{children:s.jsx(gE,A({ref:a,align:t,sideOffset:r,className:ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e)},n))})});kl.displayName=gE.displayName;function vE(){const[e,t]=y.useState({version:"v1.0.0.0",buildNumber:parseInt("0"),buildDate:new Date().toISOString(),commitSha:"dev",environment:"development",deploymentId:void 0});return y.useEffect(()=>{t({version:"v1.0.0.0",buildNumber:parseInt("0"),buildDate:new Date().toISOString(),commitSha:"dev",environment:"development",deploymentId:void 0})},[]),e}function N8(e){try{return new Date(e).toLocaleString("it-IT",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(t){return"Data sconosciuta"}}function S8(e){switch(e){case"production":return"text-green-600";case"staging":return"text-yellow-600";case"development":case"local":return"text-blue-600";default:return"text-gray-600"}}function A8(e){switch(e){case"production":return"🚀";case"staging":return"🔧";case"development":case"local":return"🔨";default:return"📦"}}function Uw({variant:e="default",showPopover:t=!0,className:r=""}){const n=vE(),[a,i]=y.useState(!1),o=S8(n.environment),c=A8(n.environment);if(e==="compact")return s.jsx(he,{variant:"secondary",className:"text-xs ".concat(r),children:n.version});if(e==="icon-only")return s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 ".concat(r),title:"".concat(n.version," - ").concat(n.environment)});const l=s.jsxs(he,{variant:"outline",className:"\n        cursor-pointer transition-all duration-200 \n        hover:shadow-md hover:scale-105\n        flex items-center gap-1 text-xs\n        ".concat(o," \n        ").concat(r,"\n      "),children:[s.jsx("span",{className:"text-xs",children:c}),s.jsx("span",{className:"font-mono",children:n.version}),n.environment!=="production"&&s.jsx("span",{className:"text-[10px] opacity-70",children:n.environment})]});return t?s.jsxs(rf,{open:a,onOpenChange:i,children:[s.jsx(nf,{asChild:!0,children:l}),s.jsx(kl,{className:"w-80 p-4",align:"end",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[s.jsx(Sg,{className:"h-4 w-4 text-blue-500"}),s.jsx("h4",{className:"font-semibold text-sm",children:"Informazioni Versione"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Versione:"}),s.jsx(he,{variant:"default",className:"font-mono",children:n.version})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Build:"}),s.jsxs("span",{className:"text-sm font-mono",children:["#",n.buildNumber]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Ambiente:"}),s.jsxs(he,{variant:"secondary",className:"text-xs ".concat(o),children:[c," ",n.environment]})]})]}),s.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(li,{className:"h-3 w-3 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Build Date:"}),s.jsx("p",{className:"text-xs font-mono",children:N8(n.buildDate)})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(t5,{className:"h-3 w-3 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Commit:"}),s.jsx("p",{className:"text-xs font-mono",children:n.commitSha})]})]}),n.deploymentId&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(r5,{className:"h-3 w-3 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Deploy ID:"}),s.jsx("p",{className:"text-xs font-mono break-all",children:n.deploymentId})]})]})]}),s.jsx("div",{className:"pt-2 border-t",children:s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Family Task Tracker"})})]})})]}):l}function _8({className:e=""}){const t=vE();return s.jsxs("div",{className:"flex items-center gap-1 ".concat(e),children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),s.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:t.version})]})}const id=({className:e})=>s.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/6457/6457403.png",alt:"rat icon",className:e,style:{filter:"brightness(0) invert(1)"}});function P8({onMenuToggle:e}){const{permission:t,requestPermission:r,isSupported:n}=RB(),{user:a,logout:i}=Lt(),{theme:o,toggleTheme:c}=JC(),[l]=XA(),u=[{name:"Shopping",path:"/shopping"},{name:"Note",path:"/notes"},{name:"Calendario",path:"/calendar"},{name:"Spesa",path:"/shoppingfood"}],d=(a==null?void 0:a.username)==="Fabio"||(a==null?void 0:a.username)==="Ludovica",f=(a==null?void 0:a.role)==="admin",h=d?{icon:id,title:"TopiniTask",iconBgColor:"bg-burnt-sienna",iconTextColor:"text-white"}:{icon:ZP,title:"HomeTask",iconBgColor:"bg-burnt-sienna",iconBgStyle:{},iconTextColor:"text-white"},m=h.icon;return s.jsx("header",{className:"bg-card shadow-md border-b border-border sticky top-0 z-40 transition-colors duration-200",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ae,{variant:"ghost",size:"sm",className:"lg:hidden p-2 text-delft-blue hover:bg-muted",onClick:e,children:s.jsx(s5,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex items-center ml-2 lg:ml-0",children:[s.jsx("div",{className:"w-8 h-8 ".concat(h.iconBgColor," rounded-lg flex items-center justify-center mr-3 shadow-sm"),style:h.iconBgStyle,children:s.jsx(m,{className:"h-5 w-5 ".concat(h.iconTextColor)})}),s.jsx("h1",{className:"text-xl font-bold text-delft-blue",children:h.title}),d&&s.jsx("div",{className:"ml-2 px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 text-xs rounded-full font-medium",children:"🐭 topiiiiiiii"})]})]}),s.jsx("nav",{className:"hidden md:flex space-x-8",children:u.map(v=>s.jsx(Rs,{href:v.path,children:s.jsx("span",{className:"font-medium px-1 pb-4 border-b-2 transition-colors cursor-pointer block ".concat(l===v.path?"text-burnt-sienna border-burnt-sienna":"text-muted-foreground hover:text-delft-blue border-transparent hover:border-muted"),children:v.name})},v.name))}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"hidden md:block",children:s.jsx(Uw,{variant:"default"})}),s.jsx("div",{className:"hidden sm:block md:hidden",children:s.jsx(Uw,{variant:"compact"})}),s.jsxs(Lg,{children:[s.jsx(Fg,{asChild:!0,children:s.jsxs(ae,{variant:"ghost",className:"hidden sm:flex items-center space-x-2 ml-2 h-auto p-2 hover:bg-muted transition-colors rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 ".concat(d?"":"bg-cambridge-blue"," rounded-full flex items-center justify-center shadow-sm"),style:d?{backgroundColor:"rgb(37, 99, 235)"}:{},children:d?s.jsx(id,{className:"h-4 w-4 text-white"}):s.jsx(Aa,{className:"h-4 w-4 text-white"})}),s.jsx("span",{className:"text-sm font-medium text-delft-blue",children:a==null?void 0:a.username}),s.jsx(yi,{className:"h-3 w-3 text-muted-foreground"})]})}),s.jsxs(tf,{align:"end",className:"w-56",children:[s.jsxs(iE,{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-6 h-6 ".concat(d?"":"bg-cambridge-blue"," rounded-full flex items-center justify-center"),style:d?{backgroundColor:"rgb(37, 99, 235)"}:{},children:d?s.jsx(id,{className:"h-3 w-3 text-white"}):s.jsx(Aa,{className:"h-3 w-3 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:a==null?void 0:a.username}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(he,{variant:"outline",className:"px-1 py-0 text-xs",children:a==null?void 0:a.role}),d&&s.jsx("span",{children:"🐭"})]})]})]}),s.jsx(Bs,{}),s.jsxs(Lr,{onClick:c,className:"flex items-center cursor-pointer",children:[o==="light"?s.jsx(_g,{className:"mr-2 h-4 w-4"}):s.jsx(Cg,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:o==="light"?"Tema Scuro":"Tema Chiaro"})]}),n&&s.jsxs(Lr,{onClick:r,className:"flex items-center cursor-pointer",children:[t==="granted"?s.jsx(Ng,{className:"mr-2 h-4 w-4"}):s.jsx(vw,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:t==="granted"?"Notifiche Attive":"Attiva Notifiche"})]}),s.jsx(Bs,{}),s.jsx(Lr,{asChild:!0,children:s.jsxs(Rs,{href:"/settings",className:"flex items-center cursor-pointer",children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Impostazioni"})]})}),f&&s.jsx(Lr,{asChild:!0,children:s.jsxs(Rs,{href:"/admin/panel",className:"flex items-center cursor-pointer",children:[s.jsx(Xr,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Pannello amministratore"})]})}),s.jsx(Bs,{}),s.jsxs(Lr,{onClick:i,className:"flex items-center cursor-pointer text-destructive focus:text-destructive",children:[s.jsx(xw,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Esci"})]})]})]}),s.jsx("div",{className:"sm:hidden",children:s.jsxs(Lg,{children:[s.jsx(Fg,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"default",className:"w-12 h-12 rounded-full p-2 text-muted-foreground hover:text-delft-blue hover:bg-muted transition-colors",children:s.jsx("div",{className:"w-8 h-8 ".concat(d?"":"bg-cambridge-blue"," rounded-full flex items-center justify-center shadow-sm"),style:d?{backgroundColor:"rgb(37, 99, 235)"}:{},children:d?s.jsx(id,{className:"h-5 w-5 text-white"}):s.jsx(Aa,{className:"h-5 w-5 text-white"})})})}),s.jsxs(tf,{align:"end",className:"w-52",children:[s.jsx("div",{className:"p-3 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:a==null?void 0:a.username}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(he,{variant:"outline",className:"px-1 py-0 text-xs",children:a==null?void 0:a.role}),d&&s.jsx("span",{children:"🐭"})]})]}),s.jsx(_8,{})]})}),s.jsxs(Lr,{onClick:c,className:"flex items-center cursor-pointer",children:[o==="light"?s.jsx(_g,{className:"mr-2 h-4 w-4"}):s.jsx(Cg,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:o==="light"?"Tema Scuro":"Tema Chiaro"})]}),n&&s.jsxs(Lr,{onClick:r,className:"flex items-center cursor-pointer",children:[t==="granted"?s.jsx(Ng,{className:"mr-2 h-4 w-4"}):s.jsx(vw,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:t==="granted"?"Notifiche Attive":"Attiva Notifiche"})]}),s.jsx(Bs,{}),s.jsx(Lr,{asChild:!0,children:s.jsxs(Rs,{href:"/settings",className:"flex items-center cursor-pointer",children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Impostazioni"})]})}),f&&s.jsx(Lr,{asChild:!0,children:s.jsxs(Rs,{href:"/admin/panel",className:"flex items-center cursor-pointer",children:[s.jsx(Xr,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Pannello amministratore"})]})}),s.jsx(Bs,{}),s.jsxs(Lr,{onClick:i,className:"flex items-center cursor-pointer text-destructive focus:text-destructive",children:[s.jsx(xw,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Esci"})]})]})]})})]})]})})})}class af{constructor(t,r,n,a=new Date,i,o="#81B29A",c,l=0,u){this.id=t,this.name=r,this.createdBy=n,this.createdAt=a,this.description=i,this.color=o,this.icon=c,this.order=l,this.updatedAt=u}static fromFirestore(t){try{const r=n=>{if(!n)return new Date;if(n instanceof Date)return n;if(typeof n=="object"&&n.toDate)return n.toDate();const a=new Date(n);return isNaN(a.getTime())?new Date:a};return new af(t.id,t.name||"Categoria Senza Nome",t.createdBy||"Unknown",r(t.createdAt),t.description,t.color||"#81B29A",t.icon,t.order||0,t.updatedAt?r(t.updatedAt):void 0)}catch(r){return console.error("Error in CategoryFood.fromFirestore:",r,t),new af(t.id||"unknown",t.name||"Categoria Senza Nome",t.createdBy||"Unknown")}}toFirestore(){const t={name:this.name,createdBy:this.createdBy,createdAt:this.createdAt,description:this.description,color:this.color,icon:this.icon,order:this.order,updatedAt:new Date};return $a(t)}validate(){const t=[];return(!this.name||this.name.trim().length===0)&&t.push("Nome categoria è obbligatorio"),this.name&&this.name.length>50&&t.push("Nome categoria non può superare 50 caratteri"),(!this.createdBy||this.createdBy.trim().length===0)&&t.push("Campo createdBy è obbligatorio"),this.description&&this.description.length>200&&t.push("Descrizione non può superare 200 caratteri"),{isValid:t.length===0,errors:t}}}class sf{constructor(t,r,n,a=new Date,i,o,c,l,u,d="#E07A5F",f=!0,h){this.id=t,this.name=r,this.createdBy=n,this.createdAt=a,this.address=i,this.city=o,this.phone=c,this.website=l,this.notes=u,this.color=d,this.isActive=f,this.updatedAt=h}static fromFirestore(t){try{const r=n=>{if(!n)return new Date;if(n instanceof Date)return n;if(typeof n=="object"&&n.toDate)return n.toDate();const a=new Date(n);return isNaN(a.getTime())?new Date:a};return new sf(t.id,t.name||"Supermercato Senza Nome",t.createdBy||"Unknown",r(t.createdAt),t.address,t.city,t.phone,t.website,t.notes,t.color||"#E07A5F",t.isActive!==void 0?t.isActive:!0,t.updatedAt?r(t.updatedAt):void 0)}catch(r){return console.error("Error in Supermarket.fromFirestore:",r,t),new sf(t.id||"unknown",t.name||"Supermercato Senza Nome",t.createdBy||"Unknown")}}toFirestore(){const t={name:this.name,createdBy:this.createdBy,createdAt:this.createdAt,address:this.address,city:this.city,phone:this.phone,website:this.website,notes:this.notes,color:this.color,isActive:this.isActive,updatedAt:new Date};return $a(t)}validate(){const t=[];return(!this.name||this.name.trim().length===0)&&t.push("Nome supermercato è obbligatorio"),this.name&&this.name.length>100&&t.push("Nome supermercato non può superare 100 caratteri"),(!this.createdBy||this.createdBy.trim().length===0)&&t.push("Campo createdBy è obbligatorio"),this.website&&!this.website.startsWith("http")&&t.push("Website deve iniziare con http:// o https://"),{isValid:t.length===0,errors:t}}}class of{constructor(t,r,n=[],a,i=new Date,o,c=!1,l=!1,u,d,f,h,m=[],v,p){this.id=t,this.title=r,this.items=n,this.createdBy=a,this.createdAt=i,this.supermarketId=o,this.isPublic=c,this.isCompleted=l,this.completedAt=u,this.notes=d,this.estimatedTotal=f,this.actualTotal=h,this.sharedWith=m,this.updatedAt=v,this.isDeleted=p}static fromFirestore(t){try{const r=a=>{if(!a)return new Date;if(a instanceof Date)return a;if(typeof a=="object"&&a.toDate)return a.toDate();const i=new Date(a);return isNaN(i.getTime())?new Date:i},n=a=>{let i=[];if(Array.isArray(a))i=a;else if(a&&typeof a=="object")i=Object.values(a);else return[];return i.map((o,c)=>({id:o.id||"item_".concat(c,"_").concat(Date.now()),text:o.text||"",completed:!!o.completed,category:o.category||"Altro",assignedAutomatically:!!o.assignedAutomatically,createdAt:r(o.createdAt),completedAt:o.completedAt?r(o.completedAt):void 0,completedBy:o.completedBy,isDeleted:o.isDeleted}))};return new of(t.id,t.title||"Spesa del ".concat(new Date().toLocaleDateString("it-IT")),n(t.items),t.createdBy||"Unknown",r(t.createdAt),t.supermarketId,t.isPublic||!1,t.isCompleted||!1,t.completedAt?r(t.completedAt):void 0,t.notes,t.estimatedTotal,t.actualTotal,t.sharedWith||[],t.updatedAt?r(t.updatedAt):void 0,t.isDeleted||!1)}catch(r){return console.error("Error in ShoppingFood.fromFirestore:",r,t),new of(t.id||"unknown",t.title||"Spesa del ".concat(new Date().toLocaleDateString("it-IT")),[],t.createdBy||"Unknown")}}toFirestore(){const t={title:this.title,items:this.items,createdBy:this.createdBy,createdAt:this.createdAt,supermarketId:this.supermarketId,isPublic:this.isPublic,isCompleted:this.isCompleted,completedAt:this.completedAt,notes:this.notes,estimatedTotal:this.estimatedTotal,actualTotal:this.actualTotal,sharedWith:this.sharedWith,updatedAt:new Date,isDeleted:this.isDeleted};return $a(t)}addItem(t,r="Altro",n=!1){const a=t.trim().charAt(0).toUpperCase()+t.trim().slice(1).toLowerCase(),i={id:"item_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),text:a,completed:!1,category:r,assignedAutomatically:n,createdAt:new Date,completedAt:void 0,completedBy:void 0};return this.items.push(i),this.updatedAt=new Date,i}removeItem(t){const r=this.items.length;return this.items=this.items.filter(n=>n.id!==t),this.items.length<r?(this.updatedAt=new Date,!0):!1}toggleItemCompleted(t,r){const n=this.items.find(a=>a.id===t);return n?(n.completed=!n.completed,n.completedAt=n.completed?new Date:void 0,n.completedBy=n.completed?r:void 0,this.updatedAt=new Date,!0):!1}updateItemText(t,r){const n=this.items.find(i=>i.id===t);if(!n)return!1;const a=r.trim().charAt(0).toUpperCase()+r.trim().slice(1).toLowerCase();return n.text=a,this.updatedAt=new Date,!0}updateItemCategory(t,r){const n=this.items.find(a=>a.id===t);return n?(n.category=r,this.updatedAt=new Date,!0):!1}getItemsByCategory(){const t=new Map;return this.items.forEach(r=>{const n=r.category||"Altro";t.has(n)||t.set(n,[]),t.get(n).push(r)}),t}getCompletionStats(){const t=this.items.length,r=this.items.filter(n=>n.completed).length;return{completed:r,total:t,percentage:t>0?Math.round(r/t*100):0}}areAllItemsCompleted(){return this.items.length>0&&this.items.every(t=>t.completed)}toggleAllItemsCompleted(t,r){this.items.forEach(n=>{n.completed=t,n.completedAt=t?new Date:void 0,n.completedBy=t?r:void 0}),this.isCompleted=t,this.completedAt=t?new Date:void 0,this.updatedAt=new Date}getCategoryStats(){const t=new Map;return this.items.forEach(r=>{const n=r.category||"Altro";t.set(n,(t.get(n)||0)+1)}),t}getItemsByCompletionStatus(t){return this.items.filter(r=>r.completed===t)}searchItems(t){const r=t.toLowerCase().trim();return r?this.items.filter(n=>n.text.toLowerCase().includes(r)||n.category&&n.category.toLowerCase().includes(r)):this.items}sortItemsByDate(t=!1){return[...this.items].sort((r,n)=>{const a=r.createdAt.getTime(),i=n.createdAt.getTime();return t?a-i:i-a})}duplicateItem(t){const r=this.items.find(n=>n.id===t);return r?this.addItem("".concat(r.text," (copia)"),r.category,r.assignedAutomatically):null}moveItemToCategory(t,r){return this.updateItemCategory(t,r)}addMultipleItems(t,r="Altro"){const n=t.split("\n").map(i=>i.trim()).filter(i=>i.length>0),a=[];return n.forEach(i=>{const o=this.addItem(i,r);a.push(o)}),a}getSummary(){const t=this.getCompletionStats(),r=this.getCategoryStats().size;return'Lista "'.concat(this.title,'": ').concat(t.completed,"/").concat(t.total," completati (").concat(t.percentage,"%) in ").concat(r," categorie")}clearCompletedItems(){const t=this.items.filter(r=>r.completed);return this.items=this.items.filter(r=>!r.completed),this.updatedAt=new Date,t}getItemsCount(){const t=this.items.length,r=this.items.filter(a=>a.completed).length,n=t-r;return{total:t,completed:r,pending:n}}getItemsSortedByCategoryAndDate(){const t=this.getItemsByCategory();for(const[r,n]of t.entries())t.set(r,n.sort((a,i)=>new Date(i.createdAt).getTime()-new Date(a.createdAt).getTime()));return t}hasItemWithText(t){return this.items.some(r=>r.text.toLowerCase().trim()===t.toLowerCase().trim())}updateTitle(t){this.title=t.trim(),this.updatedAt=new Date}updateNotes(t){this.notes=t.trim()||void 0,this.updatedAt=new Date}setSupermarket(t){this.supermarketId=t,this.updatedAt=new Date}togglePublic(){this.isPublic=!this.isPublic,this.updatedAt=new Date}validate(){const t=[];return(!this.title||this.title.trim().length===0)&&t.push("Titolo lista spesa è obbligatorio"),(!this.createdBy||this.createdBy.trim().length===0)&&t.push("Campo createdBy è obbligatorio"),this.estimatedTotal!==void 0&&this.estimatedTotal<0&&t.push("Total stimato non può essere negativo"),this.actualTotal!==void 0&&this.actualTotal<0&&t.push("Total effettivo non può essere negativo"),this.items.forEach((r,n)=>{(!r.text||r.text.trim().length===0)&&t.push("Item ".concat(n+1,": testo è obbligatorio"))}),{isValid:t.length===0,errors:t}}}function ur(e,t){const[r,n]=y.useState([]),[a,i]=y.useState(!0),[o,c]=y.useState(null),{user:l}=AP();return y.useEffect(()=>{if(!l){n([]),i(!1);return}{c("Firebase not configured"),i(!1);return}},[e,l]),{data:r,loading:a,error:o,add:g=>G(this,null,function*(){throw l?new Error("Firebase not configured"):new Error("User not authenticated")}),update:(g,b)=>G(this,null,function*(){throw new Error("Firebase not configured")}),remove:g=>G(this,null,function*(){throw new Error("Firebase not configured")}),getByUser:g=>{var b=r.filter(x=>x.createdBy===g||x.isPublic===!0||(l==null?void 0:l.role)==="admin");return b},getById:g=>r.find(b=>b.id===g),getByCategory:g=>r.filter(b=>b.category===g),search:(g,b=["name","title"])=>{const x=g.toLowerCase();return r.filter(j=>b.some(N=>{var w,S;return(S=(w=j[N])==null?void 0:w.toLowerCase)==null?void 0:S.call(w).includes(x)}))}}}function Le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ur(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function wr(e,t){const r=Le(e);return isNaN(t)?Ur(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function tn(e,t){const r=Le(e);if(isNaN(t))return Ur(e,NaN);if(!t)return r;const n=r.getDate(),a=Ur(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const yx=6048e5,C8=864e5,sd=43200,Ww=1440;let O8={};function uc(){return O8}function rn(e,t){var c,l,u,d,f,h,m,v;const r=uc(),n=(v=(m=(d=(u=t==null?void 0:t.weekStartsOn)!=null?u:(l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)!=null?d:r.weekStartsOn)!=null?m:(h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?v:0,a=Le(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function fs(e){return rn(e,{weekStartsOn:1})}function yE(e){const t=Le(e),r=t.getFullYear(),n=Ur(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=fs(n),i=Ur(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=fs(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function _o(e){const t=Le(e);return t.setHours(0,0,0,0),t}function Po(e){const t=Le(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Xn(e,t){const r=_o(e),n=_o(t),a=+r-Po(r),i=+n-Po(n);return Math.round((a-i)/C8)}function E8(e){const t=yE(e),r=Ur(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),fs(r)}function Bg(e,t){const r=t*7;return wr(e,r)}function k8(e,t){return tn(e,t*12)}function T8(e){let t;return e.forEach(function(r){const n=Le(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function D8(e){let t;return e.forEach(r=>{const n=Le(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Pd(e,t){const r=Le(e),n=Le(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function xE(e){return Ur(e,Date.now())}function dr(e,t){const r=_o(e),n=_o(t);return+r==+n}function xx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ku(e){if(!xx(e)&&typeof e!="number")return!1;const t=Le(e);return!isNaN(Number(t))}function Co(e,t){const r=Le(e),n=Le(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function M8(e,t,r){const n=rn(e,r),a=rn(t,r),i=+n-Po(n),o=+a-Po(a);return Math.round((i-o)/yx)}function I8(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function $8(e,t){return+Le(e)-+Le(t)}function R8(e){const t=Le(e);return t.setHours(23,59,59,999),t}function Tu(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function L8(e){const t=Le(e);return+R8(t)==+Tu(t)}function F8(e,t){const r=Le(e),n=Le(t),a=Pd(r,n),i=Math.abs(Co(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let c=Pd(r,n)===-a;L8(Le(e))&&i===1&&Pd(e,n)===1&&(c=!1),o=a*(i-Number(c))}return o===0?0:o}function B8(e,t,r){const n=$8(e,t)/1e3;return I8(r==null?void 0:r.roundingMethod)(n)}function Dr(e){const t=Le(e);return t.setDate(1),t.setHours(0,0,0,0),t}function bE(e){const t=Le(e),r=Ur(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Yh(e,t){var c,l,u,d,f,h,m,v;const r=uc(),n=(v=(m=(d=(u=t==null?void 0:t.weekStartsOn)!=null?u:(l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)!=null?d:r.weekStartsOn)!=null?m:(h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)!=null?v:0,a=Le(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function wE(e){return Yh(e,{weekStartsOn:1})}const z8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U8=(e,t,r)=>{let n;const a=z8[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Js(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const W8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},H8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q8={date:Js({formats:W8,defaultWidth:"full"}),time:Js({formats:V8,defaultWidth:"full"}),dateTime:Js({formats:H8,defaultWidth:"full"})},K8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},G8=(e,t,r,n)=>K8[e];function qn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):o;a=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Y8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},X8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Z8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},J8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},rU={ordinalNumber:tU,era:qn({values:Y8,defaultWidth:"wide"}),quarter:qn({values:X8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qn({values:Z8,defaultWidth:"wide"}),day:qn({values:Q8,defaultWidth:"wide"}),dayPeriod:qn({values:J8,defaultWidth:"wide",formattingValues:eU,defaultFormattingWidth:"wide"})};function Kn(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?aU(c,f=>f.test(o)):nU(c,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function nU(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function aU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function jE(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const iU=/^(\d+)(th|st|nd|rd)?/i,sU=/\d+/i,oU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cU={any:[/^b/i,/^(a|c)/i]},lU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uU={any:[/1/i,/2/i,/3/i,/4/i]},dU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vU={ordinalNumber:jE({matchPattern:iU,parsePattern:sU,valueCallback:e=>parseInt(e,10)}),era:Kn({matchPatterns:oU,defaultMatchWidth:"wide",parsePatterns:cU,defaultParseWidth:"any"}),quarter:Kn({matchPatterns:lU,defaultMatchWidth:"wide",parsePatterns:uU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kn({matchPatterns:dU,defaultMatchWidth:"wide",parsePatterns:fU,defaultParseWidth:"any"}),day:Kn({matchPatterns:hU,defaultMatchWidth:"wide",parsePatterns:mU,defaultParseWidth:"any"}),dayPeriod:Kn({matchPatterns:pU,defaultMatchWidth:"any",parsePatterns:gU,defaultParseWidth:"any"})},bx={code:"en-US",formatDistance:U8,formatLong:q8,formatRelative:G8,localize:rU,match:vU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yU(e){const t=Le(e);return Xn(t,bE(t))+1}function NE(e){const t=Le(e),r=+fs(t)-+E8(t);return Math.round(r/yx)+1}function SE(e,t){var d,f,h,m,v,p,g,b;const r=Le(e),n=r.getFullYear(),a=uc(),i=(b=(g=(m=(h=t==null?void 0:t.firstWeekContainsDate)!=null?h:(f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)!=null?m:a.firstWeekContainsDate)!=null?g:(p=(v=a.locale)==null?void 0:v.options)==null?void 0:p.firstWeekContainsDate)!=null?b:1,o=Ur(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=rn(o,t),l=Ur(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=rn(l,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function xU(e,t){var c,l,u,d,f,h,m,v;const r=uc(),n=(v=(m=(d=(u=t==null?void 0:t.firstWeekContainsDate)!=null?u:(l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)!=null?d:r.firstWeekContainsDate)!=null?m:(h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)!=null?v:1,a=SE(e,t),i=Ur(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),rn(i,t)}function AE(e,t){const r=Le(e),n=+rn(r,t)-+xU(r,t);return Math.round(n/yx)+1}function ht(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Va={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ht(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ht(r+1,2)},d(e,t){return ht(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ht(e.getHours()%12||12,t.length)},H(e,t){return ht(e.getHours(),t.length)},m(e,t){return ht(e.getMinutes(),t.length)},s(e,t){return ht(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ht(a,t.length)}},Ts={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Va.y(e,t)},Y:function(e,t,r,n){const a=SE(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ht(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ht(i,t.length)},R:function(e,t){const r=yE(e);return ht(r,t.length)},u:function(e,t){const r=e.getFullYear();return ht(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ht(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ht(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Va.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ht(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=AE(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ht(a,t.length)},I:function(e,t,r){const n=NE(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ht(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Va.d(e,t)},D:function(e,t,r){const n=yU(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ht(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ht(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ht(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ht(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ts.noon:n===0?a=Ts.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ts.evening:n>=12?a=Ts.afternoon:n>=4?a=Ts.morning:a=Ts.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Va.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Va.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Va.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Va.s(e,t)},S:function(e,t){return Va.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return qw(n);case"XXXX":case"XX":return Di(n);case"XXXXX":case"XXX":default:return Di(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qw(n);case"xxxx":case"xx":return Di(n);case"xxxxx":case"xxx":default:return Di(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Hw(n,":");case"OOOO":default:return"GMT"+Di(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Hw(n,":");case"zzzz":default:return"GMT"+Di(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ht(n,t.length)},T:function(e,t,r){const n=e.getTime();return ht(n,t.length)}};function Hw(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ht(i,2)}function qw(e,t){return e%60===0?(e>0?"-":"+")+ht(Math.abs(e)/60,2):Di(e,t)}function Di(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ht(Math.trunc(n/60),2),i=ht(n%60,2);return r+a+t+i}const Kw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_E=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},bU=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Kw(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Kw(n,t)).replace("{{time}}",_E(a,t))},wU={p:_E,P:bU},jU=/^D+$/,NU=/^Y+$/,SU=["D","DD","YY","YYYY"];function AU(e){return jU.test(e)}function _U(e){return NU.test(e)}function PU(e,t,r){const n=CU(e,t,r);if(console.warn(n),SU.includes(e))throw new RangeError(n)}function CU(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(n," to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}const OU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kU=/^'([^]*?)'?$/,TU=/''/g,DU=/[a-zA-Z]/;function jt(e,t,r){var d,f,h,m,v,p,g,b,x,j,N,w,S,P,k,T,E,_;const n=uc(),a=(f=(d=r==null?void 0:r.locale)!=null?d:n.locale)!=null?f:bx,i=(j=(x=(p=(v=r==null?void 0:r.firstWeekContainsDate)!=null?v:(m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)!=null?p:n.firstWeekContainsDate)!=null?x:(b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)!=null?j:1,o=(_=(E=(P=(S=r==null?void 0:r.weekStartsOn)!=null?S:(w=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:w.weekStartsOn)!=null?P:n.weekStartsOn)!=null?E:(T=(k=n.locale)==null?void 0:k.options)==null?void 0:T.weekStartsOn)!=null?_:0,c=Le(e);if(!ku(c))throw new RangeError("Invalid time value");let l=t.match(EU).map(O=>{const C=O[0];if(C==="p"||C==="P"){const R=wU[C];return R(O,a.formatLong)}return O}).join("").match(OU).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const C=O[0];if(C==="'")return{isToken:!1,value:MU(O)};if(Vw[C])return{isToken:!0,value:O};if(C.match(DU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:O}});a.localize.preprocessor&&(l=a.localize.preprocessor(c,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(O=>{if(!O.isToken)return O.value;const C=O.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&_U(C)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&AU(C))&&PU(C,t,String(e));const R=Vw[C[0]];return R(c,C,a.localize,u)}).join("")}function MU(e){const t=e.match(kU);return t?t[1].replace(TU,"'"):e}function IU(e,t,r){var v,p;const n=uc(),a=(p=(v=r==null?void 0:r.locale)!=null?v:n.locale)!=null?p:bx,i=2520,o=Pd(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let l,u;o>0?(l=Le(t),u=Le(e)):(l=Le(e),u=Le(t));const d=B8(u,l),f=(Po(u)-Po(l))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,c):d<10?a.formatDistance("lessThanXSeconds",10,c):d<20?a.formatDistance("lessThanXSeconds",20,c):d<40?a.formatDistance("halfAMinute",0,c):d<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):h===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",h,c);if(h<45)return a.formatDistance("xMinutes",h,c);if(h<90)return a.formatDistance("aboutXHours",1,c);if(h<Ww){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,c)}else{if(h<i)return a.formatDistance("xDays",1,c);if(h<sd){const g=Math.round(h/Ww);return a.formatDistance("xDays",g,c)}else if(h<sd*2)return m=Math.round(h/sd),a.formatDistance("aboutXMonths",m,c)}if(m=F8(u,l),m<12){const g=Math.round(h/sd);return a.formatDistance("xMonths",g,c)}else{const g=m%12,b=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",b,c):g<9?a.formatDistance("overXYears",b,c):a.formatDistance("almostXYears",b+1,c)}}function hs(e,t){return IU(e,xE(e),t)}function Gw(e){return Le(e).getDay()}function $U(e){const t=Le(e),r=t.getFullYear(),n=t.getMonth(),a=Ur(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function RU(e){return Math.trunc(+Le(e)/1e3)}function LU(e){const t=Le(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function FU(e,t){return M8(LU(e),Dr(e),t)+1}function cf(e,t){const r=Le(e),n=Le(t);return r.getTime()>n.getTime()}function PE(e,t){const r=Le(e),n=Le(t);return+r<+n}function Yw(e,t,r){const n=rn(e,r),a=rn(t,r);return+n==+a}function Xh(e,t){const r=Le(e),n=Le(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function BU(e,t){const r=Le(e),n=Le(t);return r.getFullYear()===n.getFullYear()}function zU(e){return dr(e,xE(e))}function _p(e,t){return wr(e,-t)}function Pp(e,t){const r=Le(e),n=r.getFullYear(),a=r.getDate(),i=Ur(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=$U(i);return r.setMonth(t,Math.min(a,o)),r}function Xw(e,t){const r=Le(e);return isNaN(+r)?Ur(e,NaN):(r.setFullYear(t),r)}function UU(e,t){return tn(e,-1)}var CE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zw=M.createContext&&M.createContext(CE),WU=["attr","size","title"];function VU(e,t){if(e==null)return{};var r=HU(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){qU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qU(e,t,r){return t=KU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OE(e){return e&&e.map((t,r)=>M.createElement(t.tag,uf({key:r},t.attr),OE(t.child)))}function Zh(e){return t=>M.createElement(YU,lf({attr:uf({},e.attr)},t),OE(e.child))}function YU(e){var t=r=>{var{attr:n,size:a,title:i}=e,o=VU(e,WU),c=a||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),M.createElement("svg",lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:uf(uf({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&M.createElement("title",null,i),e.children)};return Zw!==void 0?M.createElement(Zw.Consumer,null,r=>t(r)):t(CE)}function EE(e){return Zh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function kE(e){return Zh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(e)}function TE(e){return Zh({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(e)}function DE(e){return Zh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l224 0 0-112c0-26.5 21.5-48 48-48l112 0 0-224c0-35.3-28.7-64-64-64L64 32zM448 352l-45.3 0L336 352c-8.8 0-16 7.2-16 16l0 66.7 0 45.3 32-32 64-64 32-32z"},child:[]}]})(e)}function XU({isOpen:e,onClose:t}){const[r]=XA(),{user:n}=Lt(),{data:a}=ur("shopping_items"),{data:i}=ur("notes"),{data:o}=ur("calendar_events"),{data:c}=ur("shopping_food"),l=y.useMemo(()=>{const d=new Date,f=a.filter(N=>N.isPublic||N.createdBy===(n==null?void 0:n.username)||(n==null?void 0:n.role)==="admin"),m=c.filter(N=>N.isPublic||N.createdBy===(n==null?void 0:n.username)||(n==null?void 0:n.role)==="admin").length,v=i.filter(N=>N.isPublic||N.createdBy===(n==null?void 0:n.username)||(n==null?void 0:n.role)==="admin"),p=o.filter(N=>N.isPublic||N.createdBy===(n==null?void 0:n.username)||(n==null?void 0:n.role)==="admin"),g=f.filter(N=>!N.completed).length,b=f.filter(N=>N.completed&&N.completedAt&&dr(N.completedAt,d)).length,x=v.length,j=p.filter(N=>cf(N.startDate,d)).length;return{shopping:g,notes:x,calendar:j,completedToday:b,upcomingEvents:j,shoppingFood:m}},[a,i,o,n]),u=[{name:"Shopping",path:"/shopping",icon:kE,count:l.shopping,color:"bg-burnt-sienna"},{name:"Note",path:"/notes",icon:DE,count:l.notes,color:"bg-cambridge-blue"},{name:"Spesa",path:"/shoppingfood",icon:TE,count:l.shoppingFood,color:"bg-sunset"},{name:"Calendario",path:"/calendar",icon:EE,count:l.calendar,color:"bg-sunset"}];return s.jsxs(s.Fragment,{children:[e&&s.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 lg:hidden",onClick:t}),s.jsx("aside",{className:ne("fixed inset-y-0 left-0 z-30 w-64 bg-card border-r border-border shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:w-64",e?"translate-x-0":"-translate-x-full"),children:s.jsxs("div",{className:"flex flex-col h-full pt-16 lg:pt-0",children:[s.jsx("div",{className:"hidden lg:block px-6 py-4 border-b border-border",children:s.jsx("h2",{className:"text-lg font-semibold text-card-foreground",children:"Menu"})}),s.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:[u.map(d=>{const f=d.icon,h=r===d.path;return s.jsx(Rs,{href:d.path,children:s.jsxs("div",{className:ne("group flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 cursor-pointer",h?"bg-burnt-sienna/10 text-burnt-sienna border border-burnt-sienna/20":"text-muted-foreground hover:bg-muted hover:text-card-foreground border border-transparent"),onClick:()=>window.innerWidth<1024&&t(),children:[s.jsx(f,{className:ne("mr-3 h-5 w-5 transition-colors",h?"text-burnt-sienna":"text-muted-foreground group-hover:text-card-foreground")}),s.jsx("span",{className:"flex-1",children:d.name}),d.count>0&&s.jsx("span",{className:ne("text-xs px-2 py-1 rounded-full font-medium transition-colors",h?"bg-burnt-sienna text-white":"bg-muted text-muted-foreground group-hover:bg-muted-foreground/10"),children:d.count})]})},d.name)}),s.jsx("div",{className:"border-t border-border my-4"}),s.jsxs("a",{href:"https://fabiodagostino.github.io/TripTaste/#/",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 cursor-pointer text-muted-foreground hover:bg-muted hover:text-card-foreground border border-transparent",onClick:()=>window.innerWidth<1024&&t(),children:[s.jsx(bl,{className:"mr-3 h-5 w-5 transition-colors text-muted-foreground group-hover:text-card-foreground"}),s.jsx("span",{className:"flex-1",children:"TripTaste"}),s.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-medium transition-colors bg-muted text-muted-foreground group-hover:bg-muted-foreground/10",children:"🌍"})]})]}),s.jsx("div",{className:"px-4 py-4 border-t border-border mt-auto",children:s.jsxs("div",{className:"bg-cambridge-blue/10 dark:bg-cambridge-blue/20 rounded-lg p-4 border border-cambridge-blue/20",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(Or,{className:"h-4 w-4 text-cambridge-blue mr-2"}),s.jsx("h3",{className:"text-sm font-semibold text-card-foreground",children:"Statistiche Rapide"})]}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Archiviati Oggi"}),s.jsx("span",{className:"font-medium text-cambridge-blue bg-cambridge-blue/10 px-2 py-1 rounded-full",children:l.completedToday})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Eventi Prossimi"}),s.jsx("span",{className:"font-medium text-sunset bg-sunset/10 px-2 py-1 rounded-full",children:l.upcomingEvents})]})]})]})})]})})]})}function ZU({children:e}){const[t,r]=y.useState(!1);return s.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[s.jsx(P8,{onMenuToggle:()=>r(!t)}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx(XU,{isOpen:t,onClose:()=>r(!1)}),s.jsx("main",{className:"flex-1 overflow-auto bg-background",children:e})]})]})}var Qh="Switch",[QU,wxe]=nn(Qh),[JU,eW]=QU(Qh),ME=y.forwardRef((e,t)=>{const j=e,{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:l="on",onCheckedChange:u,form:d}=j,f=W(j,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[h,m]=y.useState(null),v=Xe(t,N=>m(N)),p=y.useRef(!1),g=h?d||!!h.closest("form"):!0,[b,x]=pi({prop:a,defaultProp:i!=null?i:!1,onChange:u,caller:Qh});return s.jsxs(JU,{scope:r,checked:b,disabled:c,children:[s.jsx($e.button,D(A({type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":LE(b),"data-disabled":c?"":void 0,disabled:c,value:l},f),{ref:v,onClick:pe(e.onClick,N=>{x(w=>!w),g&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})})),g&&s.jsx(RE,{control:h,bubbles:!p.current,name:n,value:l,checked:b,required:o,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});ME.displayName=Qh;var IE="SwitchThumb",$E=y.forwardRef((e,t)=>{const i=e,{__scopeSwitch:r}=i,n=W(i,["__scopeSwitch"]),a=eW(IE,r);return s.jsx($e.span,D(A({"data-state":LE(a.checked),"data-disabled":a.disabled?"":void 0},n),{ref:t}))});$E.displayName=IE;var tW="SwitchBubbleInput",RE=y.forwardRef((o,i)=>{var c=o,{__scopeSwitch:e,control:t,checked:r,bubbles:n=!0}=c,a=W(c,["__scopeSwitch","control","checked","bubbles"]);const l=y.useRef(null),u=Xe(l,i),d=oC(r),f=A_(t);return y.useEffect(()=>{const h=l.current;if(!h)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==r&&p){const g=new Event("click",{bubbles:n});p.call(h,r),h.dispatchEvent(g)}},[d,r,n]),s.jsx("input",D(A({type:"checkbox","aria-hidden":!0,defaultChecked:r},a),{tabIndex:-1,ref:u,style:D(A(A({},a.style),f),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))});RE.displayName=tW;function LE(e){return e?"checked":"unchecked"}var FE=ME,rW=$E;const Nr=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(FE,D(A({className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e)},t),{ref:r,children:s.jsx(rW,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}))});Nr.displayName=FE.displayName;const nW={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"più di un anno",other:"più di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},aW=(e,t,r)=>{let n;const a=nW[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},iW={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},sW={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},oW={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},cW={date:Js({formats:iW,defaultWidth:"full"}),time:Js({formats:sW,defaultWidth:"full"}),dateTime:Js({formats:oW,defaultWidth:"full"})},wx=["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"];function lW(e){switch(e){case 0:return"'domenica scorsa alle' p";default:return"'"+wx[e]+" scorso alle' p"}}function Jw(e){return"'"+wx[e]+" alle' p"}function uW(e){switch(e){case 0:return"'domenica prossima alle' p";default:return"'"+wx[e]+" prossimo alle' p"}}const dW={lastWeek:(e,t,r)=>{const n=e.getDay();return Yw(e,t,r)?Jw(n):lW(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,r)=>{const n=e.getDay();return Yw(e,t,r)?Jw(n):uW(n)},other:"P"},fW=(e,t,r,n)=>{const a=dW[e];return typeof a=="function"?a(t,r,n):a},hW={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},mW={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},pW={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},gW={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"]},vW={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},yW={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},xW=(e,t)=>{const r=Number(e);return String(r)},bW={ordinalNumber:xW,era:qn({values:hW,defaultWidth:"wide"}),quarter:qn({values:mW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qn({values:pW,defaultWidth:"wide"}),day:qn({values:gW,defaultWidth:"wide"}),dayPeriod:qn({values:vW,defaultWidth:"wide",formattingValues:yW,defaultFormattingWidth:"wide"})},wW=/^(\d+)(º)?/i,jW=/\d+/i,NW={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},SW={any:[/^a/i,/^(d|e)/i]},AW={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](º)? trimestre/i},_W={any:[/1/i,/2/i,/3/i,/4/i]},PW={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},CW={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},OW={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|ì]|marted[i|ì]|mercoled[i|ì]|gioved[i|ì]|venerd[i|ì]|sabato)/i},EW={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},kW={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},TW={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},DW={ordinalNumber:jE({matchPattern:wW,parsePattern:jW,valueCallback:e=>parseInt(e,10)}),era:Kn({matchPatterns:NW,defaultMatchWidth:"wide",parsePatterns:SW,defaultParseWidth:"any"}),quarter:Kn({matchPatterns:AW,defaultMatchWidth:"wide",parsePatterns:_W,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kn({matchPatterns:PW,defaultMatchWidth:"wide",parsePatterns:CW,defaultParseWidth:"any"}),day:Kn({matchPatterns:OW,defaultMatchWidth:"wide",parsePatterns:EW,defaultParseWidth:"any"}),dayPeriod:Kn({matchPatterns:kW,defaultMatchWidth:"any",parsePatterns:TW,defaultParseWidth:"any"})},Gt={code:"it",formatDistance:aW,formatLong:cW,formatRelative:fW,localize:bW,match:DW,options:{weekStartsOn:1,firstWeekContainsDate:4}};var Jh="Dialog",[BE,zE]=nn(Jh),[MW,Fn]=BE(Jh),UE=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,c=y.useRef(null),l=y.useRef(null),[u,d]=pi({prop:n,defaultProp:a!=null?a:!1,onChange:i,caller:Jh});return s.jsx(MW,{scope:t,triggerRef:c,contentRef:l,contentId:Mn(),titleId:Mn(),descriptionId:Mn(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};UE.displayName=Jh;var WE="DialogTrigger",VE=y.forwardRef((e,t)=>{const o=e,{__scopeDialog:r}=o,n=W(o,["__scopeDialog"]),a=Fn(WE,r),i=Xe(t,a.triggerRef);return s.jsx($e.button,D(A({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Sx(a.open)},n),{ref:i,onClick:pe(e.onClick,a.onOpenToggle)}))});VE.displayName=WE;var jx="DialogPortal",[IW,HE]=BE(jx,{forceMount:void 0}),qE=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Fn(jx,t);return s.jsx(IW,{scope:t,forceMount:r,children:y.Children.map(n,o=>s.jsx(Mr,{present:r||i.open,children:s.jsx(ju,{asChild:!0,container:a,children:o})}))})};qE.displayName=jx;var df="DialogOverlay",KE=y.forwardRef((e,t)=>{const r=HE(df,e.__scopeDialog),o=e,{forceMount:n=r.forceMount}=o,a=W(o,["forceMount"]),i=Fn(df,e.__scopeDialog);return i.modal?s.jsx(Mr,{present:n||i.open,children:s.jsx(RW,D(A({},a),{ref:t}))}):null});KE.displayName=df;var $W=fi("DialogOverlay.RemoveScroll"),RW=y.forwardRef((e,t)=>{const i=e,{__scopeDialog:r}=i,n=W(i,["__scopeDialog"]),a=Fn(df,r);return s.jsx(_u,{as:$W,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx($e.div,D(A({"data-state":Sx(a.open)},n),{ref:t,style:A({pointerEvents:"auto"},n.style)}))})}),ms="DialogContent",GE=y.forwardRef((e,t)=>{const r=HE(ms,e.__scopeDialog),o=e,{forceMount:n=r.forceMount}=o,a=W(o,["forceMount"]),i=Fn(ms,e.__scopeDialog);return s.jsx(Mr,{present:n||i.open,children:i.modal?s.jsx(LW,D(A({},a),{ref:t})):s.jsx(FW,D(A({},a),{ref:t}))})});GE.displayName=ms;var LW=y.forwardRef((e,t)=>{const r=Fn(ms,e.__scopeDialog),n=y.useRef(null),a=Xe(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return Bh(i)},[]),s.jsx(YE,D(A({},e),{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,i=>i.preventDefault())}))}),FW=y.forwardRef((e,t)=>{const r=Fn(ms,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(YE,D(A({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),YE=y.forwardRef((e,t)=>{const d=e,{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i}=d,o=W(d,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),c=Fn(ms,r),l=y.useRef(null),u=Xe(t,l);return Fh(),s.jsxs(s.Fragment,{children:[s.jsx(Au,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(nc,D(A({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Sx(c.open)},o),{ref:u,onDismiss:()=>c.onOpenChange(!1)}))}),s.jsxs(s.Fragment,{children:[s.jsx(zW,{titleId:c.titleId}),s.jsx(WW,{contentRef:l,descriptionId:c.descriptionId})]})]})}),Nx="DialogTitle",XE=y.forwardRef((e,t)=>{const i=e,{__scopeDialog:r}=i,n=W(i,["__scopeDialog"]),a=Fn(Nx,r);return s.jsx($e.h2,D(A({id:a.titleId},n),{ref:t}))});XE.displayName=Nx;var ZE="DialogDescription",QE=y.forwardRef((e,t)=>{const i=e,{__scopeDialog:r}=i,n=W(i,["__scopeDialog"]),a=Fn(ZE,r);return s.jsx($e.p,D(A({id:a.descriptionId},n),{ref:t}))});QE.displayName=ZE;var JE="DialogClose",ek=y.forwardRef((e,t)=>{const i=e,{__scopeDialog:r}=i,n=W(i,["__scopeDialog"]),a=Fn(JE,r);return s.jsx($e.button,D(A({type:"button"},n),{ref:t,onClick:pe(e.onClick,()=>a.onOpenChange(!1))}))});ek.displayName=JE;function Sx(e){return e?"open":"closed"}var tk="DialogTitleWarning",[BW,rk]=S$(tk,{contentName:ms,titleName:Nx,docsSlug:"dialog"}),zW=({titleId:e})=>{const t=rk(tk),r="`".concat(t.contentName,"` requires a `").concat(t.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(t.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(t.docsSlug);return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},UW="DialogDescriptionWarning",WW=({contentRef:e,descriptionId:t})=>{const r=rk(UW),n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},nk=UE,ak=VE,ik=qE,Ax=KE,_x=GE,Px=XE,Cx=QE,Ox=ek,sk="AlertDialog",[VW,jxe]=nn(sk,[zE]),Ra=zE(),ok=e=>{const a=e,{__scopeAlertDialog:t}=a,r=W(a,["__scopeAlertDialog"]),n=Ra(t);return s.jsx(nk,D(A(A({},n),r),{modal:!0}))};ok.displayName=sk;var HW="AlertDialogTrigger",ck=y.forwardRef((e,t)=>{const i=e,{__scopeAlertDialog:r}=i,n=W(i,["__scopeAlertDialog"]),a=Ra(r);return s.jsx(ak,D(A(A({},a),n),{ref:t}))});ck.displayName=HW;var qW="AlertDialogPortal",lk=e=>{const a=e,{__scopeAlertDialog:t}=a,r=W(a,["__scopeAlertDialog"]),n=Ra(t);return s.jsx(ik,A(A({},n),r))};lk.displayName=qW;var KW="AlertDialogOverlay",uk=y.forwardRef((e,t)=>{const i=e,{__scopeAlertDialog:r}=i,n=W(i,["__scopeAlertDialog"]),a=Ra(r);return s.jsx(Ax,D(A(A({},a),n),{ref:t}))});uk.displayName=KW;var eo="AlertDialogContent",[GW,YW]=VW(eo),XW=u_("AlertDialogContent"),dk=y.forwardRef((e,t)=>{const u=e,{__scopeAlertDialog:r,children:n}=u,a=W(u,["__scopeAlertDialog","children"]),i=Ra(r),o=y.useRef(null),c=Xe(t,o),l=y.useRef(null);return s.jsx(BW,{contentName:eo,titleName:fk,docsSlug:"alert-dialog",children:s.jsx(GW,{scope:r,cancelRef:l,children:s.jsxs(_x,D(A(A({role:"alertdialog"},i),a),{ref:c,onOpenAutoFocus:pe(a.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=l.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(XW,{children:n}),s.jsx(QW,{contentRef:o})]}))})})});dk.displayName=eo;var fk="AlertDialogTitle",hk=y.forwardRef((e,t)=>{const i=e,{__scopeAlertDialog:r}=i,n=W(i,["__scopeAlertDialog"]),a=Ra(r);return s.jsx(Px,D(A(A({},a),n),{ref:t}))});hk.displayName=fk;var mk="AlertDialogDescription",pk=y.forwardRef((e,t)=>{const i=e,{__scopeAlertDialog:r}=i,n=W(i,["__scopeAlertDialog"]),a=Ra(r);return s.jsx(Cx,D(A(A({},a),n),{ref:t}))});pk.displayName=mk;var ZW="AlertDialogAction",gk=y.forwardRef((e,t)=>{const i=e,{__scopeAlertDialog:r}=i,n=W(i,["__scopeAlertDialog"]),a=Ra(r);return s.jsx(Ox,D(A(A({},a),n),{ref:t}))});gk.displayName=ZW;var vk="AlertDialogCancel",yk=y.forwardRef((e,t)=>{const c=e,{__scopeAlertDialog:r}=c,n=W(c,["__scopeAlertDialog"]),{cancelRef:a}=YW(vk,r),i=Ra(r),o=Xe(t,a);return s.jsx(Ox,D(A(A({},i),n),{ref:o}))});yk.displayName=vk;var QW=({contentRef:e})=>{const t="`".concat(eo,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(eo,"` by passing a `").concat(mk,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(eo,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},JW=ok,e9=ck,t9=lk,xk=uk,bk=dk,wk=gk,jk=yk,Nk=hk,Sk=pk;const Du=JW,em=e9,r9=t9,Ak=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(xk,D(A({className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e)},t),{ref:r}))});Ak.displayName=xk.displayName;const dc=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsxs(r9,{children:[s.jsx(Ak,{}),s.jsx(bk,A({ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e)},t))]})});dc.displayName=bk.displayName;const fc=r=>{var n=r,{className:e}=n,t=W(n,["className"]);return s.jsx("div",A({className:ne("flex flex-col space-y-2 text-center sm:text-left",e)},t))};fc.displayName="AlertDialogHeader";const hc=r=>{var n=r,{className:e}=n,t=W(n,["className"]);return s.jsx("div",A({className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e)},t))};hc.displayName="AlertDialogFooter";const mc=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(Nk,A({ref:r,className:ne("text-lg font-semibold",e)},t))});mc.displayName=Nk.displayName;const pc=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(Sk,A({ref:r,className:ne("text-sm text-muted-foreground",e)},t))});pc.displayName=Sk.displayName;const gc=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(wk,A({ref:r,className:ne(_l(),e)},t))});gc.displayName=wk.displayName;const vc=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(jk,A({ref:r,className:ne(_l({variant:"outline"}),"mt-2 sm:mt-0",e)},t))});vc.displayName=jk.displayName;const cr=nk,n9=ak,a9=ik,_k=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(Ax,A({ref:r,className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e)},t))});_k.displayName=Ax.displayName;const tr=y.forwardRef((a,n)=>{var i=a,{className:e,children:t}=i,r=W(i,["className","children"]);return s.jsxs(a9,{children:[s.jsx(_k,{}),s.jsxs(_x,D(A({ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e)},r),{children:[t,s.jsx(Ox,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:s.jsx("span",{className:"sr-only",children:"Close"})})]}))]})});tr.displayName=_x.displayName;const rr=r=>{var n=r,{className:e}=n,t=W(n,["className"]);return s.jsx("div",A({className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e)},t))};rr.displayName="DialogHeader";const nr=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(Px,A({ref:r,className:ne("text-lg font-semibold leading-none tracking-tight",e)},t))});nr.displayName=Px.displayName;const Tl=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx(Cx,A({ref:r,className:ne("text-sm text-muted-foreground",e)},t))});Tl.displayName=Cx.displayName;var i9=Array.isArray,Wr=i9,s9=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Pk=s9,o9=Pk,c9=typeof self=="object"&&self&&self.Object===Object&&self,l9=o9||c9||Function("return this")(),la=l9,u9=la,d9=u9.Symbol,Mu=d9,ej=Mu,Ck=Object.prototype,f9=Ck.hasOwnProperty,h9=Ck.toString,Bc=ej?ej.toStringTag:void 0;function m9(e){var t=f9.call(e,Bc),r=e[Bc];try{e[Bc]=void 0;var n=!0}catch(i){}var a=h9.call(e);return n&&(t?e[Bc]=r:delete e[Bc]),a}var p9=m9,g9=Object.prototype,v9=g9.toString;function y9(e){return v9.call(e)}var x9=y9,tj=Mu,b9=p9,w9=x9,j9="[object Null]",N9="[object Undefined]",rj=tj?tj.toStringTag:void 0;function S9(e){return e==null?e===void 0?N9:j9:rj&&rj in Object(e)?b9(e):w9(e)}var La=S9;function A9(e){return e!=null&&typeof e=="object"}var Fa=A9,_9=La,P9=Fa,C9="[object Symbol]";function O9(e){return typeof e=="symbol"||P9(e)&&_9(e)==C9}var yc=O9,E9=Wr,k9=yc,T9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,D9=/^\w*$/;function M9(e,t){if(E9(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||k9(e)?!0:D9.test(e)||!T9.test(e)||t!=null&&e in Object(t)}var Ex=M9;function I9(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Si=I9;const xc=gt(Si);var $9=La,R9=Si,L9="[object AsyncFunction]",F9="[object Function]",B9="[object GeneratorFunction]",z9="[object Proxy]";function U9(e){if(!R9(e))return!1;var t=$9(e);return t==F9||t==B9||t==L9||t==z9}var kx=U9;const De=gt(kx);var W9=la,V9=W9["__core-js_shared__"],H9=V9,Cp=H9,nj=function(){var e=/[^.]+$/.exec(Cp&&Cp.keys&&Cp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function q9(e){return!!nj&&nj in e}var K9=q9,G9=Function.prototype,Y9=G9.toString;function X9(e){if(e!=null){try{return Y9.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Ok=X9,Z9=kx,Q9=K9,J9=Si,eV=Ok,tV=/[\\^$.*+?()[\]{}|]/g,rV=/^\[object .+?Constructor\]$/,nV=Function.prototype,aV=Object.prototype,iV=nV.toString,sV=aV.hasOwnProperty,oV=RegExp("^"+iV.call(sV).replace(tV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cV(e){if(!J9(e)||Q9(e))return!1;var t=Z9(e)?oV:rV;return t.test(eV(e))}var lV=cV;function uV(e,t){return e==null?void 0:e[t]}var dV=uV,fV=lV,hV=dV;function mV(e,t){var r=hV(e,t);return fV(r)?r:void 0}var Ns=mV,pV=Ns,gV=pV(Object,"create"),tm=gV,aj=tm;function vV(){this.__data__=aj?aj(null):{},this.size=0}var yV=vV;function xV(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bV=xV,wV=tm,jV="__lodash_hash_undefined__",NV=Object.prototype,SV=NV.hasOwnProperty;function AV(e){var t=this.__data__;if(wV){var r=t[e];return r===jV?void 0:r}return SV.call(t,e)?t[e]:void 0}var _V=AV,PV=tm,CV=Object.prototype,OV=CV.hasOwnProperty;function EV(e){var t=this.__data__;return PV?t[e]!==void 0:OV.call(t,e)}var kV=EV,TV=tm,DV="__lodash_hash_undefined__";function MV(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=TV&&t===void 0?DV:t,this}var IV=MV,$V=yV,RV=bV,LV=_V,FV=kV,BV=IV;function bc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bc.prototype.clear=$V;bc.prototype.delete=RV;bc.prototype.get=LV;bc.prototype.has=FV;bc.prototype.set=BV;var zV=bc;function UV(){this.__data__=[],this.size=0}var WV=UV;function VV(e,t){return e===t||e!==e&&t!==t}var Tx=VV,HV=Tx;function qV(e,t){for(var r=e.length;r--;)if(HV(e[r][0],t))return r;return-1}var rm=qV,KV=rm,GV=Array.prototype,YV=GV.splice;function XV(e){var t=this.__data__,r=KV(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():YV.call(t,r,1),--this.size,!0}var ZV=XV,QV=rm;function JV(e){var t=this.__data__,r=QV(t,e);return r<0?void 0:t[r][1]}var e7=JV,t7=rm;function r7(e){return t7(this.__data__,e)>-1}var n7=r7,a7=rm;function i7(e,t){var r=this.__data__,n=a7(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var s7=i7,o7=WV,c7=ZV,l7=e7,u7=n7,d7=s7;function wc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wc.prototype.clear=o7;wc.prototype.delete=c7;wc.prototype.get=l7;wc.prototype.has=u7;wc.prototype.set=d7;var nm=wc,f7=Ns,h7=la,m7=f7(h7,"Map"),Dx=m7,ij=zV,p7=nm,g7=Dx;function v7(){this.size=0,this.__data__={hash:new ij,map:new(g7||p7),string:new ij}}var y7=v7;function x7(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var b7=x7,w7=b7;function j7(e,t){var r=e.__data__;return w7(t)?r[typeof t=="string"?"string":"hash"]:r.map}var am=j7,N7=am;function S7(e){var t=N7(this,e).delete(e);return this.size-=t?1:0,t}var A7=S7,_7=am;function P7(e){return _7(this,e).get(e)}var C7=P7,O7=am;function E7(e){return O7(this,e).has(e)}var k7=E7,T7=am;function D7(e,t){var r=T7(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var M7=D7,I7=y7,$7=A7,R7=C7,L7=k7,F7=M7;function jc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jc.prototype.clear=I7;jc.prototype.delete=$7;jc.prototype.get=R7;jc.prototype.has=L7;jc.prototype.set=F7;var Mx=jc,Ek=Mx,B7="Expected a function";function Ix(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(B7);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Ix.Cache||Ek),r}Ix.Cache=Ek;var kk=Ix;const z7=gt(kk);var U7=kk,W7=500;function V7(e){var t=U7(e,function(n){return r.size===W7&&r.clear(),n}),r=t.cache;return t}var H7=V7,q7=H7,K7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G7=/\\(\\)?/g,Y7=q7(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(K7,function(r,n,a,i){t.push(a?i.replace(G7,"$1"):n||r)}),t}),X7=Y7;function Z7(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var $x=Z7,sj=Mu,Q7=$x,J7=Wr,eH=yc,oj=sj?sj.prototype:void 0,cj=oj?oj.toString:void 0;function Tk(e){if(typeof e=="string")return e;if(J7(e))return Q7(e,Tk)+"";if(eH(e))return cj?cj.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var tH=Tk,rH=tH;function nH(e){return e==null?"":rH(e)}var Dk=nH,aH=Wr,iH=Ex,sH=X7,oH=Dk;function cH(e,t){return aH(e)?e:iH(e,t)?[e]:sH(oH(e))}var Mk=cH,lH=yc;function uH(e){if(typeof e=="string"||lH(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var im=uH,dH=Mk,fH=im;function hH(e,t){t=dH(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[fH(t[r++])];return r&&r==n?e:void 0}var Rx=hH,mH=Rx;function pH(e,t,r){var n=e==null?void 0:mH(e,t);return n===void 0?r:n}var Ik=pH;const Jr=gt(Ik);function gH(e){return e==null}var vH=gH;const qe=gt(vH);var yH=La,xH=Wr,bH=Fa,wH="[object String]";function jH(e){return typeof e=="string"||!xH(e)&&bH(e)&&yH(e)==wH}var NH=jH;const ps=gt(NH);var $k={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=Symbol.for("react.element"),Fx=Symbol.for("react.portal"),sm=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),lm=Symbol.for("react.provider"),um=Symbol.for("react.context"),SH=Symbol.for("react.server_context"),dm=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),mm=Symbol.for("react.memo"),pm=Symbol.for("react.lazy"),AH=Symbol.for("react.offscreen"),Rk;Rk=Symbol.for("react.module.reference");function bn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Lx:switch(e=e.type,e){case sm:case cm:case om:case fm:case hm:return e;default:switch(e=e&&e.$$typeof,e){case SH:case um:case dm:case pm:case mm:case lm:return e;default:return t}}case Fx:return t}}}mt.ContextConsumer=um;mt.ContextProvider=lm;mt.Element=Lx;mt.ForwardRef=dm;mt.Fragment=sm;mt.Lazy=pm;mt.Memo=mm;mt.Portal=Fx;mt.Profiler=cm;mt.StrictMode=om;mt.Suspense=fm;mt.SuspenseList=hm;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(e){return bn(e)===um};mt.isContextProvider=function(e){return bn(e)===lm};mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lx};mt.isForwardRef=function(e){return bn(e)===dm};mt.isFragment=function(e){return bn(e)===sm};mt.isLazy=function(e){return bn(e)===pm};mt.isMemo=function(e){return bn(e)===mm};mt.isPortal=function(e){return bn(e)===Fx};mt.isProfiler=function(e){return bn(e)===cm};mt.isStrictMode=function(e){return bn(e)===om};mt.isSuspense=function(e){return bn(e)===fm};mt.isSuspenseList=function(e){return bn(e)===hm};mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sm||e===cm||e===om||e===fm||e===hm||e===AH||typeof e=="object"&&e!==null&&(e.$$typeof===pm||e.$$typeof===mm||e.$$typeof===lm||e.$$typeof===um||e.$$typeof===dm||e.$$typeof===Rk||e.getModuleId!==void 0)};mt.typeOf=bn;$k.exports=mt;var _H=$k.exports,PH=La,CH=Fa,OH="[object Number]";function EH(e){return typeof e=="number"||CH(e)&&PH(e)==OH}var Lk=EH;const kH=gt(Lk);var TH=Lk;function DH(e){return TH(e)&&e!=+e}var MH=DH;const Nc=gt(MH);var Er=function(t){return t===0?0:t>0?1:-1},Ui=function(t){return ps(t)&&t.indexOf("%")===t.length-1},oe=function(t){return kH(t)&&!Nc(t)},IH=function(t){return qe(t)},ir=function(t){return oe(t)||ps(t)},$H=0,Sc=function(t){var r=++$H;return"".concat(t||"").concat(r)},kr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(t)&&!ps(t))return n;var i;if(Ui(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Nc(i)&&(i=n),a&&i>r&&(i=r),i},Ja=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},RH=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Fr=function(t,r){return oe(t)&&oe(r)?function(n){return t+n*(r-t)}:function(){return r}};function ff(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Jr(n,t))===r})}var LH=function(t,r){return oe(t)&&oe(r)?t-r:ps(t)&&ps(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function to(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}var FH=["viewBox","children"],BH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lj=["points","pathLength"],Op={svg:FH,polygon:lj,polyline:lj},Bx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!xc(n))return null;var a={};return Object.keys(n).forEach(function(i){Bx.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},zH=function(t,r,n){return function(a){return t(r,n,a),null}},gs=function(t,r,n){if(!xc(t)||zg(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Bx.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=zH(o,r,n))}),a},UH=["children"],WH=["children"];function uj(e,t){if(e==null)return{};var r=VH(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}var dj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_a=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},fj=null,Ep=null,zx=function e(t){if(t===fj&&Array.isArray(Ep))return Ep;var r=[];return y.Children.forEach(t,function(n){qe(n)||(_H.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ep=r,fj=t,r};function pn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return _a(a)}):n=[_a(t)],zx(e).forEach(function(a){var i=Jr(a,"type.displayName")||Jr(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function qr(e,t){var r=pn(e,t);return r&&r[0]}var hj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!oe(n)||n<=0||!oe(a)||a<=0)},HH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qH=function(t){return t&&t.type&&ps(t.type)&&HH.indexOf(t.type)>=0},KH=function(t){return t&&Ug(t)==="object"&&"clipDot"in t},GH=function(t,r,n,a){var i,o=(i=Op==null?void 0:Op[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!De(t)&&(a&&o.includes(r)||BH.includes(r))||n&&Bx.includes(r)},Ee=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!xc(a))return null;var i={};return Object.keys(a).forEach(function(o){var c;GH((c=a)===null||c===void 0?void 0:c[o],o,r,n)&&(i[o]=a[o])}),i},Wg=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return mj(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!mj(i,o))return!1}return!0},mj=function(t,r){if(qe(t)&&qe(r))return!0;if(!qe(t)&&!qe(r)){var n=t.props||{},a=n.children,i=uj(n,UH),o=r.props||{},c=o.children,l=uj(o,WH);return a&&c?to(i,l)&&Wg(a,c):!a&&!c?to(i,l):!1}return!1},pj=function(t,r){var n=[],a={};return zx(t).forEach(function(i,o){if(qH(i))n.push(i);else if(i){var c=_a(i.type),l=r[c]||{},u=l.handler,d=l.once;if(u&&(!d||!a[c])){var f=u(i,c,o);n.push(f),a[c]=!0}}}),n},YH=function(t){var r=t&&t.type;return r&&dj[r]?dj[r]:null},XH=function(t,r){return zx(r).indexOf(t)},ZH=["children","width","height","viewBox","className","style","title","desc"];function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function QH(e,t){if(e==null)return{};var r=JH(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hg(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,c=e.title,l=e.desc,u=QH(e,ZH),d=a||{width:r,height:n,x:0,y:0},f=He("recharts-surface",i);return M.createElement("svg",Vg({},Ee(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,c),M.createElement("desc",null,l),t)}var eq=["children","className"];function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function tq(e,t){if(e==null)return{};var r=rq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var et=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=tq(e,eq),i=He("recharts-layer",n);return M.createElement("g",qg({className:i},Ee(a,!0),{ref:t}),r)}),In=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function nq(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var aq=nq,iq=aq;function sq(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:iq(e,t,r)}var oq=sq,cq="\\ud800-\\udfff",lq="\\u0300-\\u036f",uq="\\ufe20-\\ufe2f",dq="\\u20d0-\\u20ff",fq=lq+uq+dq,hq="\\ufe0e\\ufe0f",mq="\\u200d",pq=RegExp("["+mq+cq+fq+hq+"]");function gq(e){return pq.test(e)}var Fk=gq;function vq(e){return e.split("")}var yq=vq,Bk="\\ud800-\\udfff",xq="\\u0300-\\u036f",bq="\\ufe20-\\ufe2f",wq="\\u20d0-\\u20ff",jq=xq+bq+wq,Nq="\\ufe0e\\ufe0f",Sq="["+Bk+"]",Kg="["+jq+"]",Gg="\\ud83c[\\udffb-\\udfff]",Aq="(?:"+Kg+"|"+Gg+")",zk="[^"+Bk+"]",Uk="(?:\\ud83c[\\udde6-\\uddff]){2}",Wk="[\\ud800-\\udbff][\\udc00-\\udfff]",_q="\\u200d",Vk=Aq+"?",Hk="["+Nq+"]?",Pq="(?:"+_q+"(?:"+[zk,Uk,Wk].join("|")+")"+Hk+Vk+")*",Cq=Hk+Vk+Pq,Oq="(?:"+[zk+Kg+"?",Kg,Uk,Wk,Sq].join("|")+")",Eq=RegExp(Gg+"(?="+Gg+")|"+Oq+Cq,"g");function kq(e){return e.match(Eq)||[]}var Tq=kq,Dq=yq,Mq=Fk,Iq=Tq;function $q(e){return Mq(e)?Iq(e):Dq(e)}var Rq=$q,Lq=oq,Fq=Fk,Bq=Rq,zq=Dk;function Uq(e){return function(t){t=zq(t);var r=Fq(t)?Bq(t):void 0,n=r?r[0]:t.charAt(0),a=r?Lq(r,1).join(""):t.slice(1);return n[e]()+a}}var Wq=Uq,Vq=Wq,Hq=Vq("toUpperCase"),qq=Hq;const gm=gt(qq);function wt(e){return function(){return e}}const qk=Math.cos,mf=Math.sin,Bn=Math.sqrt,pf=Math.PI,vm=2*pf,Yg=Math.PI,Xg=2*Yg,Mi=1e-6,Kq=Xg-Mi;function Kk(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Gq(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Kk;const r=Ku(10,t);return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}var xA,bA,wA,jA,NA,SA,AA,_A,PA,CA,OA,EA,kA,TA;class Yq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Kk:Gq(t)}moveTo(t,r){this._append(xA||(xA=Ar(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+r)}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append(bA||(bA=Ar(["Z"]))))}lineTo(t,r){this._append(wA||(wA=Ar(["L",",",""])),this._x1=+t,this._y1=+r)}quadraticCurveTo(t,r,n,a){this._append(jA||(jA=Ar(["Q",",",",",",",""])),+t,+r,this._x1=+n,this._y1=+a)}bezierCurveTo(t,r,n,a,i,o){this._append(NA||(NA=Ar(["C",",",",",",",",",",",""])),+t,+r,+n,+a,this._x1=+i,this._y1=+o)}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error("negative radius: ".concat(i));let o=this._x1,c=this._y1,l=n-t,u=a-r,d=o-t,f=c-r,h=d*d+f*f;if(this._x1===null)this._append(SA||(SA=Ar(["M",",",""])),this._x1=t,this._y1=r);else if(h>Mi)if(!(Math.abs(f*l-u*d)>Mi)||!i)this._append(AA||(AA=Ar(["L",",",""])),this._x1=t,this._y1=r);else{let m=n-o,v=a-c,p=l*l+u*u,g=m*m+v*v,b=Math.sqrt(p),x=Math.sqrt(h),j=i*Math.tan((Yg-Math.acos((p+h-g)/(2*b*x)))/2),N=j/x,w=j/b;Math.abs(N-1)>Mi&&this._append(_A||(_A=Ar(["L",",",""])),t+N*d,r+N*f),this._append(PA||(PA=Ar(["A",",",",0,0,",",",",",""])),i,i,+(f*m>d*v),this._x1=t+w*l,this._y1=r+w*u)}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error("negative radius: ".concat(n));let c=n*Math.cos(a),l=n*Math.sin(a),u=t+c,d=r+l,f=1^o,h=o?a-i:i-a;this._x1===null?this._append(CA||(CA=Ar(["M",",",""])),u,d):(Math.abs(this._x1-u)>Mi||Math.abs(this._y1-d)>Mi)&&this._append(OA||(OA=Ar(["L",",",""])),u,d),n&&(h<0&&(h=h%Xg+Xg),h>Kq?this._append(EA||(EA=Ar(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,f,t-c,r-l,n,n,f,this._x1=u,this._y1=d):h>Mi&&this._append(kA||(kA=Ar(["A",",",",0,",",",",",",",""])),n,n,+(h>=Yg),f,this._x1=t+n*Math.cos(i),this._y1=r+n*Math.sin(i)))}rect(t,r,n,a){this._append(TA||(TA=Ar(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+r,n=+n,+a,-n)}toString(){return this._}}function Ux(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError("invalid digits: ".concat(r));t=n}return e},()=>new Yq(t)}function Wx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gk(e){this._context=e}Gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ym(e){return new Gk(e)}function Yk(e){return e[0]}function Xk(e){return e[1]}function Zk(e,t){var r=wt(!0),n=null,a=ym,i=null,o=Ux(c);e=typeof e=="function"?e:e===void 0?Yk:wt(e),t=typeof t=="function"?t:t===void 0?Xk:wt(t);function c(l){var u,d=(l=Wx(l)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,l),+t(f,u,l));if(m)return i=null,m+""||null}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:wt(+l),c):e},c.y=function(l){return arguments.length?(t=typeof l=="function"?l:wt(+l),c):t},c.defined=function(l){return arguments.length?(r=typeof l=="function"?l:wt(!!l),c):r},c.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),c):a},c.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),c):n},c}function od(e,t,r){var n=null,a=wt(!0),i=null,o=ym,c=null,l=Ux(u);e=typeof e=="function"?e:e===void 0?Yk:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Xk:wt(+r);function u(f){var h,m,v,p=(f=Wx(f)).length,g,b=!1,x,j=new Array(p),N=new Array(p);for(i==null&&(c=o(x=l())),h=0;h<=p;++h){if(!(h<p&&a(g=f[h],h,f))===b)if(b=!b)m=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=h-1;v>=m;--v)c.point(j[v],N[v]);c.lineEnd(),c.areaEnd()}b&&(j[h]=+e(g,h,f),N[h]=+t(g,h,f),c.point(n?+n(g,h,f):j[h],r?+r(g,h,f):N[h]))}if(x)return c=null,x+""||null}function d(){return Zk().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:wt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(c=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=c=null:c=o(i=f),u):i},u}class Qk{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Xq(e){return new Qk(e,!0)}function Zq(e){return new Qk(e,!1)}const Vx={draw(e,t){const r=Bn(t/pf);e.moveTo(r,0),e.arc(0,0,r,0,vm)}},Qq={draw(e,t){const r=Bn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Jk=Bn(1/3),Jq=Jk*2,eK={draw(e,t){const r=Bn(t/Jq),n=r*Jk;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},tK={draw(e,t){const r=Bn(t),n=-r/2;e.rect(n,n,r,r)}},rK=.8908130915292852,eT=mf(pf/10)/mf(7*pf/10),nK=mf(vm/10)*eT,aK=-qk(vm/10)*eT,iK={draw(e,t){const r=Bn(t*rK),n=nK*r,a=aK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=vm*i/5,c=qk(o),l=mf(o);e.lineTo(l*r,-c*r),e.lineTo(c*n-l*a,l*n+c*a)}e.closePath()}},kp=Bn(3),sK={draw(e,t){const r=-Bn(t/(kp*3));e.moveTo(0,r*2),e.lineTo(-kp*r,-r),e.lineTo(kp*r,-r),e.closePath()}},an=-.5,sn=Bn(3)/2,Zg=1/Bn(12),oK=(Zg/2+1)*3,cK={draw(e,t){const r=Bn(t/oK),n=r/2,a=r*Zg,i=n,o=r*Zg+r,c=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(c,l),e.lineTo(an*n-sn*a,sn*n+an*a),e.lineTo(an*i-sn*o,sn*i+an*o),e.lineTo(an*c-sn*l,sn*c+an*l),e.lineTo(an*n+sn*a,an*a-sn*n),e.lineTo(an*i+sn*o,an*o-sn*i),e.lineTo(an*c+sn*l,an*l-sn*c),e.closePath()}};function lK(e,t){let r=null,n=Ux(a);e=typeof e=="function"?e:wt(e||Vx),t=typeof t=="function"?t:wt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:wt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:wt(+i),a):t},a.context=function(i){return arguments.length?(r=i==null?null:i,a):r},a}function gf(){}function vf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function tT(e){this._context=e}tT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uK(e){return new tT(e)}function rT(e){this._context=e}rT.prototype={areaStart:gf,areaEnd:gf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dK(e){return new rT(e)}function nT(e){this._context=e}nT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fK(e){return new nT(e)}function aT(e){this._context=e}aT.prototype={areaStart:gf,areaEnd:gf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hK(e){return new aT(e)}function gj(e){return e<0?-1:1}function vj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),c=(i*a+o*n)/(n+a);return(gj(i)+gj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function yj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Tp(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,o-c*r,i,o)}function yf(e){this._context=e}yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tp(this,this._t0,yj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tp(this,yj(this,r=vj(this,e,t)),r);break;default:Tp(this,this._t0,r=vj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iT(e){this._context=new sT(e)}(iT.prototype=Object.create(yf.prototype)).point=function(e,t){yf.prototype.point.call(this,t,e)};function sT(e){this._context=e}sT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function mK(e){return new yf(e)}function pK(e){return new iT(e)}function oT(e){this._context=e}oT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=xj(e),a=xj(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function gK(e){return new oT(e)}function xm(e,t){this._context=e,this._t=t}xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function vK(e){return new xm(e,.5)}function yK(e){return new xm(e,0)}function xK(e){return new xm(e,1)}function Oo(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,c=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Qg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function bK(e,t){return e[t]}function wK(e){const t=[];return t.key=e,t}function jK(){var e=wt([]),t=Qg,r=Oo,n=bK;function a(i){var o=Array.from(e.apply(this,arguments),wK),c,l=o.length,u=-1,d;for(const f of i)for(c=0,++u;c<l;++c)(o[c][u]=[0,+n(f,o[c].key,u,i)]).data=f;for(c=0,d=Wx(t(o));c<l;++c)o[d[c]].index=c;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:wt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Qg:typeof i=="function"?i:wt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i==null?Oo:i,a):r},a}function NK(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Oo(e,t)}}function SK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,c=0;o<a;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Oo(e,t)}}function AK(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var c=0,l=0,u=0;c<o;++c){for(var d=e[t[c]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<c;++v){var p=e[t[v]],g=p[n][1]||0,b=p[n-1][1]||0;m+=g-b}l+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Oo(e,t)}}function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}var _K=["type","size","sizeType"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){PK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PK(e,t,r){return t=CK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=OK(e,"string");return Dl(t)=="symbol"?t:t+""}function OK(e,t){if(Dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EK(e,t){if(e==null)return{};var r=kK(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cT={symbolCircle:Vx,symbolCross:Qq,symbolDiamond:eK,symbolSquare:tK,symbolStar:iK,symbolTriangle:sK,symbolWye:cK},TK=Math.PI/180,DK=function(t){var r="symbol".concat(gm(t));return cT[r]||Vx},MK=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*TK;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},IK=function(t,r){cT["symbol".concat(gm(t))]=r},Hx=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,c=o===void 0?"area":o,l=EK(t,_K),u=wj(wj({},l),{},{type:n,size:i,sizeType:c}),d=function(){var g=DK(n),b=lK().type(g).size(MK(i,c,n));return b()},f=u.className,h=u.cx,m=u.cy,v=Ee(u,!0);return h===+h&&m===+m&&i===+i?M.createElement("path",Jg({},v,{className:He("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Hx.registerSymbol=IK;function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(this,arguments)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){Ml(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uT(n.key),n)}}function FK(e,t,r){return t&&LK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BK(e,t,r){return t=xf(t),zK(e,lT()?Reflect.construct(t,r||[],xf(e).constructor):t.apply(e,r))}function zK(e,t){if(t&&(Eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UK(e)}function UK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lT=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xf(e)}function WK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tv(e,t)}function tv(e,t){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tv(e,t)}function Ml(e,t,r){return t=uT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uT(e){var t=VK(e,"string");return Eo(t)=="symbol"?t:t+""}function VK(e,t){if(Eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var on=32,qx=function(e){function t(){return RK(this,t),BK(this,t,arguments)}return WK(t,e),FK(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=on/2,o=on/6,c=on/3,l=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:on,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(c,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,"\n            H").concat(on,"M").concat(2*c,",").concat(i,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(on/8,"h").concat(on,"v").concat(on*3/4,"h").concat(-on,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=$K({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(Hx,{fill:l,cx:i,cy:i,size:on,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,c=a.layout,l=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:on,height:on},f={display:c==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,v){var p=m.formatter||l,g=He(Ml(Ml({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=De(m.value)?null:m.value;In(!De(m.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var x=m.inactive?u:m.color;return M.createElement("li",ev({className:g,style:f,key:"legend-item-".concat(v)},gs(n.props,m,v)),M.createElement(Hg,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(b,m,v):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(y.PureComponent);Ml(qx,"displayName","Legend");Ml(qx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var HK=nm;function qK(){this.__data__=new HK,this.size=0}var KK=qK;function GK(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var YK=GK;function XK(e){return this.__data__.get(e)}var ZK=XK;function QK(e){return this.__data__.has(e)}var JK=QK,eG=nm,tG=Dx,rG=Mx,nG=200;function aG(e,t){var r=this.__data__;if(r instanceof eG){var n=r.__data__;if(!tG||n.length<nG-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rG(n)}return r.set(e,t),this.size=r.size,this}var iG=aG,sG=nm,oG=KK,cG=YK,lG=ZK,uG=JK,dG=iG;function Ac(e){var t=this.__data__=new sG(e);this.size=t.size}Ac.prototype.clear=oG;Ac.prototype.delete=cG;Ac.prototype.get=lG;Ac.prototype.has=uG;Ac.prototype.set=dG;var dT=Ac,fG="__lodash_hash_undefined__";function hG(e){return this.__data__.set(e,fG),this}var mG=hG;function pG(e){return this.__data__.has(e)}var gG=pG,vG=Mx,yG=mG,xG=gG;function bf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new vG;++t<r;)this.add(e[t])}bf.prototype.add=bf.prototype.push=yG;bf.prototype.has=xG;var fT=bf;function bG(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var hT=bG;function wG(e,t){return e.has(t)}var mT=wG,jG=fT,NG=hT,SG=mT,AG=1,_G=2;function PG(e,t,r,n,a,i){var o=r&AG,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&_G?new jG:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var v=e[f],p=t[f];if(n)var g=o?n(p,v,f,t,e,i):n(v,p,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!NG(t,function(b,x){if(!SG(m,x)&&(v===b||a(v,b,r,n,i)))return m.push(x)})){h=!1;break}}else if(!(v===p||a(v,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var pT=PG,CG=la,OG=CG.Uint8Array,EG=OG;function kG(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var TG=kG;function DG(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Kx=DG,Nj=Mu,Sj=EG,MG=Tx,IG=pT,$G=TG,RG=Kx,LG=1,FG=2,BG="[object Boolean]",zG="[object Date]",UG="[object Error]",WG="[object Map]",VG="[object Number]",HG="[object RegExp]",qG="[object Set]",KG="[object String]",GG="[object Symbol]",YG="[object ArrayBuffer]",XG="[object DataView]",Aj=Nj?Nj.prototype:void 0,Dp=Aj?Aj.valueOf:void 0;function ZG(e,t,r,n,a,i,o){switch(r){case XG:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YG:return!(e.byteLength!=t.byteLength||!i(new Sj(e),new Sj(t)));case BG:case zG:case VG:return MG(+e,+t);case UG:return e.name==t.name&&e.message==t.message;case HG:case KG:return e==t+"";case WG:var c=$G;case qG:var l=n&LG;if(c||(c=RG),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=FG,o.set(e,t);var d=IG(c(e),c(t),n,a,i,o);return o.delete(e),d;case GG:if(Dp)return Dp.call(e)==Dp.call(t)}return!1}var QG=ZG;function JG(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var gT=JG,eY=gT,tY=Wr;function rY(e,t,r){var n=t(e);return tY(e)?n:eY(n,r(e))}var nY=rY;function aY(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var iY=aY;function sY(){return[]}var oY=sY,cY=iY,lY=oY,uY=Object.prototype,dY=uY.propertyIsEnumerable,_j=Object.getOwnPropertySymbols,fY=_j?function(e){return e==null?[]:(e=Object(e),cY(_j(e),function(t){return dY.call(e,t)}))}:lY,hY=fY;function mY(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var pY=mY,gY=La,vY=Fa,yY="[object Arguments]";function xY(e){return vY(e)&&gY(e)==yY}var bY=xY,Pj=bY,wY=Fa,vT=Object.prototype,jY=vT.hasOwnProperty,NY=vT.propertyIsEnumerable,SY=Pj(function(){return arguments}())?Pj:function(e){return wY(e)&&jY.call(e,"callee")&&!NY.call(e,"callee")},Gx=SY,wf={exports:{}};function AY(){return!1}var _Y=AY;wf.exports;(function(e,t){var r=la,n=_Y,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(wf,wf.exports);var yT=wf.exports,PY=9007199254740991,CY=/^(?:0|[1-9]\d*)$/;function OY(e,t){var r=typeof e;return t=t==null?PY:t,!!t&&(r=="number"||r!="symbol"&&CY.test(e))&&e>-1&&e%1==0&&e<t}var Yx=OY,EY=9007199254740991;function kY(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=EY}var Xx=kY,TY=La,DY=Xx,MY=Fa,IY="[object Arguments]",$Y="[object Array]",RY="[object Boolean]",LY="[object Date]",FY="[object Error]",BY="[object Function]",zY="[object Map]",UY="[object Number]",WY="[object Object]",VY="[object RegExp]",HY="[object Set]",qY="[object String]",KY="[object WeakMap]",GY="[object ArrayBuffer]",YY="[object DataView]",XY="[object Float32Array]",ZY="[object Float64Array]",QY="[object Int8Array]",JY="[object Int16Array]",eX="[object Int32Array]",tX="[object Uint8Array]",rX="[object Uint8ClampedArray]",nX="[object Uint16Array]",aX="[object Uint32Array]",Ct={};Ct[XY]=Ct[ZY]=Ct[QY]=Ct[JY]=Ct[eX]=Ct[tX]=Ct[rX]=Ct[nX]=Ct[aX]=!0;Ct[IY]=Ct[$Y]=Ct[GY]=Ct[RY]=Ct[YY]=Ct[LY]=Ct[FY]=Ct[BY]=Ct[zY]=Ct[UY]=Ct[WY]=Ct[VY]=Ct[HY]=Ct[qY]=Ct[KY]=!1;function iX(e){return MY(e)&&DY(e.length)&&!!Ct[TY(e)]}var sX=iX;function oX(e){return function(t){return e(t)}}var xT=oX,jf={exports:{}};jf.exports;(function(e,t){var r=Pk,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,c=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch(u){}}();e.exports=c})(jf,jf.exports);var cX=jf.exports,lX=sX,uX=xT,Cj=cX,Oj=Cj&&Cj.isTypedArray,dX=Oj?uX(Oj):lX,bT=dX,fX=pY,hX=Gx,mX=Wr,pX=yT,gX=Yx,vX=bT,yX=Object.prototype,xX=yX.hasOwnProperty;function bX(e,t){var r=mX(e),n=!r&&hX(e),a=!r&&!n&&pX(e),i=!r&&!n&&!a&&vX(e),o=r||n||a||i,c=o?fX(e.length,String):[],l=c.length;for(var u in e)(t||xX.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gX(u,l)))&&c.push(u);return c}var wX=bX,jX=Object.prototype;function NX(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||jX;return e===r}var SX=NX;function AX(e,t){return function(r){return e(t(r))}}var wT=AX,_X=wT,PX=_X(Object.keys,Object),CX=PX,OX=SX,EX=CX,kX=Object.prototype,TX=kX.hasOwnProperty;function DX(e){if(!OX(e))return EX(e);var t=[];for(var r in Object(e))TX.call(e,r)&&r!="constructor"&&t.push(r);return t}var MX=DX,IX=kx,$X=Xx;function RX(e){return e!=null&&$X(e.length)&&!IX(e)}var Iu=RX,LX=wX,FX=MX,BX=Iu;function zX(e){return BX(e)?LX(e):FX(e)}var bm=zX,UX=nY,WX=hY,VX=bm;function HX(e){return UX(e,VX,WX)}var qX=HX,Ej=qX,KX=1,GX=Object.prototype,YX=GX.hasOwnProperty;function XX(e,t,r,n,a,i){var o=r&KX,c=Ej(e),l=c.length,u=Ej(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var h=c[f];if(!(o?h in t:YX.call(t,h)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<l;){h=c[f];var b=e[h],x=t[h];if(n)var j=o?n(x,b,h,t,e,i):n(b,x,h,e,t,i);if(!(j===void 0?b===x||a(b,x,r,n,i):j)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(p=!1)}return i.delete(e),i.delete(t),p}var ZX=XX,QX=Ns,JX=la,eZ=QX(JX,"DataView"),tZ=eZ,rZ=Ns,nZ=la,aZ=rZ(nZ,"Promise"),iZ=aZ,sZ=Ns,oZ=la,cZ=sZ(oZ,"Set"),jT=cZ,lZ=Ns,uZ=la,dZ=lZ(uZ,"WeakMap"),fZ=dZ,rv=tZ,nv=Dx,av=iZ,iv=jT,sv=fZ,NT=La,_c=Ok,kj="[object Map]",hZ="[object Object]",Tj="[object Promise]",Dj="[object Set]",Mj="[object WeakMap]",Ij="[object DataView]",mZ=_c(rv),pZ=_c(nv),gZ=_c(av),vZ=_c(iv),yZ=_c(sv),Ii=NT;(rv&&Ii(new rv(new ArrayBuffer(1)))!=Ij||nv&&Ii(new nv)!=kj||av&&Ii(av.resolve())!=Tj||iv&&Ii(new iv)!=Dj||sv&&Ii(new sv)!=Mj)&&(Ii=function(e){var t=NT(e),r=t==hZ?e.constructor:void 0,n=r?_c(r):"";if(n)switch(n){case mZ:return Ij;case pZ:return kj;case gZ:return Tj;case vZ:return Dj;case yZ:return Mj}return t});var xZ=Ii,Mp=dT,bZ=pT,wZ=QG,jZ=ZX,$j=xZ,Rj=Wr,Lj=yT,NZ=bT,SZ=1,Fj="[object Arguments]",Bj="[object Array]",cd="[object Object]",AZ=Object.prototype,zj=AZ.hasOwnProperty;function _Z(e,t,r,n,a,i){var o=Rj(e),c=Rj(t),l=o?Bj:$j(e),u=c?Bj:$j(t);l=l==Fj?cd:l,u=u==Fj?cd:u;var d=l==cd,f=u==cd,h=l==u;if(h&&Lj(e)){if(!Lj(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Mp),o||NZ(e)?bZ(e,t,r,n,a,i):wZ(e,t,l,r,n,a,i);if(!(r&SZ)){var m=d&&zj.call(e,"__wrapped__"),v=f&&zj.call(t,"__wrapped__");if(m||v){var p=m?e.value():e,g=v?t.value():t;return i||(i=new Mp),a(p,g,r,n,i)}}return h?(i||(i=new Mp),jZ(e,t,r,n,a,i)):!1}var PZ=_Z,CZ=PZ,Uj=Fa;function ST(e,t,r,n,a){return e===t?!0:e==null||t==null||!Uj(e)&&!Uj(t)?e!==e&&t!==t:CZ(e,t,r,n,ST,a)}var Zx=ST,OZ=dT,EZ=Zx,kZ=1,TZ=2;function DZ(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var c=r[a];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<i;){c=r[a];var l=c[0],u=e[l],d=c[1];if(o&&c[2]){if(u===void 0&&!(l in e))return!1}else{var f=new OZ;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?EZ(d,u,kZ|TZ,n,f):h))return!1}}return!0}var MZ=DZ,IZ=Si;function $Z(e){return e===e&&!IZ(e)}var AT=$Z,RZ=AT,LZ=bm;function FZ(e){for(var t=LZ(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,RZ(a)]}return t}var BZ=FZ;function zZ(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var _T=zZ,UZ=MZ,WZ=BZ,VZ=_T;function HZ(e){var t=WZ(e);return t.length==1&&t[0][2]?VZ(t[0][0],t[0][1]):function(r){return r===e||UZ(r,e,t)}}var qZ=HZ;function KZ(e,t){return e!=null&&t in Object(e)}var GZ=KZ,YZ=Mk,XZ=Gx,ZZ=Wr,QZ=Yx,JZ=Xx,eQ=im;function tQ(e,t,r){t=YZ(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=eQ(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&JZ(a)&&QZ(o,a)&&(ZZ(e)||XZ(e)))}var rQ=tQ,nQ=GZ,aQ=rQ;function iQ(e,t){return e!=null&&aQ(e,t,nQ)}var sQ=iQ,oQ=Zx,cQ=Ik,lQ=sQ,uQ=Ex,dQ=AT,fQ=_T,hQ=im,mQ=1,pQ=2;function gQ(e,t){return uQ(e)&&dQ(t)?fQ(hQ(e),t):function(r){var n=cQ(r,e);return n===void 0&&n===t?lQ(r,e):oQ(t,n,mQ|pQ)}}var vQ=gQ;function yQ(e){return e}var Pc=yQ;function xQ(e){return function(t){return t==null?void 0:t[e]}}var bQ=xQ,wQ=Rx;function jQ(e){return function(t){return wQ(t,e)}}var NQ=jQ,SQ=bQ,AQ=NQ,_Q=Ex,PQ=im;function CQ(e){return _Q(e)?SQ(PQ(e)):AQ(e)}var OQ=CQ,EQ=qZ,kQ=vQ,TQ=Pc,DQ=Wr,MQ=OQ;function IQ(e){return typeof e=="function"?e:e==null?TQ:typeof e=="object"?DQ(e)?kQ(e[0],e[1]):EQ(e):MQ(e)}var ua=IQ;function $Q(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var PT=$Q;function RQ(e){return e!==e}var LQ=RQ;function FQ(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var BQ=FQ,zQ=PT,UQ=LQ,WQ=BQ;function VQ(e,t,r){return t===t?WQ(e,t,r):zQ(e,UQ,r)}var HQ=VQ,qQ=HQ;function KQ(e,t){var r=e==null?0:e.length;return!!r&&qQ(e,t,0)>-1}var GQ=KQ;function YQ(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var XQ=YQ;function ZQ(){}var QQ=ZQ,Ip=jT,JQ=QQ,eJ=Kx,tJ=1/0,rJ=Ip&&1/eJ(new Ip([,-0]))[1]==tJ?function(e){return new Ip(e)}:JQ,nJ=rJ,aJ=fT,iJ=GQ,sJ=XQ,oJ=mT,cJ=nJ,lJ=Kx,uJ=200;function dJ(e,t,r){var n=-1,a=iJ,i=e.length,o=!0,c=[],l=c;if(r)o=!1,a=sJ;else if(i>=uJ){var u=t?null:cJ(e);if(u)return lJ(u);o=!1,a=oJ,l=new aJ}else l=t?[]:c;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),c.push(d)}else a(l,f,r)||(l!==c&&l.push(f),c.push(d))}return c}var fJ=dJ,hJ=ua,mJ=fJ;function pJ(e,t){return e&&e.length?mJ(e,hJ(t)):[]}var gJ=pJ;const Wj=gt(gJ);function CT(e,t,r){return t===!0?Wj(e,r):De(t)?Wj(e,t):e}function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}var vJ=["ref"];function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){wm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ET(n.key),n)}}function xJ(e,t,r){return t&&Hj(e.prototype,t),r&&Hj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bJ(e,t,r){return t=Nf(t),wJ(e,OT()?Reflect.construct(t,r||[],Nf(e).constructor):t.apply(e,r))}function wJ(e,t){if(t&&(ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jJ(e)}function jJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(OT=function(){return!!e})()}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}function NJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ov(e,t)}function ov(e,t){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ov(e,t)}function wm(e,t,r){return t=ET(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ET(e){var t=SJ(e,"string");return ko(t)=="symbol"?t:t+""}function SJ(e,t){if(ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function AJ(e,t){if(e==null)return{};var r=_J(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _J(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PJ(e){return e.value}function CJ(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=AJ(t,vJ);return M.createElement(qx,r)}var qj=1,es=function(e){function t(){var r;yJ(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=bJ(this,t,[].concat(a)),wm(r,"lastBoundingBox",{width:-1,height:-1}),r}return NJ(t,e),xJ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>qj||Math.abs(a.height-this.lastBoundingBox.height)>qj)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,c=a.verticalAlign,l=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return pa(pa({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,c=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=pa(pa({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},CJ(i,pa(pa({},this.props),{},{payload:CT(d,u,PJ)})))}}],[{key:"getWithHeight",value:function(n,a){var i=pa(pa({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&oe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);wm(es,"displayName","Legend");wm(es,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Kj=Mu,OJ=Gx,EJ=Wr,Gj=Kj?Kj.isConcatSpreadable:void 0;function kJ(e){return EJ(e)||OJ(e)||!!(Gj&&e&&e[Gj])}var TJ=kJ,DJ=gT,MJ=TJ;function kT(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=MJ),a||(a=[]);++i<o;){var c=e[i];t>0&&r(c)?t>1?kT(c,t-1,r,n,a):DJ(a,c):n||(a[a.length]=c)}return a}var TT=kT;function IJ(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),c=o.length;c--;){var l=o[e?c:++a];if(r(i[l],l,i)===!1)break}return t}}var $J=IJ,RJ=$J,LJ=RJ(),FJ=LJ,BJ=FJ,zJ=bm;function UJ(e,t){return e&&BJ(e,t,zJ)}var DT=UJ,WJ=Iu;function VJ(e,t){return function(r,n){if(r==null)return r;if(!WJ(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var HJ=VJ,qJ=DT,KJ=HJ,GJ=KJ(qJ),Qx=GJ,YJ=Qx,XJ=Iu;function ZJ(e,t){var r=-1,n=XJ(e)?Array(e.length):[];return YJ(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var MT=ZJ;function QJ(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var JJ=QJ,Yj=yc;function eee(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Yj(e),o=t!==void 0,c=t===null,l=t===t,u=Yj(t);if(!c&&!u&&!i&&e>t||i&&o&&l&&!c&&!u||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||c&&r&&a||!o&&a||!l)return-1}return 0}var tee=eee,ree=tee;function nee(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,c=r.length;++n<o;){var l=ree(a[n],i[n]);if(l){if(n>=c)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var aee=nee,$p=$x,iee=Rx,see=ua,oee=MT,cee=JJ,lee=xT,uee=aee,dee=Pc,fee=Wr;function hee(e,t,r){t.length?t=$p(t,function(i){return fee(i)?function(o){return iee(o,i.length===1?i[0]:i)}:i}):t=[dee];var n=-1;t=$p(t,lee(see));var a=oee(e,function(i,o,c){var l=$p(t,function(u){return u(i)});return{criteria:l,index:++n,value:i}});return cee(a,function(i,o){return uee(i,o,r)})}var mee=hee;function pee(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var gee=pee,vee=gee,Xj=Math.max;function yee(e,t,r){return t=Xj(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=Xj(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=n[a];return c[t]=r(o),vee(e,this,c)}}var xee=yee;function bee(e){return function(){return e}}var wee=bee,jee=Ns,Nee=function(){try{var e=jee(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),IT=Nee,See=wee,Zj=IT,Aee=Pc,_ee=Zj?function(e,t){return Zj(e,"toString",{configurable:!0,enumerable:!1,value:See(t),writable:!0})}:Aee,Pee=_ee,Cee=800,Oee=16,Eee=Date.now;function kee(e){var t=0,r=0;return function(){var n=Eee(),a=Oee-(n-r);if(r=n,a>0){if(++t>=Cee)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Tee=kee,Dee=Pee,Mee=Tee,Iee=Mee(Dee),$ee=Iee,Ree=Pc,Lee=xee,Fee=$ee;function Bee(e,t){return Fee(Lee(e,t,Ree),e+"")}var zee=Bee,Uee=Tx,Wee=Iu,Vee=Yx,Hee=Si;function qee(e,t,r){if(!Hee(r))return!1;var n=typeof t;return(n=="number"?Wee(r)&&Vee(t,r.length):n=="string"&&t in r)?Uee(r[t],e):!1}var jm=qee,Kee=TT,Gee=mee,Yee=zee,Qj=jm,Xee=Yee(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Qj(e,t[0],t[1])?t=[]:r>2&&Qj(t[0],t[1],t[2])&&(t=[t[0]]),Gee(e,Kee(t,1),[])}),Zee=Xee;const Jx=gt(Zee);function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(this,arguments)}function Qee(e,t){return rte(e)||tte(e,t)||ete(e,t)||Jee()}function Jee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ete(e,t){if(e){if(typeof e=="string")return Jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(e,t)}}function Jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tte(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function rte(e){if(Array.isArray(e))return e}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nte(e,t,r){return t=ate(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ate(e){var t=ite(e,"string");return Il(t)=="symbol"?t:t+""}function ite(e,t){if(Il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e){return Array.isArray(e)&&ir(e[0])&&ir(e[1])?e.join(" ~ "):e}var ote=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,c=o===void 0?{}:o,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,p=t.label,g=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,j=function(){if(d&&d.length){var O={padding:0,margin:0},C=(h?Jx(d,h):d).map(function(R,I){if(R.type==="none")return null;var F=Rp({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},c),B=R.formatter||f||ste,L=R.value,z=R.name,U=L,Z=z;if(B&&U!=null&&Z!=null){var K=B(L,z,R,I,d);if(Array.isArray(K)){var ie=Qee(K,2);U=ie[0],Z=ie[1]}else U=K}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:F},ir(Z)?M.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,ir(Z)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},U),M.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:O},C)}return null},N=Rp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Rp({margin:0},u),S=!qe(p),P=S?p:"",k=He("recharts-default-tooltip",m),T=He("recharts-tooltip-label",v);S&&g&&d!==void 0&&d!==null&&(P=g(p,d));var E=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",cv({className:k,style:N},E),M.createElement("p",{className:T,style:w},M.isValidElement(P)?P:"".concat(P)),j())};function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function ld(e,t,r){return t=cte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cte(e){var t=lte(e,"string");return $l(t)=="symbol"?t:t+""}function lte(e,t){if($l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zc="recharts-tooltip-wrapper",ute={visibility:"hidden"};function dte(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return He(zc,ld(ld(ld(ld({},"".concat(zc,"-right"),oe(r)&&t&&oe(t.x)&&r>=t.x),"".concat(zc,"-left"),oe(r)&&t&&oe(t.x)&&r<t.x),"".concat(zc,"-bottom"),oe(n)&&t&&oe(t.y)&&n>=t.y),"".concat(zc,"-top"),oe(n)&&t&&oe(t.y)&&n<t.y))}function t1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&oe(i[n]))return i[n];var d=r[n]-c-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=l[n];return h<m?Math.max(f,l[n]):Math.max(d,l[n])}var v=f+c,p=l[n]+u;return v>p?Math.max(d,l[n]):Math.max(f,l[n])}function fte(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function hte(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,l=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=t1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=t1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=fte({translateX:d,translateY:f,useTranslate3d:c})):u=ute,{cssProperties:u,cssClasses:dte({translateX:d,translateY:f,coordinate:r})}}function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function r1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(r),!0).forEach(function(n){uv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RT(n.key),n)}}function gte(e,t,r){return t&&pte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vte(e,t,r){return t=Sf(t),yte(e,$T()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function yte(e,t){if(t&&(To(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xte(e)}function xte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($T=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function bte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lv(e,t)}function lv(e,t){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lv(e,t)}function uv(e,t,r){return t=RT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RT(e){var t=wte(e,"string");return To(t)=="symbol"?t:t+""}function wte(e,t){if(To(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(To(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a1=1,jte=function(e){function t(){var r;mte(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=vte(this,t,[].concat(a)),uv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uv(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return bte(t,e),gte(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>a1||Math.abs(n.height-this.state.lastBoundingBox.height)>a1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,c=a.animationDuration,l=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,p=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,j=hte({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),N=j.cssClasses,w=j.cssProperties,S=n1(n1({transition:h&&i?"transform ".concat(c,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return M.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(y.PureComponent),Nte=function(){return!(typeof window!="undefined"&&window.document&&window.document.createElement&&window.setTimeout)},Ss={isSsr:Nte()};function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ste(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ate(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FT(n.key),n)}}function _te(e,t,r){return t&&Ate(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pte(e,t,r){return t=Af(t),Cte(e,LT()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function Cte(e,t){if(t&&(Do(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ote(e)}function Ote(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(LT=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function Ete(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dv(e,t)}function eb(e,t,r){return t=FT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FT(e){var t=kte(e,"string");return Do(t)=="symbol"?t:t+""}function kte(e,t){if(Do(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Tte(e){return e.dataKey}function Dte(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(ote,t)}var ln=function(e){function t(){return Ste(this,t),Pte(this,t,arguments)}return Ete(t,e),_te(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,c=a.animationDuration,l=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,p=a.payloadUniqBy,g=a.position,b=a.reverseDirection,x=a.useTranslate3d,j=a.viewBox,N=a.wrapperStyle,w=v!=null?v:[];f&&w.length&&(w=CT(v.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),p,Tte));var S=w.length>0;return M.createElement(jte,{allowEscapeViewBox:o,animationDuration:c,animationEasing:l,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:g,reverseDirection:b,useTranslate3d:x,viewBox:j,wrapperStyle:N},Dte(u,s1(s1({},this.props),{},{payload:w})))}}])}(y.PureComponent);eb(ln,"displayName","Tooltip");eb(ln,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ss.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Mte=la,Ite=function(){return Mte.Date.now()},$te=Ite,Rte=/\s/;function Lte(e){for(var t=e.length;t--&&Rte.test(e.charAt(t)););return t}var Fte=Lte,Bte=Fte,zte=/^\s+/;function Ute(e){return e&&e.slice(0,Bte(e)+1).replace(zte,"")}var Wte=Ute,Vte=Wte,o1=Si,Hte=yc,c1=NaN,qte=/^[-+]0x[0-9a-f]+$/i,Kte=/^0b[01]+$/i,Gte=/^0o[0-7]+$/i,Yte=parseInt;function Xte(e){if(typeof e=="number")return e;if(Hte(e))return c1;if(o1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=o1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Vte(e);var r=Kte.test(e);return r||Gte.test(e)?Yte(e.slice(2),r?2:8):qte.test(e)?c1:+e}var BT=Xte,Zte=Si,Lp=$te,l1=BT,Qte="Expected a function",Jte=Math.max,ere=Math.min;function tre(e,t,r){var n,a,i,o,c,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Qte);t=l1(t)||0,Zte(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Jte(l1(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var P=n,k=a;return n=a=void 0,u=S,o=e.apply(k,P),o}function v(S){return u=S,c=setTimeout(b,t),d?m(S):o}function p(S){var P=S-l,k=S-u,T=t-P;return f?ere(T,i-k):T}function g(S){var P=S-l,k=S-u;return l===void 0||P>=t||P<0||f&&k>=i}function b(){var S=Lp();if(g(S))return x(S);c=setTimeout(b,p(S))}function x(S){return c=void 0,h&&n?m(S):(n=a=void 0,o)}function j(){c!==void 0&&clearTimeout(c),u=0,n=l=a=c=void 0}function N(){return c===void 0?o:x(Lp())}function w(){var S=Lp(),P=g(S);if(n=arguments,a=this,l=S,P){if(c===void 0)return v(l);if(f)return clearTimeout(c),c=setTimeout(b,t),m(l)}return c===void 0&&(c=setTimeout(b,t)),o}return w.cancel=j,w.flush=N,w}var rre=tre,nre=rre,are=Si,ire="Expected a function";function sre(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(ire);return are(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),nre(e,t,{leading:n,maxWait:t,trailing:a})}var ore=sre;const zT=gt(ore);function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function u1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(r),!0).forEach(function(n){cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cre(e,t,r){return t=lre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lre(e){var t=ure(e,"string");return Rl(t)=="symbol"?t:t+""}function ure(e,t){if(Rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dre(e,t){return pre(e)||mre(e,t)||hre(e,t)||fre()}function fre(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hre(e,t){if(e){if(typeof e=="string")return d1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d1(e,t)}}function d1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mre(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function pre(e){if(Array.isArray(e))return e}var fv=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,c=e.height,l=c===void 0?"100%":c,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,g=e.id,b=e.className,x=e.onResize,j=e.style,N=j===void 0?{}:j,w=y.useRef(null),S=y.useRef();S.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=y.useState({containerWidth:a.width,containerHeight:a.height}),k=dre(P,2),T=k[0],E=k[1],_=y.useCallback(function(C,R){E(function(I){var F=Math.round(C),B=Math.round(R);return I.containerWidth===F&&I.containerHeight===B?I:{containerWidth:F,containerHeight:B}})},[]);y.useEffect(function(){var C=function(z){var U,Z=z[0].contentRect,K=Z.width,ie=Z.height;_(K,ie),(U=S.current)===null||U===void 0||U.call(S,K,ie)};p>0&&(C=zT(C,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(C),I=w.current.getBoundingClientRect(),F=I.width,B=I.height;return _(F,B),R.observe(w.current),function(){R.disconnect()}},[_,p]);var O=y.useMemo(function(){var C=T.containerWidth,R=T.containerHeight;if(C<0||R<0)return null;In(Ui(o)||Ui(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,l),In(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Ui(o)?C:o,F=Ui(l)?R:l;r&&r>0&&(I?F=I/r:F&&(I=F*r),h&&F>h&&(F=h)),In(I>0||F>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",I,F,o,l,d,f,r);var B=!Array.isArray(m)&&_a(m.type).endsWith("Chart");return M.Children.map(m,function(L){return M.isValidElement(L)?y.cloneElement(L,ud({width:I,height:F},B?{style:ud({height:"100%",width:"100%",maxHeight:F,maxWidth:I},L.props.style)}:{})):L})},[r,m,l,h,f,d,T,o]);return M.createElement("div",{id:g?"".concat(g):void 0,className:He("recharts-responsive-container",b),style:ud(ud({},N),{},{width:o,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:w},O)}),Nm=function(t){return null};Nm.displayName="Cell";function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function f1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f1(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return t=vre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=yre(e,"string");return Ll(t)=="symbol"?t:t+""}function yre(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ds={widthCache:{},cacheCount:0},xre=2e3,bre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h1="recharts_measurement_span";function wre(e){var t=hv({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var sl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ss.isSsr)return{width:0,height:0};var n=wre(r),a=JSON.stringify({text:t,copyStyle:n});if(Ds.widthCache[a])return Ds.widthCache[a];try{var i=document.getElementById(h1);i||(i=document.createElement("span"),i.setAttribute("id",h1),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=hv(hv({},bre),n);Object.assign(i.style,o),i.textContent="".concat(t);var c=i.getBoundingClientRect(),l={width:c.width,height:c.height};return Ds.widthCache[a]=l,++Ds.cacheCount>xre&&(Ds.cacheCount=0,Ds.widthCache={}),l}catch(u){return{width:0,height:0}}},jre=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function _f(e,t){return _re(e)||Are(e,t)||Sre(e,t)||Nre()}function Nre(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sre(e,t){if(e){if(typeof e=="string")return m1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m1(e,t)}}function m1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Are(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function _re(e){if(Array.isArray(e))return e}function Pre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ore(n.key),n)}}function Cre(e,t,r){return t&&p1(e.prototype,t),r&&p1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ore(e){var t=Ere(e,"string");return Fl(t)=="symbol"?t:t+""}function Ere(e,t){if(Fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var g1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dre=Object.keys(UT),Ws="NaN";function Mre(e,t){return e*UT[t]}var dd=function(){function e(t,r){Pre(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!kre.test(r)&&(this.num=NaN,this.unit=""),Dre.includes(r)&&(this.num=Mre(t,r),this.unit="px")}return Cre(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Tre.exec(r))!==null&&n!==void 0?n:[],i=_f(a,3),o=i[1],c=i[2];return new e(parseFloat(o),c!=null?c:"")}}])}();function WT(e){if(e.includes(Ws))return Ws;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=g1.exec(t))!==null&&r!==void 0?r:[],a=_f(n,4),i=a[1],o=a[2],c=a[3],l=dd.parse(i!=null?i:""),u=dd.parse(c!=null?c:""),d=o==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Ws;t=t.replace(g1,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=v1.exec(t))!==null&&f!==void 0?f:[],m=_f(h,4),v=m[1],p=m[2],g=m[3],b=dd.parse(v!=null?v:""),x=dd.parse(g!=null?g:""),j=p==="+"?b.add(x):b.subtract(x);if(j.isNaN())return Ws;t=t.replace(v1,j.toString())}return t}var y1=/\(([^()]*)\)/;function Ire(e){for(var t=e;t.includes("(");){var r=y1.exec(t),n=_f(r,2),a=n[1];t=t.replace(y1,WT(a))}return t}function $re(e){var t=e.replace(/\s+/g,"");return t=Ire(t),t=WT(t),t}function Rre(e){try{return $re(e)}catch(t){return Ws}}function Fp(e){var t=Rre(e.slice(5,-1));return t===Ws?"":t}var Lre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fre=["dx","dy","angle","className","breakAll"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(this,arguments)}function x1(e,t){if(e==null)return{};var r=Bre(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b1(e,t){return Vre(e)||Wre(e,t)||Ure(e,t)||zre()}function zre(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ure(e,t){if(e){if(typeof e=="string")return w1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(e,t)}}function w1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wre(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function Vre(e){if(Array.isArray(e))return e}var VT=/[ \f\n\r\t\v\u2028\u2029]+/,HT=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];qe(r)||(n?i=r.toString().split(""):i=r.toString().split(VT));var o=i.map(function(l){return{word:l,width:sl(l,a).width}}),c=n?0:sl(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch(l){return null}},Hre=function(t,r,n,a,i){var o=t.maxLines,c=t.children,l=t.style,u=t.breakAll,d=oe(o),f=c,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(F,B){var L=B.word,z=B.width,U=F[F.length-1];if(U&&(a==null||i||U.width+z+n<Number(a)))U.words.push(L),U.width+=z+n;else{var Z={words:[L],width:z};F.push(Z)}return F},[])},m=h(r),v=function(I){return I.reduce(function(F,B){return F.width>B.width?F:B})};if(!d)return m;for(var p="…",g=function(I){var F=f.slice(0,I),B=HT({breakAll:u,style:l,children:F+p}).wordsWithComputedWidth,L=h(B),z=L.length>o||v(L).width>Number(a);return[z,L]},b=0,x=f.length-1,j=0,N;b<=x&&j<=f.length-1;){var w=Math.floor((b+x)/2),S=w-1,P=g(S),k=b1(P,2),T=k[0],E=k[1],_=g(w),O=b1(_,1),C=O[0];if(!T&&!C&&(b=w+1),T&&C&&(x=w-1),!T&&C){N=E;break}j++}return N||m},j1=function(t){var r=qe(t)?[]:t.toString().split(VT);return[{words:r}]},qre=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,c=t.maxLines;if((r||n)&&!Ss.isSsr){var l,u,d=HT({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return j1(a);return Hre({breakAll:o,children:a,maxLines:c,style:i},l,u,r,n)}return j1(a)},N1="#808080",vs=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,c=o===void 0?"1em":o,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,p=v===void 0?"end":v,g=t.fill,b=g===void 0?N1:g,x=x1(t,Lre),j=y.useMemo(function(){return qre({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),N=x.dx,w=x.dy,S=x.angle,P=x.className,k=x.breakAll,T=x1(x,Fre);if(!ir(n)||!ir(i))return null;var E=n+(oe(N)?N:0),_=i+(oe(w)?w:0),O;switch(p){case"start":O=Fp("calc(".concat(u,")"));break;case"middle":O=Fp("calc(".concat((j.length-1)/2," * -").concat(c," + (").concat(u," / 2))"));break;default:O=Fp("calc(".concat(j.length-1," * -").concat(c,")"));break}var C=[];if(f){var R=j[0].width,I=x.width;C.push("scale(".concat((oe(I)?I/R:1)/R,")"))}return S&&C.push("rotate(".concat(S,", ").concat(E,", ").concat(_,")")),C.length&&(T.transform=C.join(" ")),M.createElement("text",mv({},Ee(T,!0),{x:E,y:_,className:He("recharts-text",P),textAnchor:m,fill:b.includes("url")?N1:b}),j.map(function(F,B){var L=F.words.join(k?"":" ");return M.createElement("tspan",{x:E,dy:B===0?O:c,key:"".concat(L,"-").concat(B)},L)}))};function ui(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kre(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tb(e){let t,r,n;e.length!==2?(t=ui,r=(c,l)=>ui(e(c),l),n=(c,l)=>e(c)-l):(t=e===ui||e===Kre?e:Gre,r=e,n=e);function a(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(c,l,u=0,d=c.length){const f=a(c,l,u,d-1);return f>u&&n(c[f-1],l)>-n(c[f],l)?f-1:f}return{left:a,center:o,right:i}}function Gre(){return 0}function qT(e){return e===null?NaN:+e}function*Yre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Xre=tb(ui),$u=Xre.right;tb(qT).center;class S1 extends Map{constructor(t,r=Jre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(A1(this,t))}has(t){return super.has(A1(this,t))}set(t,r){return super.set(Zre(this,t),r)}delete(t){return super.delete(Qre(this,t))}}function A1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Zre({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Qre({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Jre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ene(e=ui){if(e===ui)return KT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function KT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tne=Math.sqrt(50),rne=Math.sqrt(10),nne=Math.sqrt(2);function Pf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=tne?10:i>=rne?5:i>=nne?2:1;let c,l,u;return a<0?(u=Math.pow(10,-a)/o,c=Math.round(e*u),l=Math.round(t*u),c/u<e&&++c,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,c=Math.round(e/u),l=Math.round(t/u),c*u<e&&++c,l*u>t&&--l),l<c&&.5<=r&&r<2?Pf(e,t,r*2):[c,l,u]}function pv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Pf(t,e,r):Pf(e,t,r);if(!(i>=a))return[];const c=i-a+1,l=new Array(c);if(n)if(o<0)for(let u=0;u<c;++u)l[u]=(i-u)/-o;else for(let u=0;u<c;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<c;++u)l[u]=(a+u)/-o;else for(let u=0;u<c;++u)l[u]=(a+u)*o;return l}function gv(e,t,r){return t=+t,e=+e,r=+r,Pf(e,t,r)[2]}function vv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?gv(t,e,r):gv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function _1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function P1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function GT(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?KT:ene(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/l+h)),v=Math.min(n,Math.floor(t+(l-u)*f/l+h));GT(e,t,m,v,a)}const i=e[t];let o=r,c=n;for(Uc(e,r,t),a(e[n],i)>0&&Uc(e,r,n);o<c;){for(Uc(e,o,c),++o,--c;a(e[o],i)<0;)++o;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?Uc(e,r,c):(++c,Uc(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Uc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function ane(e,t,r){if(e=Float64Array.from(Yre(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return P1(e);if(t>=1)return _1(e);var n,a=(n-1)*t,i=Math.floor(a),o=_1(GT(e,i).subarray(0,i+1)),c=P1(e.subarray(i+1));return o+(c-o)*(a-i)}}function ine(e,t,r=qT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(a-i)}}function sne(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function wn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ba(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yv=Symbol("implicit");function rb(){var e=new S1,t=[],r=[],n=yv;function a(i){let o=e.get(i);if(o===void 0){if(n!==yv)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new S1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return rb(t,r).unknown(n)},wn.apply(a,arguments),a}function Bl(){var e=rb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,c=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,p=m?n:a;i=(p-v)/Math.max(1,h-l+u*2),c&&(i=Math.floor(i)),v+=(p-v-i*(h-l))*d,o=i*(1-l),c&&(v=Math.round(v),o=Math.round(o));var g=sne(h).map(function(b){return v+i*b});return r(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,c=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(c=!!h,f()):c},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Bl(t(),[n,a]).round(c).paddingInner(l).paddingOuter(u).align(d)},wn.apply(f(),arguments)}function YT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return YT(t())},e}function ol(){return YT(Bl.apply(null,arguments).paddingInner(1))}function nb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function XT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ru(){}var zl=.7,Cf=1/zl,ro="\\s*([+-]?\\d+)\\s*",Ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",one=/^#([0-9a-f]{3,8})$/,cne=new RegExp("^rgb\\(".concat(ro,",").concat(ro,",").concat(ro,"\\)$")),lne=new RegExp("^rgb\\(".concat(ta,",").concat(ta,",").concat(ta,"\\)$")),une=new RegExp("^rgba\\(".concat(ro,",").concat(ro,",").concat(ro,",").concat(Ul,"\\)$")),dne=new RegExp("^rgba\\(".concat(ta,",").concat(ta,",").concat(ta,",").concat(Ul,"\\)$")),fne=new RegExp("^hsl\\(".concat(Ul,",").concat(ta,",").concat(ta,"\\)$")),hne=new RegExp("^hsla\\(".concat(Ul,",").concat(ta,",").concat(ta,",").concat(Ul,"\\)$")),C1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nb(Ru,Wl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:O1,formatHex:O1,formatHex8:mne,formatHsl:pne,formatRgb:E1,toString:E1});function O1(){return this.rgb().formatHex()}function mne(){return this.rgb().formatHex8()}function pne(){return ZT(this).formatHsl()}function E1(){return this.rgb().formatRgb()}function Wl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=one.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?k1(t):r===3?new Br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cne.exec(e))?new Br(t[1],t[2],t[3],1):(t=lne.exec(e))?new Br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=une.exec(e))?fd(t[1],t[2],t[3],t[4]):(t=dne.exec(e))?fd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fne.exec(e))?M1(t[1],t[2]/100,t[3]/100,1):(t=hne.exec(e))?M1(t[1],t[2]/100,t[3]/100,t[4]):C1.hasOwnProperty(e)?k1(C1[e]):e==="transparent"?new Br(NaN,NaN,NaN,0):null}function k1(e){return new Br(e>>16&255,e>>8&255,e&255,1)}function fd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Br(e,t,r,n)}function gne(e){return e instanceof Ru||(e=Wl(e)),e?(e=e.rgb(),new Br(e.r,e.g,e.b,e.opacity)):new Br}function xv(e,t,r,n){return arguments.length===1?gne(e):new Br(e,t,r,n==null?1:n)}function Br(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}nb(Br,xv,XT(Ru,{brighter(e){return e=e==null?Cf:Math.pow(Cf,e),new Br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zl:Math.pow(zl,e),new Br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Br(ts(this.r),ts(this.g),ts(this.b),Of(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T1,formatHex:T1,formatHex8:vne,formatRgb:D1,toString:D1}));function T1(){return"#".concat(Wi(this.r)).concat(Wi(this.g)).concat(Wi(this.b))}function vne(){return"#".concat(Wi(this.r)).concat(Wi(this.g)).concat(Wi(this.b)).concat(Wi((isNaN(this.opacity)?1:this.opacity)*255))}function D1(){const e=Of(this.opacity);return"".concat(e===1?"rgb(":"rgba(").concat(ts(this.r),", ").concat(ts(this.g),", ").concat(ts(this.b)).concat(e===1?")":", ".concat(e,")"))}function Of(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ts(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wi(e){return e=ts(e),(e<16?"0":"")+e.toString(16)}function M1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new kn(e,t,r,n)}function ZT(e){if(e instanceof kn)return new kn(e.h,e.s,e.l,e.opacity);if(e instanceof Ru||(e=Wl(e)),!e)return new kn;if(e instanceof kn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,c=i-a,l=(i+a)/2;return c?(t===i?o=(r-n)/c+(r<n)*6:r===i?o=(n-t)/c+2:o=(t-r)/c+4,c/=l<.5?i+a:2-i-a,o*=60):c=l>0&&l<1?0:o,new kn(o,c,l,e.opacity)}function yne(e,t,r,n){return arguments.length===1?ZT(e):new kn(e,t,r,n==null?1:n)}function kn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}nb(kn,yne,XT(Ru,{brighter(e){return e=e==null?Cf:Math.pow(Cf,e),new kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zl:Math.pow(zl,e),new kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Br(Bp(e>=240?e-240:e+120,a,n),Bp(e,a,n),Bp(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new kn(I1(this.h),hd(this.s),hd(this.l),Of(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Of(this.opacity);return"".concat(e===1?"hsl(":"hsla(").concat(I1(this.h),", ").concat(hd(this.s)*100,"%, ").concat(hd(this.l)*100,"%").concat(e===1?")":", ".concat(e,")"))}}));function I1(e){return e=(e||0)%360,e<0?e+360:e}function hd(e){return Math.max(0,Math.min(1,e||0))}function Bp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ab=e=>()=>e;function xne(e,t){return function(r){return e+r*t}}function bne(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wne(e){return(e=+e)==1?QT:function(t,r){return r-t?bne(t,r,e):ab(isNaN(t)?r:t)}}function QT(e,t){var r=t-e;return r?xne(e,r):ab(isNaN(e)?t:e)}const $1=function e(t){var r=wne(t);function n(a,i){var o=r((a=xv(a)).r,(i=xv(i)).r),c=r(a.g,i.g),l=r(a.b,i.b),u=QT(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=c(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function jne(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Nne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Sne(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Cc(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<n;++o)i[o]=a[o](c);return i}}function Ane(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ef(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _ne(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Cc(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var bv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zp=new RegExp(bv.source,"g");function Pne(e){return function(){return e}}function Cne(e){return function(t){return e(t)+""}}function One(e,t){var r=bv.lastIndex=zp.lastIndex=0,n,a,i,o=-1,c=[],l=[];for(e=e+"",t=t+"";(n=bv.exec(e))&&(a=zp.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(n=n[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,l.push({i:o,x:Ef(n,a)})),r=zp.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?l[0]?Cne(l[0].x):Pne(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)c[(f=l[d]).i]=f.x(u);return c.join("")})}function Cc(e,t){var r=typeof t,n;return t==null||r==="boolean"?ab(t):(r==="number"?Ef:r==="string"?(n=Wl(t))?(t=n,$1):One:t instanceof Wl?$1:t instanceof Date?Ane:Nne(t)?jne:Array.isArray(t)?Sne:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_ne:Ef)(e,t)}function ib(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ene(e,t){t===void 0&&(t=e,e=Cc);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[c](o-c)}}function kne(e){return function(){return e}}function kf(e){return+e}var R1=[0,1];function Tr(e){return e}function wv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:kne(isNaN(t)?NaN:.5)}function Tne(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Dne(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=wv(a,n),i=r(o,i)):(n=wv(n,a),i=r(i,o)),function(c){return i(n(c))}}function Mne(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=wv(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var l=$u(e,c,1,n)-1;return i[l](a[l](c))}}function Lu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sm(){var e=R1,t=R1,r=Cc,n,a,i,o=Tr,c,l,u;function d(){var h=Math.min(e.length,t.length);return o!==Tr&&(o=Tne(e[0],e[h-1])),c=h>2?Mne:Dne,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=c(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=c(t,e.map(n),Ef)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,kf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=ib,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Tr,d()):o!==Tr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function sb(){return Sm()(Tr,Tr)}function Ine(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Mo(e){return e=Tf(Math.abs(e)),e?e[1]:NaN}function $ne(e,t){return function(r,n){for(var a=r.length,i=[],o=0,c=e[0],l=0;a>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),i.push(r.substring(a-=c,a+c)),!((l+=c+1)>n));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Rne(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Lne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vl(e){if(!(t=Lne.exec(e)))throw new Error("invalid format: "+e);var t;return new ob({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vl.prototype=ob.prototype;function ob(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ob.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fne(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var JT;function Bne(e,t){var r=Tf(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(JT=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Tf(e,Math.max(0,t+i-1))[0]}function L1(e,t){var r=Tf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const F1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ine,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>L1(e*100,t),r:L1,s:Bne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function B1(e){return e}var z1=Array.prototype.map,U1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zne(e){var t=e.grouping===void 0||e.thousands===void 0?B1:$ne(z1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?B1:Rne(z1.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Vl(f);var h=f.fill,m=f.align,v=f.sign,p=f.symbol,g=f.zero,b=f.width,x=f.comma,j=f.precision,N=f.trim,w=f.type;w==="n"?(x=!0,w="g"):F1[w]||(j===void 0&&(j=12),N=!0,w="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P=p==="$"?n:/[%p]/.test(w)?o:"",k=F1[w],T=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function E(_){var O=S,C=P,R,I,F;if(w==="c")C=k(_)+C,_="";else{_=+_;var B=_<0||1/_<0;if(_=isNaN(_)?l:k(Math.abs(_),j),N&&(_=Fne(_)),B&&+_==0&&v!=="+"&&(B=!1),O=(B?v==="("?v:c:v==="-"||v==="("?"":v)+O,C=(w==="s"?U1[8+JT/3]:"")+C+(B&&v==="("?")":""),T){for(R=-1,I=_.length;++R<I;)if(F=_.charCodeAt(R),48>F||F>57){C=(F===46?a+_.slice(R+1):_.slice(R))+C,_=_.slice(0,R);break}}}x&&!g&&(_=t(_,1/0));var L=O.length+_.length+C.length,z=L<b?new Array(b-L+1).join(h):"";switch(x&&g&&(_=t(z+_,z.length?b-C.length:1/0),z=""),m){case"<":_=O+_+C+z;break;case"=":_=O+z+_+C;break;case"^":_=z.slice(0,L=z.length>>1)+O+_+C+z.slice(L);break;default:_=z+O+_+C;break}return i(_)}return E.toString=function(){return f+""},E}function d(f,h){var m=u((f=Vl(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Mo(h)/3)))*3,p=Math.pow(10,-v),g=U1[8+v/3];return function(b){return m(p*b)+g}}return{format:u,formatPrefix:d}}var md,cb,e2;Une({thousands:",",grouping:[3],currency:["$",""]});function Une(e){return md=zne(e),cb=md.format,e2=md.formatPrefix,md}function Wne(e){return Math.max(0,-Mo(Math.abs(e)))}function Vne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mo(t)/3)))*3-Mo(Math.abs(e)))}function Hne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mo(t)-Mo(e))+1}function t2(e,t,r,n){var a=vv(e,t,r),i;switch(n=Vl(n==null?",f":n),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Vne(a,o))&&(n.precision=i),e2(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Hne(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Wne(a))&&(n.precision=i-(n.type==="%")*2);break}}return cb(n)}function Ai(e){var t=e.domain;return e.ticks=function(r){var n=t();return pv(n[0],n[n.length-1],r==null?10:r)},e.tickFormat=function(r,n){var a=t();return t2(a[0],a[a.length-1],r==null?10:r,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],c=n[i],l,u,d=10;for(c<o&&(u=o,o=c,c=u,u=a,a=i,i=u);d-- >0;){if(u=gv(o,c,r),u===l)return n[a]=o,n[i]=c,t(n);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;l=u}return e},e}function Df(){var e=sb();return e.copy=function(){return Lu(e,Df())},wn.apply(e,arguments),Ai(e)}function r2(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,kf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return r2(e).unknown(t)},e=arguments.length?Array.from(e,kf):[0,1],Ai(r)}function n2(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function W1(e){return Math.log(e)}function V1(e){return Math.exp(e)}function qne(e){return-Math.log(-e)}function Kne(e){return-Math.exp(-e)}function Gne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Yne(e){return e===10?Gne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Xne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function H1(e){return(t,r)=>-e(-t,r)}function lb(e){const t=e(W1,V1),r=t.domain;let n=10,a,i;function o(){return a=Xne(n),i=Yne(n),r()[0]<0?(a=H1(a),i=H1(i),e(qne,Kne)):e(W1,V1),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,p;const g=c==null?10:+c;let b=[];if(!(n%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(p=h<0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<g&&(b=pv(u,d,g))}else b=pv(h,m,Math.min(m-h,g)).map(i);return f?b.reverse():b},t.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Vl(l)).precision==null&&(l.trim=!0),l=cb(l)),c===1/0)return l;const u=Math.max(1,n*c/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(n2(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function a2(){const e=lb(Sm()).domain([1,10]);return e.copy=()=>Lu(e,a2()).base(e.base()),wn.apply(e,arguments),e}function q1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function K1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ub(e){var t=1,r=e(q1(t),K1(t));return r.constant=function(n){return arguments.length?e(q1(t=+n),K1(t)):t},Ai(r)}function i2(){var e=ub(Sm());return e.copy=function(){return Lu(e,i2()).constant(e.constant())},wn.apply(e,arguments)}function G1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qne(e){return e<0?-e*e:e*e}function db(e){var t=e(Tr,Tr),r=1;function n(){return r===1?e(Tr,Tr):r===.5?e(Zne,Qne):e(G1(r),G1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ai(t)}function fb(){var e=db(Sm());return e.copy=function(){return Lu(e,fb()).exponent(e.exponent())},wn.apply(e,arguments),e}function Jne(){return fb.apply(null,arguments).exponent(.5)}function Y1(e){return Math.sign(e)*e*e}function eae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function s2(){var e=sb(),t=[0,1],r=!1,n;function a(i){var o=eae(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(Y1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,kf)).map(Y1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return s2(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},wn.apply(a,arguments),Ai(a)}function o2(){var e=[],t=[],r=[],n;function a(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=ine(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?n:t[$u(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(ui),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return o2().domain(e).range(t).unknown(n)},wn.apply(i,arguments)}function c2(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[$u(n,l,0,r)]:i}function c(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,c()):[e,t]},o.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,c()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return c2().domain([e,t]).range(a).unknown(i)},wn.apply(Ai(o),arguments)}function l2(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[$u(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return l2().domain(e).range(t).unknown(r)},wn.apply(a,arguments)}const Up=new Date,Wp=new Date;function sr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const l=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return l;let u;do l.push(u=new Date(+i)),t(i,c),e(i);while(u<i&&i<o);return l},a.filter=i=>sr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Up.setTime(+i),Wp.setTime(+o),e(Up),e(Wp),Math.floor(r(Up,Wp))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Mf=sr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Mf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Mf);Mf.range;const ja=1e3,dn=ja*60,Na=dn*60,Da=Na*24,hb=Da*7,X1=Da*30,Vp=Da*365,Vi=sr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getUTCSeconds());Vi.range;const mb=sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ja)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getMinutes());mb.range;const pb=sr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCMinutes());pb.range;const gb=sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ja-e.getMinutes()*dn)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getHours());gb.range;const vb=sr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCHours());vb.range;const Fu=sr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*dn)/Da,e=>e.getDate()-1);Fu.range;const Am=sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Da,e=>e.getUTCDate()-1);Am.range;const u2=sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Da,e=>Math.floor(e/Da));u2.range;function As(e){return sr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*dn)/hb)}const _m=As(0),If=As(1),tae=As(2),rae=As(3),Io=As(4),nae=As(5),aae=As(6);_m.range;If.range;tae.range;rae.range;Io.range;nae.range;aae.range;function _s(e){return sr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/hb)}const Pm=_s(0),$f=_s(1),iae=_s(2),sae=_s(3),$o=_s(4),oae=_s(5),cae=_s(6);Pm.range;$f.range;iae.range;sae.range;$o.range;oae.range;cae.range;const yb=sr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yb.range;const xb=sr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xb.range;const Ma=sr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ma.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ma.range;const Ia=sr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ia.range;function d2(e,t,r,n,a,i){const o=[[Vi,1,ja],[Vi,5,5*ja],[Vi,15,15*ja],[Vi,30,30*ja],[i,1,dn],[i,5,5*dn],[i,15,15*dn],[i,30,30*dn],[a,1,Na],[a,3,3*Na],[a,6,6*Na],[a,12,12*Na],[n,1,Da],[n,2,2*Da],[r,1,hb],[t,1,X1],[t,3,3*X1],[e,1,Vp]];function c(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,m=tb(([,,g])=>g).right(o,h);if(m===o.length)return e.every(vv(u/Vp,d/Vp,f));if(m===0)return Mf.every(Math.max(vv(u,d,f),1));const[v,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(p)}return[c,l]}const[lae,uae]=d2(Ia,xb,Pm,u2,vb,pb),[dae,fae]=d2(Ma,yb,_m,Fu,gb,mb);function Hp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hae(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,l=e.shortMonths,u=Vc(a),d=Hc(a),f=Vc(i),h=Hc(i),m=Vc(o),v=Hc(o),p=Vc(c),g=Hc(c),b=Vc(l),x=Hc(l),j={a:B,A:L,b:z,B:U,c:null,d:rN,e:rN,f:$ae,g:qae,G:Gae,H:Dae,I:Mae,j:Iae,L:f2,m:Rae,M:Lae,p:Z,q:K,Q:iN,s:sN,S:Fae,u:Bae,U:zae,V:Uae,w:Wae,W:Vae,x:null,X:null,y:Hae,Y:Kae,Z:Yae,"%":aN},N={a:ie,A:xe,b:ke,B:Oe,c:null,d:nN,e:nN,f:Jae,g:lie,G:die,H:Xae,I:Zae,j:Qae,L:m2,m:eie,M:tie,p:Fe,q:ue,Q:iN,s:sN,S:rie,u:nie,U:aie,V:iie,w:sie,W:oie,x:null,X:null,y:cie,Y:uie,Z:fie,"%":aN},w={a:E,A:_,b:O,B:C,c:R,d:eN,e:eN,f:Oae,g:J1,G:Q1,H:tN,I:tN,j:Aae,L:Cae,m:Sae,M:_ae,p:T,q:Nae,Q:kae,s:Tae,S:Pae,u:yae,U:xae,V:bae,w:vae,W:wae,x:I,X:F,y:J1,Y:Q1,Z:jae,"%":Eae};j.x=S(r,j),j.X=S(n,j),j.c=S(t,j),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(ee,Y){return function(Q){var H=[],re=-1,se=0,Ae=ee.length,Be,lt,ve;for(Q instanceof Date||(Q=new Date(+Q));++re<Ae;)ee.charCodeAt(re)===37&&(H.push(ee.slice(se,re)),(lt=Z1[Be=ee.charAt(++re)])!=null?Be=ee.charAt(++re):lt=Be==="e"?" ":"0",(ve=Y[Be])&&(Be=ve(Q,lt)),H.push(Be),se=re+1);return H.push(ee.slice(se,re)),H.join("")}}function P(ee,Y){return function(Q){var H=Wc(1900,void 0,1),re=k(H,ee,Q+="",0),se,Ae;if(re!=Q.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(Y&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(se=qp(Wc(H.y,0,1)),Ae=se.getUTCDay(),se=Ae>4||Ae===0?$f.ceil(se):$f(se),se=Am.offset(se,(H.V-1)*7),H.y=se.getUTCFullYear(),H.m=se.getUTCMonth(),H.d=se.getUTCDate()+(H.w+6)%7):(se=Hp(Wc(H.y,0,1)),Ae=se.getDay(),se=Ae>4||Ae===0?If.ceil(se):If(se),se=Fu.offset(se,(H.V-1)*7),H.y=se.getFullYear(),H.m=se.getMonth(),H.d=se.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Ae="Z"in H?qp(Wc(H.y,0,1)).getUTCDay():Hp(Wc(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Ae+5)%7:H.w+H.U*7-(Ae+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,qp(H)):Hp(H)}}function k(ee,Y,Q,H){for(var re=0,se=Y.length,Ae=Q.length,Be,lt;re<se;){if(H>=Ae)return-1;if(Be=Y.charCodeAt(re++),Be===37){if(Be=Y.charAt(re++),lt=w[Be in Z1?Y.charAt(re++):Be],!lt||(H=lt(ee,Q,H))<0)return-1}else if(Be!=Q.charCodeAt(H++))return-1}return H}function T(ee,Y,Q){var H=u.exec(Y.slice(Q));return H?(ee.p=d.get(H[0].toLowerCase()),Q+H[0].length):-1}function E(ee,Y,Q){var H=m.exec(Y.slice(Q));return H?(ee.w=v.get(H[0].toLowerCase()),Q+H[0].length):-1}function _(ee,Y,Q){var H=f.exec(Y.slice(Q));return H?(ee.w=h.get(H[0].toLowerCase()),Q+H[0].length):-1}function O(ee,Y,Q){var H=b.exec(Y.slice(Q));return H?(ee.m=x.get(H[0].toLowerCase()),Q+H[0].length):-1}function C(ee,Y,Q){var H=p.exec(Y.slice(Q));return H?(ee.m=g.get(H[0].toLowerCase()),Q+H[0].length):-1}function R(ee,Y,Q){return k(ee,t,Y,Q)}function I(ee,Y,Q){return k(ee,r,Y,Q)}function F(ee,Y,Q){return k(ee,n,Y,Q)}function B(ee){return o[ee.getDay()]}function L(ee){return i[ee.getDay()]}function z(ee){return l[ee.getMonth()]}function U(ee){return c[ee.getMonth()]}function Z(ee){return a[+(ee.getHours()>=12)]}function K(ee){return 1+~~(ee.getMonth()/3)}function ie(ee){return o[ee.getUTCDay()]}function xe(ee){return i[ee.getUTCDay()]}function ke(ee){return l[ee.getUTCMonth()]}function Oe(ee){return c[ee.getUTCMonth()]}function Fe(ee){return a[+(ee.getUTCHours()>=12)]}function ue(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var Y=S(ee+="",j);return Y.toString=function(){return ee},Y},parse:function(ee){var Y=P(ee+="",!1);return Y.toString=function(){return ee},Y},utcFormat:function(ee){var Y=S(ee+="",N);return Y.toString=function(){return ee},Y},utcParse:function(ee){var Y=P(ee+="",!0);return Y.toString=function(){return ee},Y}}}var Z1={"-":"",_:" ",0:"0"},fr=/^\s*\d+/,mae=/^%/,pae=/[\\^$*+?|[\]().{}]/g;function ct(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function gae(e){return e.replace(pae,"\\$&")}function Vc(e){return new RegExp("^(?:"+e.map(gae).join("|")+")","i")}function Hc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function vae(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yae(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function xae(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function bae(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wae(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Q1(e,t,r){var n=fr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function J1(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jae(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Nae(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Sae(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function eN(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Aae(e,t,r){var n=fr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tN(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _ae(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Pae(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Cae(e,t,r){var n=fr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Oae(e,t,r){var n=fr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Eae(e,t,r){var n=mae.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function kae(e,t,r){var n=fr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Tae(e,t,r){var n=fr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rN(e,t){return ct(e.getDate(),t,2)}function Dae(e,t){return ct(e.getHours(),t,2)}function Mae(e,t){return ct(e.getHours()%12||12,t,2)}function Iae(e,t){return ct(1+Fu.count(Ma(e),e),t,3)}function f2(e,t){return ct(e.getMilliseconds(),t,3)}function $ae(e,t){return f2(e,t)+"000"}function Rae(e,t){return ct(e.getMonth()+1,t,2)}function Lae(e,t){return ct(e.getMinutes(),t,2)}function Fae(e,t){return ct(e.getSeconds(),t,2)}function Bae(e){var t=e.getDay();return t===0?7:t}function zae(e,t){return ct(_m.count(Ma(e)-1,e),t,2)}function h2(e){var t=e.getDay();return t>=4||t===0?Io(e):Io.ceil(e)}function Uae(e,t){return e=h2(e),ct(Io.count(Ma(e),e)+(Ma(e).getDay()===4),t,2)}function Wae(e){return e.getDay()}function Vae(e,t){return ct(If.count(Ma(e)-1,e),t,2)}function Hae(e,t){return ct(e.getFullYear()%100,t,2)}function qae(e,t){return e=h2(e),ct(e.getFullYear()%100,t,2)}function Kae(e,t){return ct(e.getFullYear()%1e4,t,4)}function Gae(e,t){var r=e.getDay();return e=r>=4||r===0?Io(e):Io.ceil(e),ct(e.getFullYear()%1e4,t,4)}function Yae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ct(t/60|0,"0",2)+ct(t%60,"0",2)}function nN(e,t){return ct(e.getUTCDate(),t,2)}function Xae(e,t){return ct(e.getUTCHours(),t,2)}function Zae(e,t){return ct(e.getUTCHours()%12||12,t,2)}function Qae(e,t){return ct(1+Am.count(Ia(e),e),t,3)}function m2(e,t){return ct(e.getUTCMilliseconds(),t,3)}function Jae(e,t){return m2(e,t)+"000"}function eie(e,t){return ct(e.getUTCMonth()+1,t,2)}function tie(e,t){return ct(e.getUTCMinutes(),t,2)}function rie(e,t){return ct(e.getUTCSeconds(),t,2)}function nie(e){var t=e.getUTCDay();return t===0?7:t}function aie(e,t){return ct(Pm.count(Ia(e)-1,e),t,2)}function p2(e){var t=e.getUTCDay();return t>=4||t===0?$o(e):$o.ceil(e)}function iie(e,t){return e=p2(e),ct($o.count(Ia(e),e)+(Ia(e).getUTCDay()===4),t,2)}function sie(e){return e.getUTCDay()}function oie(e,t){return ct($f.count(Ia(e)-1,e),t,2)}function cie(e,t){return ct(e.getUTCFullYear()%100,t,2)}function lie(e,t){return e=p2(e),ct(e.getUTCFullYear()%100,t,2)}function uie(e,t){return ct(e.getUTCFullYear()%1e4,t,4)}function die(e,t){var r=e.getUTCDay();return e=r>=4||r===0?$o(e):$o.ceil(e),ct(e.getUTCFullYear()%1e4,t,4)}function fie(){return"+0000"}function aN(){return"%"}function iN(e){return+e}function sN(e){return Math.floor(+e/1e3)}var Ms,g2,v2;hie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hie(e){return Ms=hae(e),g2=Ms.format,Ms.parse,v2=Ms.utcFormat,Ms.utcParse,Ms}function mie(e){return new Date(e)}function pie(e){return e instanceof Date?+e:+new Date(+e)}function bb(e,t,r,n,a,i,o,c,l,u){var d=sb(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),p=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),x=u("%b %d"),j=u("%B"),N=u("%Y");function w(S){return(l(S)<S?m:c(S)<S?v:o(S)<S?p:i(S)<S?g:n(S)<S?a(S)<S?b:x:r(S)<S?j:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,pie)):h().map(mie)},d.ticks=function(S){var P=h();return e(P[0],P[P.length-1],S==null?10:S)},d.tickFormat=function(S,P){return P==null?w:u(P)},d.nice=function(S){var P=h();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S==null?10:S)),S?h(n2(P,S)):d},d.copy=function(){return Lu(d,bb(e,t,r,n,a,i,o,c,l,u))},d}function gie(){return wn.apply(bb(dae,fae,Ma,yb,_m,Fu,gb,mb,Vi,g2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vie(){return wn.apply(bb(lae,uae,Ia,xb,Pm,Am,vb,pb,Vi,v2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cm(){var e=0,t=1,r,n,a,i,o=Tr,c=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-r)*a,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Cc),u.rangeRound=d(ib),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function _i(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function y2(){var e=Ai(Cm()(Tr));return e.copy=function(){return _i(e,y2())},Ba.apply(e,arguments)}function x2(){var e=lb(Cm()).domain([1,10]);return e.copy=function(){return _i(e,x2()).base(e.base())},Ba.apply(e,arguments)}function b2(){var e=ub(Cm());return e.copy=function(){return _i(e,b2()).constant(e.constant())},Ba.apply(e,arguments)}function wb(){var e=db(Cm());return e.copy=function(){return _i(e,wb()).exponent(e.exponent())},Ba.apply(e,arguments)}function yie(){return wb.apply(null,arguments).exponent(.5)}function w2(){var e=[],t=Tr;function r(n){if(n!=null&&!isNaN(n=+n))return t(($u(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ui),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>ane(e,i/n))},r.copy=function(){return w2(t).domain(e)},Ba.apply(r,arguments)}function Om(){var e=0,t=.5,r=1,n=1,a,i,o,c,l,u=Tr,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?c:l),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),c=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function v(p){return function(g){var b,x,j;return arguments.length?([b,x,j]=g,u=Ene(p,[b,x,j]),m):[u(0),u(.5),u(1)]}}return m.range=v(Cc),m.rangeRound=v(ib),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),c=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function j2(){var e=Ai(Om()(Tr));return e.copy=function(){return _i(e,j2())},Ba.apply(e,arguments)}function N2(){var e=lb(Om()).domain([.1,1,10]);return e.copy=function(){return _i(e,N2()).base(e.base())},Ba.apply(e,arguments)}function S2(){var e=ub(Om());return e.copy=function(){return _i(e,S2()).constant(e.constant())},Ba.apply(e,arguments)}function jb(){var e=db(Om());return e.copy=function(){return _i(e,jb()).exponent(e.exponent())},Ba.apply(e,arguments)}function xie(){return jb.apply(null,arguments).exponent(.5)}const oN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bl,scaleDiverging:j2,scaleDivergingLog:N2,scaleDivergingPow:jb,scaleDivergingSqrt:xie,scaleDivergingSymlog:S2,scaleIdentity:r2,scaleImplicit:yv,scaleLinear:Df,scaleLog:a2,scaleOrdinal:rb,scalePoint:ol,scalePow:fb,scaleQuantile:o2,scaleQuantize:c2,scaleRadial:s2,scaleSequential:y2,scaleSequentialLog:x2,scaleSequentialPow:wb,scaleSequentialQuantile:w2,scaleSequentialSqrt:yie,scaleSequentialSymlog:b2,scaleSqrt:Jne,scaleSymlog:i2,scaleThreshold:l2,scaleTime:gie,scaleUtc:vie,tickFormat:t2},Symbol.toStringTag,{value:"Module"}));var bie=yc;function wie(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(c===void 0?o===o&&!bie(o):r(o,c)))var c=o,l=i}return l}var Em=wie;function jie(e,t){return e>t}var A2=jie,Nie=Em,Sie=A2,Aie=Pc;function _ie(e){return e&&e.length?Nie(e,Aie,Sie):void 0}var Pie=_ie;const si=gt(Pie);function Cie(e,t){return e<t}var _2=Cie,Oie=Em,Eie=_2,kie=Pc;function Tie(e){return e&&e.length?Oie(e,kie,Eie):void 0}var Die=Tie;const km=gt(Die);var Mie=$x,Iie=ua,$ie=MT,Rie=Wr;function Lie(e,t){var r=Rie(e)?Mie:$ie;return r(e,Iie(t))}var Fie=Lie,Bie=TT,zie=Fie;function Uie(e,t){return Bie(zie(e,t),1)}var Wie=Uie;const Vie=gt(Wie);var Hie=Zx;function qie(e,t){return Hie(e,t)}var Kie=qie;const Ro=gt(Kie);var Oc=1e9,Gie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sb,Tt=!0,yn="[DecimalError] ",rs=yn+"Invalid argument: ",Nb=yn+"Exponent out of range: ",Ec=Math.floor,$i=Math.pow,Yie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zr,or=1e7,Et=7,P2=9007199254740991,Rf=Ec(P2/Et),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return Pa(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return vt(Pa(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return Xt(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Zr))throw Error(yn+"NaN");if(r.s<1)throw Error(yn+(r.s?"NaN":"-Infinity"));return r.eq(Zr)?new n(0):(Tt=!1,t=Pa(Hl(r,i),Hl(e,i),i),Tt=!0,vt(t,a))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?E2(t,e):C2(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(yn+"NaN");return r.s?(Tt=!1,t=Pa(r,e,0,1).times(e),Tt=!0,r.minus(t)):vt(new n(r),a)};we.naturalExponential=we.exp=function(){return O2(this)};we.naturalLogarithm=we.ln=function(){return Hl(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C2(t,e):E2(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rs+e);if(t=Xt(a)+1,n=a.d.length-1,r=n*Et+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,a,i,o,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(yn+"NaN")}for(e=Xt(c),Tt=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Zn(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ec((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=o=r+3;;)if(i=n,n=i.plus(Pa(c,i,o+2)).times(.5),Zn(i.d).slice(0,o)===(t=Zn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(vt(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;o+=4}return Tt=!0,vt(n,r)};we.times=we.mul=function(e){var t,r,n,a,i,o,c,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=m.length,l<u&&(i=h,h=m,m=i,o=l,l=u,u=o),i=[],o=l+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)c=i[a]+m[n]*h[a-n-1]+t,i[a--]=c%or|0,t=c/or|0;i[a]=(i[a]+t)%or|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Tt?vt(e,f.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ia(e,0,Oc),t===void 0?t=n.rounding:ia(t,0,8),vt(r,e+Xt(r)+1,t))};we.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ys(n,!0):(ia(e,0,Oc),t===void 0?t=a.rounding:ia(t,0,8),n=vt(new a(n),e+1,t),r=ys(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ys(a):(ia(e,0,Oc),t===void 0?t=i.rounding:ia(t,0,8),n=vt(new i(a),e+Xt(a)+1,t),r=ys(n.abs(),!1,e+Xt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return vt(new t(e),Xt(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,a,i,o,c=this,l=c.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Zr);if(c=new l(c),!c.s){if(e.s<1)throw Error(yn+"Infinity");return c}if(c.eq(Zr))return c;if(n=l.precision,e.eq(Zr))return vt(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=d<0?-d:d)<=P2){for(a=new l(Zr),t=Math.ceil(n/Et+4),Tt=!1;r%2&&(a=a.times(c),lN(a.d,t)),r=Ec(r/2),r!==0;)c=c.times(c),lN(c.d,t);return Tt=!0,e.s<0?new l(Zr).div(a):vt(a,n)}}else if(i<0)throw Error(yn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Tt=!1,a=e.times(Hl(c,n+u)),Tt=!0,a=O2(a),a.s=i,a};we.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Xt(a),n=ys(a,r<=i.toExpNeg||r>=i.toExpPos)):(ia(e,1,Oc),t===void 0?t=i.rounding:ia(t,0,8),a=vt(new i(a),e,t),r=Xt(a),n=ys(a,e<=r||r<=i.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ia(e,1,Oc),t===void 0?t=n.rounding:ia(t,0,8)),vt(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xt(e),r=e.constructor;return ys(e,t<=r.toExpNeg||t>=r.toExpPos)};function C2(e,t){var r,n,a,i,o,c,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Tt?vt(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(n=l,i=-i,c=u.length):(n=u,a=o,c=l.length),o=Math.ceil(f/Et),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=l.length,i=u.length,c-i<0&&(i=c,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/or|0,l[i]%=or;for(r&&(l.unshift(r),++a),c=l.length;l[--c]==0;)l.pop();return t.d=l,t.e=a,Tt?vt(t,f):t}function ia(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rs+e)}function Zn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Et-n.length,r&&(i+=Xa(r)),i+=n;o=e[t],n=o+"",r=Et-n.length,r&&(i+=Xa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Pa=function(){function e(n,a){var i,o=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+o,n[c]=i%or|0,o=i/or|0;return o&&n.unshift(o),n}function t(n,a,i,o){var c,l;if(i!=o)l=i>o?1:-1;else for(c=l=0;c<i;c++)if(n[c]!=a[c]){l=n[c]>a[c]?1:-1;break}return l}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*or+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var c,l,u,d,f,h,m,v,p,g,b,x,j,N,w,S,P,k,T=n.constructor,E=n.s==a.s?1:-1,_=n.d,O=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(yn+"Division by zero");for(l=n.e-a.e,P=O.length,w=_.length,m=new T(E),v=m.d=[],u=0;O[u]==(_[u]||0);)++u;if(O[u]>(_[u]||0)&&--l,i==null?x=i=T.precision:o?x=i+(Xt(n)-Xt(a))+1:x=i,x<0)return new T(0);if(x=x/Et+2|0,u=0,P==1)for(d=0,O=O[0],x++;(u<w||d)&&x--;u++)j=d*or+(_[u]||0),v[u]=j/O|0,d=j%O|0;else{for(d=or/(O[0]+1)|0,d>1&&(O=e(O,d),_=e(_,d),P=O.length,w=_.length),N=P,p=_.slice(0,P),g=p.length;g<P;)p[g++]=0;k=O.slice(),k.unshift(0),S=O[0],O[1]>=or/2&&++S;do d=0,c=t(O,p,P,g),c<0?(b=p[0],P!=g&&(b=b*or+(p[1]||0)),d=b/S|0,d>1?(d>=or&&(d=or-1),f=e(O,d),h=f.length,g=p.length,c=t(f,p,h,g),c==1&&(d--,r(f,P<h?k:O,h))):(d==0&&(c=d=1),f=O.slice()),h=f.length,h<g&&f.unshift(0),r(p,f,g),c==-1&&(g=p.length,c=t(O,p,P,g),c<1&&(d++,r(p,P<g?k:O,g))),g=p.length):c===0&&(d++,p=[0]),v[u++]=d,c&&p[0]?p[g++]=_[N]||0:(p=[_[N]],g=1);while((N++<w||p[0]!==void 0)&&x--)}return v[0]||v.shift(),m.e=l,vt(m,o?i+Xt(m)+1:i)}}();function O2(e,t){var r,n,a,i,o,c,l=0,u=0,d=e.constructor,f=d.precision;if(Xt(e)>16)throw Error(Nb+Xt(e));if(!e.s)return new d(Zr);for(Tt=!1,c=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log($i(2,u))/Math.LN10*2+5|0,c+=n,r=a=i=new d(Zr),d.precision=c;;){if(a=vt(a.times(e),c),r=r.times(++l),o=i.plus(Pa(a,r,c)),Zn(o.d).slice(0,c)===Zn(i.d).slice(0,c)){for(;u--;)i=vt(i.times(i),c);return d.precision=f,t==null?(Tt=!0,vt(i,f)):i}i=o}}function Xt(e){for(var t=e.e*Et,r=e.d[0];r>=10;r/=10)t++;return t}function Kp(e,t,r){if(t>e.LN10.sd())throw Tt=!0,r&&(e.precision=r),Error(yn+"LN10 precision limit exceeded");return vt(new e(e.LN10),t)}function Xa(e){for(var t="";e--;)t+="0";return t}function Hl(e,t){var r,n,a,i,o,c,l,u,d,f=1,h=10,m=e,v=m.d,p=m.constructor,g=p.precision;if(m.s<1)throw Error(yn+(m.s?"NaN":"-Infinity"));if(m.eq(Zr))return new p(0);if(t==null?(Tt=!1,u=g):u=t,m.eq(10))return t==null&&(Tt=!0),Kp(p,u);if(u+=h,p.precision=u,r=Zn(v),n=r.charAt(0),i=Xt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Zn(m.d),n=r.charAt(0),f++;i=Xt(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return l=Kp(p,u+2,g).times(i+""),m=Hl(new p(n+"."+r.slice(1)),u-h).plus(l),p.precision=g,t==null?(Tt=!0,vt(m,g)):m;for(c=o=m=Pa(m.minus(Zr),m.plus(Zr),u),d=vt(m.times(m),u),a=3;;){if(o=vt(o.times(d),u),l=c.plus(Pa(o,new p(a),u)),Zn(l.d).slice(0,u)===Zn(c.d).slice(0,u))return c=c.times(2),i!==0&&(c=c.plus(Kp(p,u+2,g).times(i+""))),c=Pa(c,new p(f),u),p.precision=g,t==null?(Tt=!0,vt(c,g)):c;c=l,a+=2}}function cN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ec(r/Et),e.d=[],n=(r+1)%Et,r<0&&(n+=Et),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Et;n<a;)e.d.push(+t.slice(n,n+=Et));t=t.slice(n),n=Et-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Tt&&(e.e>Rf||e.e<-Rf))throw Error(Nb+r)}else e.s=0,e.e=0,e.d=[0];return e}function vt(e,t,r){var n,a,i,o,c,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Et,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Et),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Et,a=n-Et+o}if(r!==void 0&&(i=$i(10,o-a-1),c=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(c||l)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||l||r==6&&(n>0?a>0?u/$i(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=Xt(e),f.length=1,t=t-i-1,f[0]=$i(10,(Et-t%Et)%Et),e.e=Ec(-t/Et)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=$i(10,Et-n),f[d]=a>0?(u/$i(10,o-a)%$i(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==or&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=or)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Tt&&(e.e>Rf||e.e<-Rf))throw Error(Nb+Xt(e));return e}function E2(e,t){var r,n,a,i,o,c,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Tt?vt(t,m):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(d=o<0,d?(r=l,o=-o,c=f.length):(r=f,n=u,c=l.length),a=Math.max(Math.ceil(m/Et),c)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=l.length,c=f.length,d=a<c,d&&(c=a),a=0;a<c;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,a=f.length-c;a>0;--a)l[c++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=or-1;--l[i],l[a]+=or}l[a]-=f[a]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Tt?vt(t,m):t):new h(0)}function ys(e,t,r){var n,a=Xt(e),i=Zn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Xa(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Xa(-a-1)+i,r&&(n=r-o)>0&&(i+=Xa(n))):a>=o?(i+=Xa(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Xa(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Xa(n))),e.s<0?"-"+i:i}function lN(e,t){if(e.length>t)return e.length=t,!0}function k2(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(rs+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return cN(o,i.toString())}else if(typeof i!="string")throw Error(rs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Yie.test(i))cN(o,i);else throw Error(rs+i)}if(a.prototype=we,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=k2,a.config=a.set=Xie,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Xie(e){if(!e||typeof e!="object")throw Error(yn+"Object expected");var t,r,n,a=["precision",1,Oc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ec(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(rs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(rs+r+": "+n);return this}var Sb=k2(Gie);Zr=new Sb(1);const pt=Sb;function Zie(e){return tse(e)||ese(e)||Jie(e)||Qie()}function Qie(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jie(e,t){if(e){if(typeof e=="string")return jv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jv(e,t)}}function ese(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function tse(e){if(Array.isArray(e))return jv(e)}function jv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rse=function(t){return t},T2={},D2=function(t){return t===T2},uN=function(t){return function r(){return arguments.length===0||arguments.length===1&&D2(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},nse=function e(t,r){return t===1?r:uN(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(c){return c!==T2}).length;return o>=t?r.apply(void 0,a):e(t-o,uN(function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var d=a.map(function(f){return D2(f)?l.shift():f});return r.apply(void 0,Zie(d).concat(l))}))})},Tm=function(t){return nse(t.length,t)},Nv=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},ase=Tm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ise=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return rse;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(c,l){return l(c)},i.apply(void 0,arguments))}},Sv=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},M2=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(c,l){return c===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function sse(e){var t;return e===0?t=1:t=Math.floor(new pt(e).abs().log(10).toNumber())+1,t}function ose(e,t,r){for(var n=new pt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var cse=Tm(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),lse=Tm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),use=Tm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Dm={rangeStep:ose,getDigitCount:sse,interpolateNumber:cse,uninterpolateNumber:lse,uninterpolateTruncation:use};function Av(e){return hse(e)||fse(e)||I2(e)||dse()}function dse(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fse(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function hse(e){if(Array.isArray(e))return _v(e)}function ql(e,t){return gse(e)||pse(e,t)||I2(e,t)||mse()}function mse(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I2(e,t){if(e){if(typeof e=="string")return _v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _v(e,t)}}function _v(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pse(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function gse(e){if(Array.isArray(e))return e}function $2(e){var t=ql(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function R2(e,t,r){if(e.lte(0))return new pt(0);var n=Dm.getDigitCount(e.toNumber()),a=new pt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,c=new pt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),l=c.mul(a);return t?l:new pt(Math.ceil(l))}function vse(e,t,r){var n=1,a=new pt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new pt(10).pow(Dm.getDigitCount(e)-1),a=new pt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new pt(Math.floor(e)))}else e===0?a=new pt(Math.floor((t-1)/2)):r||(a=new pt(Math.floor(e)));var o=Math.floor((t-1)/2),c=ise(ase(function(l){return a.add(new pt(l-o).mul(n)).toNumber()}),Nv);return c(0,t)}function L2(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var i=R2(new pt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new pt(0):(o=new pt(e).add(t).div(2),o=o.sub(new pt(o).mod(i)));var c=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new pt(t).sub(o).div(i).toNumber()),u=c+l+1;return u>r?L2(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,c=t>0?c:c+(r-u)),{step:i,tickMin:o.sub(new pt(c).mul(i)),tickMax:o.add(new pt(l).mul(i))})}function yse(e){var t=ql(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),c=$2([r,n]),l=ql(c,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Av(Nv(0,a-1).map(function(){return 1/0}))):[].concat(Av(Nv(0,a-1).map(function(){return-1/0})),[d]);return r>n?Sv(f):f}if(u===d)return vse(u,a,i);var h=L2(u,d,o,i),m=h.step,v=h.tickMin,p=h.tickMax,g=Dm.rangeStep(v,p.add(new pt(.1).mul(m)),m);return r>n?Sv(g):g}function xse(e,t){var r=ql(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=$2([n,a]),c=ql(o,2),l=c[0],u=c[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(t,2),f=R2(new pt(u).sub(l).div(d-1),i,0),h=[].concat(Av(Dm.rangeStep(new pt(l),new pt(u).sub(new pt(.99).mul(f)),f)),[u]);return n>a?Sv(h):h}var bse=M2(yse),wse=M2(xse),jse="Invariant failed";function xs(e,t){throw new Error(jse)}var Nse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}function Sse(e,t){return Cse(e)||Pse(e,t)||_se(e,t)||Ase()}function Ase(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _se(e,t){if(e){if(typeof e=="string")return dN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dN(e,t)}}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pse(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function Cse(e){if(Array.isArray(e))return e}function Ose(e,t){if(e==null)return{};var r=Ese(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ese(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z2(n.key),n)}}function Dse(e,t,r){return t&&Tse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mse(e,t,r){return t=Ff(t),Ise(e,F2()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function Ise(e,t){if(t&&(Lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $se(e)}function $se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(F2=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function Rse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pv(e,t)}function Pv(e,t){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pv(e,t)}function B2(e,t,r){return t=z2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z2(e){var t=Lse(e,"string");return Lo(t)=="symbol"?t:t+""}function Lse(e,t){if(Lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mm=function(e){function t(){return kse(this,t),Mse(this,t,arguments)}return Rse(t,e),Dse(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,c=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Ose(n,Nse),m=Ee(h,!1);this.props.direction==="x"&&d.type!=="number"&&xs();var v=l.map(function(p){var g=u(p,c),b=g.x,x=g.y,j=g.value,N=g.errorVal;if(!N)return null;var w=[],S,P;if(Array.isArray(N)){var k=Sse(N,2);S=k[0],P=k[1]}else S=P=N;if(i==="vertical"){var T=d.scale,E=x+a,_=E+o,O=E-o,C=T(j-S),R=T(j+P);w.push({x1:R,y1:_,x2:R,y2:O}),w.push({x1:C,y1:E,x2:R,y2:E}),w.push({x1:C,y1:_,x2:C,y2:O})}else if(i==="horizontal"){var I=f.scale,F=b+a,B=F-o,L=F+o,z=I(j-S),U=I(j+P);w.push({x1:B,y1:U,x2:L,y2:U}),w.push({x1:F,y1:z,x2:F,y2:U}),w.push({x1:B,y1:z,x2:L,y2:z})}return M.createElement(et,Lf({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),w.map(function(Z){return M.createElement("line",Lf({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return M.createElement(et,{className:"recharts-errorBars"},v)}}])}(M.Component);B2(Mm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});B2(Mm,"displayName","ErrorBar");function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){Fse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fse(e,t,r){return t=Bse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bse(e){var t=zse(e,"string");return Kl(t)=="symbol"?t:t+""}function zse(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U2=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=qr(r,es);if(!o)return null;var c=es.defaultProps,l=c!==void 0?Ei(Ei({},c),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Ei(Ei({},h),f.props):{},v=m.dataKey,p=m.name,g=m.legendType,b=m.hide;return{inactive:b,dataKey:v,type:l.iconType||g||"square",color:Ab(f),value:p||v,payload:m}}),Ei(Ei(Ei({},l),es.getWithHeight(o,a)),{},{payload:u,item:o})};function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function hN(e){return Hse(e)||Vse(e)||Wse(e)||Use()}function Use(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wse(e,t){if(e){if(typeof e=="string")return Cv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cv(e,t)}}function Vse(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hse(e){if(Array.isArray(e))return Cv(e)}function Cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){no(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function no(e,t,r){return t=qse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qse(e){var t=Kse(e,"string");return Gl(t)=="symbol"?t:t+""}function Kse(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t,r){return qe(e)||qe(t)?r:ir(t)?Jr(e,t,r):De(t)?t(e):r}function cl(e,t,r,n){var a=Vie(e,function(c){return ar(c,t)});if(r==="number"){var i=a.filter(function(c){return oe(c)||parseFloat(c)});return i.length?[km(i),si(i)]:[1/0,-1/0]}var o=n?a.filter(function(c){return!qe(c)}):a;return o.map(function(c){return ir(c)||c instanceof Date?c:""})}var Gse=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<c;u++){var d=u>0?a[u-1].coordinate:a[c-1].coordinate,f=a[u].coordinate,h=u>=c-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Er(f-d)!==Er(h-f)){var v=[];if(Er(h-f)===Er(l[1]-l[0])){m=h;var p=f+l[1]-l[0];v[0]=Math.min(p,(p+d)/2),v[1]=Math.max(p,(p+d)/2)}else{m=d;var g=h+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var x=Math.min(d,h),j=Math.max(d,h);if(t>(x+f)/2&&t<=(j+f)/2){o=a[u].index;break}}}else for(var N=0;N<c;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<c-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===c-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},Ab=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},t.type.defaultProps),t.props):t.props,o=i.stroke,c=i.fill,l;switch(a){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:c;break;default:l=c;break}return l},Yse=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},c=Object.keys(i),l=0,u=c.length;l<u;l++)for(var d=i[c[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],p=v.items,g=v.cateAxisId,b=p.filter(function(P){return _a(P.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,j=x!==void 0?Mt(Mt({},x),b[0].props):b[0].props,N=j.barSize,w=j[g];o[w]||(o[w]=[]);var S=qe(N)?r:N;o[w].push({item:b[0],stackList:b.slice(1),barSize:qe(S)?void 0:kr(S,n,0)})}}return o},Xse=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,c=t.maxBarSize,l=o.length;if(l<1)return null;var u=kr(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/l,v=o.reduce(function(N,w){return N+w.barSize||0},0);v+=(l-1)*u,v>=a&&(v-=(l-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=l*m);var p=(a-v)/2>>0,g={offset:p-u,size:0};d=o.reduce(function(N,w){var S={item:w.item,position:{offset:g.offset+g.size+u,size:h?m:w.barSize}},P=[].concat(hN(N),[S]);return g=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){P.push({item:k,position:g})}),P},f)}else{var b=kr(n,a,0,!0);a-2*b-(l-1)*u<=0&&(u=0);var x=(a-2*b-(l-1)*u)/l;x>1&&(x>>=0);var j=c===+c?Math.min(x,c):x;d=o.reduce(function(N,w,S){var P=[].concat(hN(N),[{item:w.item,position:{offset:b+(x+u)*S+(x-j)/2,size:j}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){P.push({item:k,position:P[P.length-1].position})}),P},f)}return d},Zse=function(t,r,n,a){var i=n.children,o=n.width,c=n.margin,l=o-(c.left||0)-(c.right||0),u=U2({children:i,legendWidth:l});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&m!=="center"&&oe(t[m]))return Mt(Mt({},t),{},no({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&v!=="middle"&&oe(t[v]))return Mt(Mt({},t),{},no({},v,t[v]+(h||0)))}return t},Qse=function(t,r,n){return qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},W2=function(t,r,n,a,i){var o=r.props.children,c=pn(o,Mm).filter(function(u){return Qse(a,i,u.props.direction)});if(c&&c.length){var l=c.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=ar(d,n);if(qe(f))return u;var h=Array.isArray(f)?[km(f),si(f)]:[f,f],m=l.reduce(function(v,p){var g=ar(d,p,0),b=h[0]-Math.abs(Array.isArray(g)?g[0]:g),x=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Jse=function(t,r,n,a,i){var o=r.map(function(c){return W2(t,c,n,i,a)}).filter(function(c){return!qe(c)});return o&&o.length?o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},V2=function(t,r,n,a,i){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&W2(t,l,u,a)||cl(t,u,n,i)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var c={};return o.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)c[u[d]]||(c[u[d]]=!0,l.push(u[d]));return l},[])},H2=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},q2=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,o,c=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(o=!0),l.coordinate});return i||c.push(r),o||c.push(n),c},Sa=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,c=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Er(c[0]-c[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Nc(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Gp=new WeakMap,pd=function(t,r){if(typeof r!="function")return t;Gp.has(t)||Gp.set(t,new WeakMap);var n=Gp.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},K2=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,c=t.axisType;if(a==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Bl(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Df(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ol(),realScaleType:"point"}:i==="category"?{scale:Bl(),realScaleType:"band"}:{scale:Df(),realScaleType:"linear"};if(ps(a)){var l="scale".concat(gm(a));return{scale:(oN[l]||ol)(),realScaleType:oN[l]?l:"point"}}return De(a)?{scale:a}:{scale:ol(),realScaleType:"point"}},pN=1e-4,G2=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-pN,o=Math.max(a[0],a[1])+pN,c=t(r[0]),l=t(r[n-1]);(c<i||c>o||l<i||l>o)&&t.domain([r[0],r[n-1]])}},eoe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},toe=function(t,r){if(!r||r.length!==2||!oe(r[0])||!oe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!oe(t[0])||t[0]<n)&&(i[0]=n),(!oe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},roe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,c=0;c<r;++c){var l=Nc(t[c][n][1])?t[c][n][0]:t[c][n][1];l>=0?(t[c][n][0]=i,t[c][n][1]=i+l,i=t[c][n][1]):(t[c][n][0]=o,t[c][n][1]=o+l,o=t[c][n][1])}},noe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var c=Nc(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},aoe={sign:roe,expand:NK,none:Oo,silhouette:SK,wiggle:AK,positive:noe},ioe=function(t,r,n){var a=r.map(function(c){return c.props.dataKey}),i=aoe[n],o=jK().keys(a).value(function(c,l){return+ar(c,l,0)}).order(Qg).offset(i);return o(t)},soe=function(t,r,n,a,i,o){if(!t)return null;var c=o?r.reverse():r,l={},u=c.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Mt(Mt({},h.type.defaultProps),h.props):h.props,p=v.stackId,g=v.hide;if(g)return f;var b=v[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(ir(p)){var j=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(h),x.hasStack=!0,x.stackGroups[p]=j}else x.stackGroups[Sc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Mt(Mt({},f),{},no({},b,x))},l),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,g){var b=m.stackGroups[g];return Mt(Mt({},p),{},no({},g,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:ioe(t,b.items,i)}))},v)}return Mt(Mt({},f),{},no({},h,m))},d)},Y2=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,c=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=bse(u,i,c);return t.domain([km(d),si(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=wse(f,i,c);return{niceTicks:h}}return null};function gN(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qe(a[t.dataKey])){var c=ff(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=ar(a,qe(o)?t.dataKey:o);return qe(l)?null:t.scale(l)}var vN=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+a:null;var l=ar(o,r.dataKey,r.domain[c]);return qe(l)?null:r.scale(l)-i/2+a},ooe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},coe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ir(i)){var o=r[i];if(o){var c=o.items.indexOf(t);return c>=0?o.stackedData[c]:null}}return null},loe=function(t){return t.reduce(function(r,n){return[km(n.concat([r[0]]).filter(oe)),si(n.concat([r[1]]).filter(oe))]},[1/0,-1/0])},X2=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],c=o.stackedData,l=c.reduce(function(u,d){var f=loe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},yN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ov=function(t,r,n){if(De(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(oe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(yN.test(t[0])){var i=+yN.exec(t[0])[1];a[0]=r[0]-i}else De(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(oe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(xN.test(t[1])){var o=+xN.exec(t[1])[1];a[1]=r[1]+o}else De(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Bf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=Jx(r,function(f){return f.coordinate}),o=1/0,c=1,l=i.length;c<l;c++){var u=i[c],d=i[c-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},bN=function(t,r,n){return!t||!t.length||Ro(t,Jr(n,"type.defaultProps.domain"))?r:t},Z2=function(t,r){var n=t.type.defaultProps?Mt(Mt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,c=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Mt(Mt({},Ee(t,!1)),{},{dataKey:a,unit:o,formatter:c,name:i||a,color:Ab(t),value:ar(r,a),type:l,payload:r,chartType:u,hide:d})};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){Q2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q2(e,t,r){return t=uoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uoe(e){var t=doe(e,"string");return Yl(t)=="symbol"?t:t+""}function doe(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function foe(e,t){return goe(e)||poe(e,t)||moe(e,t)||hoe()}function hoe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function moe(e,t){if(e){if(typeof e=="string")return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function poe(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function goe(e){if(Array.isArray(e))return e}var zf=Math.PI/180,voe=function(t){return t*180/Math.PI},Nt=function(t,r,n,a){return{x:t+Math.cos(-zf*a)*n,y:r+Math.sin(-zf*a)*n}},J2=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},yoe=function(t,r,n,a,i){var o=t.width,c=t.height,l=t.startAngle,u=t.endAngle,d=kr(t.cx,o,o/2),f=kr(t.cy,c,c/2),h=J2(o,c,n),m=kr(t.innerRadius,h,0),v=kr(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(g,b){var x=r[b],j=x.domain,N=x.reversed,w;if(qe(x.range))a==="angleAxis"?w=[l,u]:a==="radiusAxis"&&(w=[m,v]),N&&(w=[w[1],w[0]]);else{w=x.range;var S=w,P=foe(S,2);l=P[0],u=P[1]}var k=K2(x,i),T=k.realScaleType,E=k.scale;E.domain(j).range(w),G2(E);var _=Y2(E,ba(ba({},x),{},{realScaleType:T})),O=ba(ba(ba({},x),_),{},{range:w,radius:v,realScaleType:T,scale:E,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:l,endAngle:u});return ba(ba({},g),{},Q2({},b,O))},{})},xoe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},boe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,c=xoe({x:n,y:a},{x:i,y:o});if(c<=0)return{radius:c};var l=(n-i)/c,u=Math.acos(l);return a>o&&(u=2*Math.PI-u),{radius:c,angle:voe(u),angleInRadian:u}},woe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},joe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),c=Math.min(i,o);return t+c*360},NN=function(t,r){var n=t.x,a=t.y,i=boe({x:n,y:a},r),o=i.radius,c=i.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var d=woe(r),f=d.startAngle,h=d.endAngle,m=c,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?ba(ba({},r),{},{radius:o,angle:joe(m,r)}):null},eD=function(t){return!y.isValidElement(t)&&!De(t)&&typeof t!="boolean"?t.className:""};function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}var Noe=["offset"];function Soe(e){return Coe(e)||Poe(e)||_oe(e)||Aoe()}function Aoe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _oe(e,t){if(e){if(typeof e=="string")return Ev(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ev(e,t)}}function Poe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Coe(e){if(Array.isArray(e))return Ev(e)}function Ev(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ooe(e,t){if(e==null)return{};var r=Eoe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){koe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function koe(e,t,r){return t=Toe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Toe(e){var t=Doe(e,"string");return Xl(t)=="symbol"?t:t+""}function Doe(e,t){if(Xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}var Moe=function(t){var r=t.value,n=t.formatter,a=qe(t.children)?r:t.children;return De(n)?n(a):a},Ioe=function(t,r){var n=Er(r-t),a=Math.min(Math.abs(r-t),360);return n*a},$oe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,c=t.className,l=i,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,v=l.endAngle,p=l.clockWise,g=(f+h)/2,b=Ioe(m,v),x=b>=0?1:-1,j,N;a==="insideStart"?(j=m+x*o,N=p):a==="insideEnd"?(j=v-x*o,N=!p):a==="end"&&(j=v+x*o,N=p),N=b<=0?N:!N;var w=Nt(u,d,g,j),S=Nt(u,d,g,j+(N?1:-1)*359),P="M".concat(w.x,",").concat(w.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(N?0:1,",\n    ").concat(S.x,",").concat(S.y),k=qe(t.id)?Sc("recharts-radial-line-"):t.id;return M.createElement("text",Zl({},n,{dominantBaseline:"central",className:He("recharts-radial-bar-label",c)}),M.createElement("defs",null,M.createElement("path",{id:k,d:P})),M.createElement("textPath",{xlinkHref:"#".concat(k)},r))},Roe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,c=i.cy,l=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Nt(o,c,u+n,h),v=m.x,p=m.y;return{x:v,y:p,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var g=(l+u)/2,b=Nt(o,c,g,h),x=b.x,j=b.y;return{x,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Loe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,c=o.x,l=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",v=f>0?"start":"end",p=u>=0?1:-1,g=p*a,b=p>0?"end":"start",x=p>0?"start":"end";if(i==="top"){var j={x:c+u/2,y:l-f*a,textAnchor:"middle",verticalAnchor:m};return Qt(Qt({},j),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:c+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return Qt(Qt({},N),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(i==="left"){var w={x:c-g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return Qt(Qt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:c+u+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Qt(Qt({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var P=n?{width:u,height:d}:{};return i==="insideLeft"?Qt({x:c+g,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},P):i==="insideRight"?Qt({x:c+u-g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideTop"?Qt({x:c+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},P):i==="insideBottom"?Qt({x:c+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},P):i==="insideTopLeft"?Qt({x:c+g,y:l+h,textAnchor:x,verticalAnchor:v},P):i==="insideTopRight"?Qt({x:c+u-g,y:l+h,textAnchor:b,verticalAnchor:v},P):i==="insideBottomLeft"?Qt({x:c+g,y:l+d-h,textAnchor:x,verticalAnchor:m},P):i==="insideBottomRight"?Qt({x:c+u-g,y:l+d-h,textAnchor:b,verticalAnchor:m},P):xc(i)&&(oe(i.x)||Ui(i.x))&&(oe(i.y)||Ui(i.y))?Qt({x:c+kr(i.x,u),y:l+kr(i.y,d),textAnchor:"end",verticalAnchor:"end"},P):Qt({x:c+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Foe=function(t){return"cx"in t&&oe(t.cx)};function lr(e){var t=e.offset,r=t===void 0?5:t,n=Ooe(e,Noe),a=Qt({offset:r},n),i=a.viewBox,o=a.position,c=a.value,l=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||qe(c)&&qe(l)&&!y.isValidElement(u)&&!De(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var m;if(De(u)){if(m=y.createElement(u,a),y.isValidElement(m))return m}else m=Moe(a);var v=Foe(i),p=Ee(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return $oe(a,m,p);var g=v?Roe(a):Loe(a);return M.createElement(vs,Zl({className:He("recharts-label",f)},p,g,{breakAll:h}),m)}lr.displayName="Label";var tD=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,c=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,v=t.left,p=t.width,g=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(oe(p)&&oe(g)){if(oe(f)&&oe(h))return{x:f,y:h,width:p,height:g};if(oe(m)&&oe(v))return{x:m,y:v,width:p,height:g}}return oe(f)&&oe(h)?{x:f,y:h,width:0,height:0}:oe(r)&&oe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||l||c||0,clockWise:b}:t.viewBox?t.viewBox:{}},Boe=function(t,r){return t?t===!0?M.createElement(lr,{key:"label-implicit",viewBox:r}):ir(t)?M.createElement(lr,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===lr?y.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(lr,{key:"label-implicit",content:t,viewBox:r}):De(t)?M.createElement(lr,{key:"label-implicit",content:t,viewBox:r}):xc(t)?M.createElement(lr,Zl({viewBox:r},t,{key:"label-implicit"})):null:null},zoe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=tD(t),o=pn(a,lr).map(function(l,u){return y.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var c=Boe(t.label,r||i);return[c].concat(Soe(o))};lr.parseViewBox=tD;lr.renderCallByParent=zoe;function Uoe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Woe=Uoe;const Voe=gt(Woe);function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}var Hoe=["valueAccessor"],qoe=["data","dataKey","clockWise","id","textBreakAll"];function Koe(e){return Zoe(e)||Xoe(e)||Yoe(e)||Goe()}function Goe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yoe(e,t){if(e){if(typeof e=="string")return kv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kv(e,t)}}function Xoe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zoe(e){if(Array.isArray(e))return kv(e)}function kv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uf.apply(this,arguments)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){Qoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qoe(e,t,r){return t=Joe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Joe(e){var t=ece(e,"string");return Ql(t)=="symbol"?t:t+""}function ece(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PN(e,t){if(e==null)return{};var r=tce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rce=function(t){return Array.isArray(t.value)?Voe(t.value):t.value};function Ca(e){var t=e.valueAccessor,r=t===void 0?rce:t,n=PN(e,Hoe),a=n.data,i=n.dataKey,o=n.clockWise,c=n.id,l=n.textBreakAll,u=PN(n,qoe);return!a||!a.length?null:M.createElement(et,{className:"recharts-label-list"},a.map(function(d,f){var h=qe(i)?r(d,f):ar(d&&d.payload,i),m=qe(c)?{}:{id:"".concat(c,"-").concat(f)};return M.createElement(lr,Uf({},Ee(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:lr.parseViewBox(qe(o)?d:_N(_N({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ca.displayName="LabelList";function nce(e,t){return e?e===!0?M.createElement(Ca,{key:"labelList-implicit",data:t}):M.isValidElement(e)||De(e)?M.createElement(Ca,{key:"labelList-implicit",data:t,content:e}):xc(e)?M.createElement(Ca,Uf({data:t},e,{key:"labelList-implicit"})):null:null}function ace(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=pn(n,Ca).map(function(o,c){return y.cloneElement(o,{data:t,key:"labelList-".concat(c)})});if(!r)return a;var i=nce(e.label,t);return[i].concat(Koe(a))}Ca.renderCallByParent=ace;function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ice(e,t,r){return t=sce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sce(e){var t=oce(e,"string");return Jl(t)=="symbol"?t:t+""}function oce(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cce=function(t,r){var n=Er(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},gd=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,c=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(c?1:-1)+a,f=Math.asin(l/d)/zf,h=u?i:i+o*f,m=Nt(r,n,d,h),v=Nt(r,n,a,h),p=u?i-o*f:i,g=Nt(r,n,d*Math.cos(f*zf),p);return{center:m,circleTangency:v,lineTangency:g,theta:f}},rD=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,c=t.endAngle,l=cce(o,c),u=o+l,d=Nt(r,n,i,o),f=Nt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(l)>180),",").concat(+(o>u),",\n    ").concat(f.x,",").concat(f.y,"\n  ");if(a>0){var m=Nt(r,n,a,o),v=Nt(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,"\n            A ").concat(a,",").concat(a,",0,\n            ").concat(+(Math.abs(l)>180),",").concat(+(o<=u),",\n            ").concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},lce=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Er(d-u),h=gd({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,v=h.lineTangency,p=h.theta,g=gd({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:l}),b=g.circleTangency,x=g.lineTangency,j=g.theta,N=l?Math.abs(u-d):Math.abs(u-d)-p-j;if(N<0)return c?"M ".concat(v.x,",").concat(v.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(o*2,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(-o*2,",0\n      "):rD({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,"\n  ");if(a>0){var S=gd({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=S.circleTangency,k=S.lineTangency,T=S.theta,E=gd({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),_=E.circleTangency,O=E.lineTangency,C=E.theta,R=l?Math.abs(u-d):Math.abs(u-d)-T-C;if(R<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(O.x,",").concat(O.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},uce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nD=function(t){var r=ON(ON({},uce),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=He("recharts-sector",h),v=o-i,p=kr(c,v,0,!0),g;return p>0&&Math.abs(d-f)<360?g=lce({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):g=rD({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",Tv({},Ee(r,!0),{className:m,d:g,role:"img"}))};function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){dce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dce(e,t,r){return t=fce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fce(e){var t=hce(e,"string");return eu(t)=="symbol"?t:t+""}function hce(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TN={curveBasisClosed:dK,curveBasisOpen:fK,curveBasis:uK,curveBumpX:Xq,curveBumpY:Zq,curveLinearClosed:hK,curveLinear:ym,curveMonotoneX:mK,curveMonotoneY:pK,curveNatural:gK,curveStep:vK,curveStepAfter:xK,curveStepBefore:yK},vd=function(t){return t.x===+t.x&&t.y===+t.y},qc=function(t){return t.x},Kc=function(t){return t.y},mce=function(t,r){if(De(t))return t;var n="curve".concat(gm(t));return(n==="curveMonotone"||n==="curveBump")&&r?TN["".concat(n).concat(r==="vertical"?"Y":"X")]:TN[n]||ym},pce=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,c=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=mce(n,c),f=u?i.filter(function(p){return vd(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return vd(p)}):o,v=f.map(function(p,g){return kN(kN({},p),{},{base:m[g]})});return c==="vertical"?h=od().y(Kc).x1(qc).x0(function(p){return p.base.x}):h=od().x(qc).y1(Kc).y0(function(p){return p.base.y}),h.defined(vd).curve(d),h(v)}return c==="vertical"&&oe(o)?h=od().y(Kc).x1(qc).x0(o):oe(o)?h=od().x(qc).y1(Kc).y0(o):h=Zk().x(qc).y(Kc),h.defined(vd).curve(d),h(f)},ao=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?pce(t):a;return y.createElement("path",Dv({},Ee(t,!1),hf(t),{className:He("recharts-curve",r),d:o,ref:i}))},aD={exports:{}},gce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vce=gce,yce=vce;function iD(){}function sD(){}sD.resetWarningCache=iD;var xce=function(){function e(n,a,i,o,c,l){if(l!==yce){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sD,resetWarningCache:iD};return r.PropTypes=r,r};aD.exports=xce();var bce=aD.exports;const ut=gt(bce);var wce=Object.getOwnPropertyNames,jce=Object.getOwnPropertySymbols,Nce=Object.prototype.hasOwnProperty;function DN(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function yd(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),c=i.get(n);if(o&&c)return o===n&&c===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function MN(e){return wce(e).concat(jce(e))}var Sce=Object.hasOwn||function(e,t){return Nce.call(e,t)};function Ps(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Ace="__v",_ce="__o",Pce="_owner",IN=Object.getOwnPropertyDescriptor,$N=Object.keys;function Cce(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Oce(e,t){return Ps(e.getTime(),t.getTime())}function Ece(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function kce(e,t){return e===t}function RN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,c,l=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(c=u.next())&&!c.done;){if(a[f]){f++;continue}var h=o.value,m=c.value;if(r.equals(h[0],m[0],l,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;l++}return!0}var Tce=Ps;function Dce(e,t,r){var n=$N(e),a=n.length;if($N(t).length!==a)return!1;for(;a-- >0;)if(!oD(e,t,r,n[a]))return!1;return!0}function Gc(e,t,r){var n=MN(e),a=n.length;if(MN(t).length!==a)return!1;for(var i,o,c;a-- >0;)if(i=n[a],!oD(e,t,r,i)||(o=IN(e,i),c=IN(t,i),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function Mce(e,t){return Ps(e.valueOf(),t.valueOf())}function Ice(e,t){return e.source===t.source&&e.flags===t.flags}function LN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,c;(o=i.next())&&!o.done;){for(var l=t.values(),u=!1,d=0;(c=l.next())&&!c.done;){if(!a[d]&&r.equals(o.value,c.value,o.value,c.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function $ce(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Rce(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function oD(e,t,r,n){return(n===Pce||n===_ce||n===Ace)&&(e.$$typeof||t.$$typeof)?!0:Sce(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Lce="[object Arguments]",Fce="[object Boolean]",Bce="[object Date]",zce="[object Error]",Uce="[object Map]",Wce="[object Number]",Vce="[object Object]",Hce="[object RegExp]",qce="[object Set]",Kce="[object String]",Gce="[object URL]",Yce=Array.isArray,FN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BN=Object.assign,Xce=Object.prototype.toString.call.bind(Object.prototype.toString);function Zce(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,p,g){if(v===p)return!0;if(v==null||p==null)return!1;var b=typeof v;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?o(v,p,g):b==="function"?a(v,p,g):!1;var x=v.constructor;if(x!==p.constructor)return!1;if(x===Object)return c(v,p,g);if(Yce(v))return t(v,p,g);if(FN!=null&&FN(v))return f(v,p,g);if(x===Date)return r(v,p,g);if(x===RegExp)return u(v,p,g);if(x===Map)return i(v,p,g);if(x===Set)return d(v,p,g);var j=Xce(v);return j===Bce?r(v,p,g):j===Hce?u(v,p,g):j===Uce?i(v,p,g):j===qce?d(v,p,g):j===Vce?typeof v.then!="function"&&typeof p.then!="function"&&c(v,p,g):j===Gce?h(v,p,g):j===zce?n(v,p,g):j===Lce?c(v,p,g):j===Fce||j===Wce||j===Kce?l(v,p,g):!1}}function Qce(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Gc:Cce,areDatesEqual:Oce,areErrorsEqual:Ece,areFunctionsEqual:kce,areMapsEqual:n?DN(RN,Gc):RN,areNumbersEqual:Tce,areObjectsEqual:n?Gc:Dce,arePrimitiveWrappersEqual:Mce,areRegExpsEqual:Ice,areSetsEqual:n?DN(LN,Gc):LN,areTypedArraysEqual:n?Gc:$ce,areUrlsEqual:Rce};if(r&&(a=BN({},a,r(a))),t){var i=yd(a.areArraysEqual),o=yd(a.areMapsEqual),c=yd(a.areObjectsEqual),l=yd(a.areSetsEqual);a=BN({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:l})}return a}function Jce(e){return function(t,r,n,a,i,o,c){return e(t,r,c)}}function ele(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(l,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,o)}}var tle=Pi();Pi({strict:!0});Pi({circular:!0});Pi({circular:!0,strict:!0});Pi({createInternalComparator:function(){return Ps}});Pi({strict:!0,createInternalComparator:function(){return Ps}});Pi({circular:!0,createInternalComparator:function(){return Ps}});Pi({circular:!0,createInternalComparator:function(){return Ps},strict:!0});function Pi(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,c=Qce(e),l=Zce(c),u=n?n(l):Jce(l);return ele({circular:r,comparator:l,createState:a,equals:u,strict:o})}function rle(e){typeof requestAnimationFrame!="undefined"&&requestAnimationFrame(e)}function zN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):rle(a)};requestAnimationFrame(n)}function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(e)}function nle(e){return ole(e)||sle(e)||ile(e)||ale()}function ale(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ile(e,t){if(e){if(typeof e=="string")return UN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UN(e,t)}}function UN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sle(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ole(e){if(Array.isArray(e))return e}function cle(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,c=nle(o),l=c[0],u=c.slice(1);if(typeof l=="number"){zN(a.bind(null,u),l);return}a(l),zN(a.bind(null,u));return}Mv(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){cD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cD(e,t,r){return t=lle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lle(e){var t=ule(e,"string");return tu(t)==="symbol"?t:String(t)}function ule(e,t){if(tu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dle=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},fle=function(t){return t},hle=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ll=function(t,r){return Object.keys(r).reduce(function(n,a){return VN(VN({},n),{},cD({},a,t(a,r[a])))},{})},HN=function(t,r,n){return t.map(function(a){return"".concat(hle(a)," ").concat(r,"ms ").concat(n)}).join(",")};function mle(e,t){return vle(e)||gle(e,t)||lD(e,t)||ple()}function ple(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gle(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function vle(e){if(Array.isArray(e))return e}function yle(e){return wle(e)||ble(e)||lD(e)||xle()}function xle(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lD(e,t){if(e){if(typeof e=="string")return Iv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iv(e,t)}}function ble(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wle(e){if(Array.isArray(e))return Iv(e)}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wf=1e-4,uD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},dD=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},qN=function(t,r){return function(n){var a=uD(t,r);return dD(a,n)}},jle=function(t,r){return function(n){var a=uD(t,r),i=[].concat(yle(a.map(function(o,c){return o*c}).slice(1)),[0]);return dD(i,n)}},KN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,c=1;break;case"ease":a=.25,i=.1,o=.25,c=1;break;case"ease-in":a=.42,i=0,o=1,c=1;break;case"ease-out":a=.42,i=0,o=.58,c=1;break;case"ease-in-out":a=0,i=0,o=.58,c=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=mle(u,4);a=d[0],i=d[1],o=d[2],c=d[3]}}}var f=qN(a,o),h=qN(i,c),m=jle(a,o),v=function(b){return b>1?1:b<0?0:b},p=function(b){for(var x=b>1?1:b,j=x,N=0;N<8;++N){var w=f(j)-x,S=m(j);if(Math.abs(w-x)<Wf||S<Wf)return h(j);j=v(j-w/S)}return h(j)};return p.isStepper=!1,p},Nle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,c=o===void 0?17:o,l=function(d,f,h){var m=-(d-f)*n,v=h*i,p=h+(m-v)*c/1e3,g=h*c/1e3+d;return Math.abs(g-f)<Wf&&Math.abs(p)<Wf?[f,0]:[g,p]};return l.isStepper=!0,l.dt=c,l},Sle=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KN(a);case"spring":return Nle();default:if(a.split("(")[0]==="cubic-bezier")return KN(a)}return typeof a=="function"?a:null};function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function GN(e){return Ple(e)||_le(e)||fD(e)||Ale()}function Ale(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _le(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ple(e){if(Array.isArray(e))return Rv(e)}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){$v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $v(e,t,r){return t=Cle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cle(e){var t=Ole(e,"string");return ru(t)==="symbol"?t:String(t)}function Ole(e,t){if(ru(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ele(e,t){return Dle(e)||Tle(e,t)||fD(e,t)||kle()}function kle(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fD(e,t){if(e){if(typeof e=="string")return Rv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rv(e,t)}}function Rv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tle(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function Dle(e){if(Array.isArray(e))return e}var Vf=function(t,r,n){return t+(r-t)*n},Lv=function(t){var r=t.from,n=t.to;return r!==n},Mle=function e(t,r,n){var a=ll(function(i,o){if(Lv(o)){var c=t(o.from,o.to,o.velocity),l=Ele(c,2),u=l[0],d=l[1];return pr(pr({},o),{},{from:u,velocity:d})}return o},r);return n<1?ll(function(i,o){return Lv(o)?pr(pr({},o),{},{velocity:Vf(o.velocity,a[i].velocity,n),from:Vf(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const Ile=function(e,t,r,n,a){var i=dle(e,t),o=i.reduce(function(g,b){return pr(pr({},g),{},$v({},b,[e[b],t[b]]))},{}),c=i.reduce(function(g,b){return pr(pr({},g),{},$v({},b,{from:e[b],velocity:0,to:t[b]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return ll(function(b,x){return x.from},c)},m=function(){return!Object.values(c).filter(Lv).length},v=function(b){u||(u=b);var x=b-u,j=x/r.dt;c=Mle(r,c,j),a(pr(pr(pr({},e),t),h())),u=b,m()||(l=requestAnimationFrame(f))},p=function(b){d||(d=b);var x=(b-d)/n,j=ll(function(w,S){return Vf.apply(void 0,GN(S).concat([r(x)]))},o);if(a(pr(pr(pr({},e),t),j)),x<1)l=requestAnimationFrame(f);else{var N=ll(function(w,S){return Vf.apply(void 0,GN(S).concat([r(1)]))},o);a(pr(pr(pr({},e),t),N))}};return f=r.isStepper?v:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}var $le=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rle(e,t){if(e==null)return{};var r=Lle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lle(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Yp(e){return Ule(e)||zle(e)||Ble(e)||Fle()}function Fle(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ble(e,t){if(e){if(typeof e=="string")return Fv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fv(e,t)}}function zle(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ule(e){if(Array.isArray(e))return Fv(e)}function Fv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){Jc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jc(e,t,r){return t=hD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hD(n.key),n)}}function Hle(e,t,r){return t&&Vle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hD(e){var t=qle(e,"string");return Fo(t)==="symbol"?t:String(t)}function qle(e,t){if(Fo(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bv(e,t)}function Bv(e,t){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bv(e,t)}function Gle(e){var t=Yle();return function(){var n=Hf(e),a;if(t){var i=Hf(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return zv(this,a)}}function zv(e,t){if(t&&(Fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uv(e)}function Uv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yle(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(e)}var sa=function(e){Kle(r,e);var t=Gle(r);function r(n,a){var i;Wle(this,r),i=t.call(this,n,a);var o=i.props,c=o.isActive,l=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Uv(i)),i.changeStyle=i.changeStyle.bind(Uv(i)),!c||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),zv(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},zv(i);i.state={style:l?Jc({},l,u):u}}else i.state={style:{}};return i}return Hle(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,c=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(c){if(!o){var m={style:l?Jc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(tle(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?f:a.to;if(this.state&&h){var g={style:l?Jc({},l,p):p};(l&&h[l]!==p||!l&&h!==p)&&this.setState(g)}this.runAnimation(Nn(Nn({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,c=a.to,l=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=Ile(o,c,Sle(u),l,this.changeStyle),v=function(){i.stopJSAnimation=m()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,c=a.begin,l=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,g,b){if(b===0)return p;var x=g.duration,j=g.easing,N=j===void 0?"ease":j,w=g.style,S=g.properties,P=g.onAnimationEnd,k=b>0?o[b-1]:g,T=S||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(Yp(p),[i.runJSAnimation.bind(i,{from:k.style,to:w,duration:x,easing:N}),x]);var E=HN(T,x,N),_=Nn(Nn(Nn({},k.style),w),{},{transition:E});return[].concat(Yp(p),[_,x,P]).filter(fle)};return this.manager.start([l].concat(Yp(o.reduce(m,[d,Math.max(h,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=cle());var i=a.begin,o=a.duration,c=a.attributeName,l=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=c?Jc({},c,l):l,g=HN(Object.keys(p),o,u);v.start([d,i,Nn(Nn({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=Rle(a,$le),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!c||u===0||o<=0)return i;var f=function(m){var v=m.props,p=v.style,g=p===void 0?{}:p,b=v.className,x=y.cloneElement(m,Nn(Nn({},l),{},{style:Nn(Nn({},g),d),className:b}));return x};return u===1?f(y.Children.only(i)):M.createElement("div",null,y.Children.map(i,function(h){return f(h)}))}}]),r}(y.PureComponent);sa.displayName="Animate";sa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};sa.propTypes={from:ut.oneOfType([ut.object,ut.string]),to:ut.oneOfType([ut.object,ut.string]),attributeName:ut.string,duration:ut.number,begin:ut.number,easing:ut.oneOfType([ut.string,ut.func]),steps:ut.arrayOf(ut.shape({duration:ut.number.isRequired,style:ut.object.isRequired,easing:ut.oneOfType([ut.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ut.func]),properties:ut.arrayOf("string"),onAnimationEnd:ut.func})),children:ut.oneOfType([ut.node,ut.func]),isActive:ut.bool,canBegin:ut.bool,onAnimationEnd:ut.func,shouldReAnimate:ut.bool,onAnimationStart:ut.func,onAnimationReStart:ut.func};function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(this,arguments)}function Xle(e,t){return eue(e)||Jle(e,t)||Qle(e,t)||Zle()}function Zle(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qle(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jle(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function eue(e){if(Array.isArray(e))return e}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){tue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tue(e,t,r){return t=rue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return nu(t)=="symbol"?t:t+""}function nue(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eS=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+c*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,",\n        ").concat(t+n,",").concat(r+c*f[1])),d+="L ".concat(t+n,",").concat(r+a-c*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,",\n        ").concat(t+n-l*f[2],",").concat(r+a)),d+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,",\n        ").concat(t,",").concat(r+a-c*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+c*v,"\n            A ").concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(r,"\n            L ").concat(t+n-l*v,",").concat(r,"\n            A ").concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+c*v,"\n            L ").concat(t+n,",").concat(r+a-c*v,"\n            A ").concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(r+a,"\n            L ").concat(t+l*v,",").concat(r+a,"\n            A ").concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-c*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},aue=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,c=r.width,l=r.height;if(Math.abs(c)>0&&Math.abs(l)>0){var u=Math.min(i,i+c),d=Math.max(i,i+c),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=d&&a>=f&&a<=h}return!1},iue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_b=function(t){var r=JN(JN({},iue),t),n=y.useRef(),a=y.useState(-1),i=Xle(a,2),o=i[0],c=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&c(N)}catch(w){}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,v=r.animationEasing,p=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=He("recharts-rectangle",m);return x?M.createElement(sa,{canBegin:o>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:p,animationEasing:v,isActive:x},function(N){var w=N.width,S=N.height,P=N.x,k=N.y;return M.createElement(sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:b,easing:v},M.createElement("path",qf({},Ee(r,!0),{className:j,d:eS(P,k,w,S,h),ref:n})))}):M.createElement("path",qf({},Ee(r,!0),{className:j,d:eS(l,u,d,f,h)}))},sue=["points","className","baseLinePoints","connectNulls"];function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vs.apply(this,arguments)}function oue(e,t){if(e==null)return{};var r=cue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tS(e){return fue(e)||due(e)||uue(e)||lue()}function lue(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function uue(e,t){if(e){if(typeof e=="string")return Wv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wv(e,t)}}function due(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fue(e){if(Array.isArray(e))return Wv(e)}function Wv(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rS=function(t){return t&&t.x===+t.x&&t.y===+t.y},hue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){rS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),rS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ul=function(t,r){var n=hue(t);r&&(n=[n.reduce(function(i,o){return[].concat(tS(i),tS(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,c,l){return"".concat(o).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},mue=function(t,r,n){var a=ul(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ul(r.reverse(),n).slice(1))},pue=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=oue(t,sue);if(!r||!r.length)return null;var c=He("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&o.stroke!=="none",u=mue(r,a,i);return M.createElement("g",{className:c},M.createElement("path",Vs({},Ee(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?M.createElement("path",Vs({},Ee(o,!0),{fill:"none",d:ul(r,i)})):null,l?M.createElement("path",Vs({},Ee(o,!0),{fill:"none",d:ul(a,i)})):null)}var d=ul(r,i);return M.createElement("path",Vs({},Ee(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:c,d}))};function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(this,arguments)}var Im=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=He("recharts-dot",i);return r===+r&&n===+n&&a===+a?y.createElement("circle",Vv({},Ee(t,!1),hf(t),{className:o,cx:r,cy:n,r:a})):null};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}var gue=["x","y","top","left","width","height","className"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(this,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){yue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yue(e,t,r){return t=xue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xue(e){var t=bue(e,"string");return au(t)=="symbol"?t:t+""}function bue(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wue(e,t){if(e==null)return{};var r=jue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nue=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Sue=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,c=o===void 0?0:o,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,v=t.className,p=wue(t,gue),g=vue({x:n,y:i,top:c,left:u,width:f,height:m},p);return!oe(n)||!oe(i)||!oe(f)||!oe(m)||!oe(c)||!oe(u)?null:M.createElement("path",Hv({},Ee(g,!0),{className:He("recharts-cross",v),d:Nue(n,i,f,m,c,u)}))},Aue=Em,_ue=A2,Pue=ua;function Cue(e,t){return e&&e.length?Aue(e,Pue(t),_ue):void 0}var Oue=Cue;const Eue=gt(Oue);var kue=Em,Tue=ua,Due=_2;function Mue(e,t){return e&&e.length?kue(e,Tue(t),Due):void 0}var Iue=Mue;const $ue=gt(Iue);var Rue=["cx","cy","angle","ticks","axisLine"],Lue=["ticks","tick","angle","tickFormatter","stroke"];function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(this,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){$m(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iS(e,t){if(e==null)return{};var r=Fue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pD(n.key),n)}}function zue(e,t,r){return t&&sS(e.prototype,t),r&&sS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uue(e,t,r){return t=Kf(t),Wue(e,mD()?Reflect.construct(t,r||[],Kf(e).constructor):t.apply(e,r))}function Wue(e,t){if(t&&(Bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vue(e)}function Vue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mD=function(){return!!e})()}function Kf(e){return Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kf(e)}function Hue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qv(e,t)}function qv(e,t){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qv(e,t)}function $m(e,t,r){return t=pD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pD(e){var t=que(e,"string");return Bo(t)=="symbol"?t:t+""}function que(e,t){if(Bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rm=function(e){function t(){return Bue(this,t),Uue(this,t,arguments)}return Hue(t,e),zue(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,c=i.cx,l=i.cy;return Nt(c,l,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,c=n.ticks,l=Eue(c,function(d){return d.coordinate||0}),u=$ue(c,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,c=n.ticks,l=n.axisLine,u=iS(n,Rue),d=c.reduce(function(v,p){return[Math.min(v[0],p.coordinate),Math.max(v[1],p.coordinate)]},[1/0,-1/0]),f=Nt(a,i,d[0],o),h=Nt(a,i,d[1],o),m=ki(ki(ki({},Ee(u,!1)),{},{fill:"none"},Ee(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",dl({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,c=a.angle,l=a.tickFormatter,u=a.stroke,d=iS(a,Lue),f=this.getTickTextAnchor(),h=Ee(d,!1),m=Ee(o,!1),v=i.map(function(p,g){var b=n.getTickValueCoord(p),x=ki(ki(ki(ki({textAnchor:f,transform:"rotate(".concat(90-c,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:g},b),{},{payload:p});return M.createElement(et,dl({className:He("recharts-polar-radius-axis-tick",eD(o)),key:"tick-".concat(p.coordinate)},gs(n.props,p,g)),t.renderTickItem(o,x,l?l(p.value,g):p.value))});return M.createElement(et,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:M.createElement(et,{className:He("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),lr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):De(n)?o=n(a):o=M.createElement(vs,dl({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);$m(Rm,"displayName","PolarRadiusAxis");$m(Rm,"axisType","radiusAxis");$m(Rm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(this,arguments)}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){Lm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vD(n.key),n)}}function Gue(e,t,r){return t&&cS(e.prototype,t),r&&cS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yue(e,t,r){return t=Gf(t),Xue(e,gD()?Reflect.construct(t,r||[],Gf(e).constructor):t.apply(e,r))}function Xue(e,t){if(t&&(zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zue(e)}function Zue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gD=function(){return!!e})()}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(e)}function Que(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kv(e,t)}function Kv(e,t){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kv(e,t)}function Lm(e,t,r){return t=vD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vD(e){var t=Jue(e,"string");return zo(t)=="symbol"?t:t+""}function Jue(e,t){if(zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ede=Math.PI/180,lS=1e-5,Fm=function(e){function t(){return Kue(this,t),Yue(this,t,arguments)}return Que(t,e),Gue(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,c=a.radius,l=a.orientation,u=a.tickSize,d=u||8,f=Nt(i,o,c,n.coordinate),h=Nt(i,o,c+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*ede),o;return i>lS?o=a==="outer"?"start":"end":i<-lS?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,c=n.axisLine,l=n.axisLineType,u=Ti(Ti({},Ee(this.props,!1)),{},{fill:"none"},Ee(c,!1));if(l==="circle")return M.createElement(Im,Ri({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Nt(a,i,o,h.coordinate)});return M.createElement(pue,Ri({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,c=a.tickLine,l=a.tickFormatter,u=a.stroke,d=Ee(this.props,!1),f=Ee(o,!1),h=Ti(Ti({},d),{},{fill:"none"},Ee(c,!1)),m=i.map(function(v,p){var g=n.getTickLineCoord(v),b=n.getTickTextAnchor(v),x=Ti(Ti(Ti({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:v,x:g.x2,y:g.y2});return M.createElement(et,Ri({className:He("recharts-polar-angle-axis-tick",eD(o)),key:"tick-".concat(v.coordinate)},gs(n.props,v,p)),c&&M.createElement("line",Ri({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,x,l?l(v.value,p):v.value))});return M.createElement(et,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:M.createElement(et,{className:He("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):De(n)?o=n(a):o=M.createElement(vs,Ri({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);Lm(Fm,"displayName","PolarAngleAxis");Lm(Fm,"axisType","angleAxis");Lm(Fm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tde=wT,rde=tde(Object.getPrototypeOf,Object),nde=rde,ade=La,ide=nde,sde=Fa,ode="[object Object]",cde=Function.prototype,lde=Object.prototype,yD=cde.toString,ude=lde.hasOwnProperty,dde=yD.call(Object);function fde(e){if(!sde(e)||ade(e)!=ode)return!1;var t=ide(e);if(t===null)return!0;var r=ude.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yD.call(r)==dde}var hde=fde;const mde=gt(hde);var pde=La,gde=Fa,vde="[object Boolean]";function yde(e){return e===!0||e===!1||gde(e)&&pde(e)==vde}var xde=yde;const bde=gt(xde);function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(this,arguments)}function wde(e,t){return Ade(e)||Sde(e,t)||Nde(e,t)||jde()}function jde(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nde(e,t){if(e){if(typeof e=="string")return uS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uS(e,t)}}function uS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sde(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function Ade(e){if(Array.isArray(e))return e}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){_de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _de(e,t,r){return t=Pde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pde(e){var t=Cde(e,"string");return iu(t)=="symbol"?t:t+""}function Cde(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hS=function(t,r,n,a,i){var o=n-a,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-o/2,",").concat(r+i),c+="L ".concat(t+n-o/2-a,",").concat(r+i),c+="L ".concat(t,",").concat(r," Z"),c},Ode={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ede=function(t){var r=fS(fS({},Ode),t),n=y.useRef(),a=y.useState(-1),i=wde(a,2),o=i[0],c=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&c(j)}catch(N){}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,p=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=He("recharts-trapezoid",m);return b?M.createElement(sa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:p,animationEasing:v,isActive:b},function(j){var N=j.upperWidth,w=j.lowerWidth,S=j.height,P=j.x,k=j.y;return M.createElement(sa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:v},M.createElement("path",Yf({},Ee(r,!0),{className:x,d:hS(P,k,N,w,S),ref:n})))}):M.createElement("g",null,M.createElement("path",Yf({},Ee(r,!0),{className:x,d:hS(l,u,d,f,h)})))},kde=["option","shapeType","propTransformer","activeClassName","isActive"];function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function Tde(e,t){if(e==null)return{};var r=Dde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){Mde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mde(e,t,r){return t=Ide(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ide(e){var t=$de(e,"string");return su(t)=="symbol"?t:t+""}function $de(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rde(e,t){return Xf(Xf({},t),e)}function Lde(e,t){return e==="symbols"}function pS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(_b,r);case"trapezoid":return M.createElement(Ede,r);case"sector":return M.createElement(nD,r);case"symbols":if(Lde(t))return M.createElement(Hx,r);break;default:return null}}function Fde(e){return y.isValidElement(e)?e.props:e}function xD(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Rde:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,c=e.isActive,l=Tde(e,kde),u;if(y.isValidElement(t))u=y.cloneElement(t,Xf(Xf({},l),Fde(t)));else if(De(t))u=t(l);else if(mde(t)&&!bde(t)){var d=a(t,l);u=M.createElement(pS,{shapeType:r,elementProps:d})}else{var f=l;u=M.createElement(pS,{shapeType:r,elementProps:f})}return c?M.createElement(et,{className:o},u):u}function Bm(e,t){return t!=null&&"trapezoids"in e.props}function zm(e,t){return t!=null&&"sectors"in e.props}function ou(e,t){return t!=null&&"points"in e.props}function Bde(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function zde(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Ude(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Wde(e,t){var r;return Bm(e,t)?r=Bde:zm(e,t)?r=zde:ou(e,t)&&(r=Ude),r}function Vde(e,t){var r;return Bm(e,t)?r="trapezoids":zm(e,t)?r="sectors":ou(e,t)&&(r="points"),r}function Hde(e,t){if(Bm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(zm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ou(e,t)?t.payload:{}}function qde(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Vde(r,t),i=Hde(r,t),o=n.filter(function(l,u){var d=Ro(i,l),f=r.props[a].filter(function(v){var p=Wde(r,t);return p(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),c=n.indexOf(o[o.length-1]);return c}var Cd;function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hs.apply(this,arguments)}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){un(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wD(n.key),n)}}function Gde(e,t,r){return t&&vS(e.prototype,t),r&&vS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yde(e,t,r){return t=Zf(t),Xde(e,bD()?Reflect.construct(t,r||[],Zf(e).constructor):t.apply(e,r))}function Xde(e,t){if(t&&(Uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zde(e)}function Zde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bD=function(){return!!e})()}function Zf(e){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zf(e)}function Qde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gv(e,t)}function Gv(e,t){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gv(e,t)}function un(e,t,r){return t=wD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wD(e){var t=Jde(e,"string");return Uo(t)=="symbol"?t:t+""}function Jde(e,t){if(Uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var za=function(e){function t(r){var n;return Kde(this,t),n=Yde(this,t,[r]),un(n,"pieRef",null),un(n,"sectorRefs",[]),un(n,"id",Sc("recharts-pie-")),un(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),De(a)&&a()}),un(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),De(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Qde(t,e),Gde(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,c=i.labelLine,l=i.dataKey,u=i.valueKey,d=Ee(this.props,!1),f=Ee(o,!1),h=Ee(c,!1),m=o&&o.offsetRadius||20,v=n.map(function(p,g){var b=(p.startAngle+p.endAngle)/2,x=Nt(p.cx,p.cy,p.outerRadius+m,b),j=bt(bt(bt(bt({},d),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(x.x,p.cx)},x),N=bt(bt(bt(bt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:g,points:[Nt(p.cx,p.cy,p.outerRadius,b),x]}),w=l;return qe(l)&&qe(u)?w="value":qe(l)&&(w=u),M.createElement(et,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},c&&t.renderLabelLineItem(c,N,"line"),t.renderLabelItem(o,j,ar(p,w)))});return M.createElement(et,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,c=i.blendStroke,l=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=l&&a.hasActiveIndex()?l:null,m=f?o:h,v=bt(bt({},u),{},{stroke:c?u.fill:u.stroke,tabIndex:-1});return M.createElement(et,Hs({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},gs(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(xD,Hs({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,c=a.animationBegin,l=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return M.createElement(sa,{begin:c,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var p=v.t,g=[],b=i&&i[0],x=b.startAngle;return i.forEach(function(j,N){var w=h&&h[N],S=N>0?Jr(j,"paddingAngle",0):0;if(w){var P=Fr(w.endAngle-w.startAngle,j.endAngle-j.startAngle),k=bt(bt({},j),{},{startAngle:x+S,endAngle:x+P(p)+S});g.push(k),x=k.endAngle}else{var T=j.endAngle,E=j.startAngle,_=Fr(0,T-E),O=_(p),C=bt(bt({},j),{},{startAngle:x+S,endAngle:x+O+S});g.push(C),x=C.endAngle}}),M.createElement(et,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Ro(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,c=a.className,l=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!oe(u)||!oe(d)||!oe(f)||!oe(h))return null;var p=He("recharts-pie",c);return M.createElement(et,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),l&&this.renderLabels(o),lr.renderCallByParent(this.props,null,!1),(!m||v)&&Ca.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);if(De(n))return n(a);var o=He("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(ao,Hs({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);var o=i;if(De(n)&&(o=n(a),M.isValidElement(o)))return o;var c=He("recharts-pie-label-text",typeof n!="boolean"&&!De(n)?n.className:"");return M.createElement(vs,Hs({},a,{alignmentBaseline:"middle",className:c}),o)}}])}(y.PureComponent);Cd=za;un(za,"displayName","Pie");un(za,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ss.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});un(za,"parseDeltaAngle",function(e,t){var r=Er(t-e),n=Math.min(Math.abs(t-e),360);return r*n});un(za,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ee(e,!1),a=pn(r,Nm);return t&&t.length?t.map(function(i,o){return bt(bt(bt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return bt(bt({},n),i.props)}):[]});un(za,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=J2(a,i),c=n+kr(e.cx,a,a/2),l=r+kr(e.cy,i,i/2),u=kr(e.innerRadius,o,0),d=kr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:c,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});un(za,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?bt(bt({},t.type.defaultProps),t.props):t.props,a=Cd.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,c=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=Cd.parseCoordinateOfPie(n,r),p=Cd.parseDeltaAngle(o,c),g=Math.abs(p),b=u;qe(u)&&qe(f)?(In(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),b="value"):qe(u)&&(In(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),b=f);var x=a.filter(function(k){return ar(k,b,0)!==0}).length,j=(g>=360?x:x-1)*l,N=g-x*m-j,w=a.reduce(function(k,T){var E=ar(T,b,0);return k+(oe(E)?E:0)},0),S;if(w>0){var P;S=a.map(function(k,T){var E=ar(k,b,0),_=ar(k,d,T),O=(oe(E)?E:0)/w,C;T?C=P.endAngle+Er(p)*l*(E!==0?1:0):C=o;var R=C+Er(p)*((E!==0?m:0)+O*N),I=(C+R)/2,F=(v.innerRadius+v.outerRadius)/2,B=[{name:_,value:E,payload:k,dataKey:b,type:h}],L=Nt(v.cx,v.cy,F,I);return P=bt(bt(bt({percent:O,cornerRadius:i,name:_,tooltipPayload:B,midAngle:I,middleRadius:F,tooltipPosition:L},k),v),{},{value:ar(k,b),startAngle:C,endAngle:R,payload:k,paddingAngle:Er(p)*l}),P})}return bt(bt({},v),{},{sectors:S,data:a})});var efe=Math.ceil,tfe=Math.max;function rfe(e,t,r,n){for(var a=-1,i=tfe(efe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var nfe=rfe,afe=BT,yS=1/0,ife=17976931348623157e292;function sfe(e){if(!e)return e===0?e:0;if(e=afe(e),e===yS||e===-yS){var t=e<0?-1:1;return t*ife}return e===e?e:0}var jD=sfe,ofe=nfe,cfe=jm,Xp=jD;function lfe(e){return function(t,r,n){return n&&typeof n!="number"&&cfe(t,r,n)&&(r=n=void 0),t=Xp(t),r===void 0?(r=t,t=0):r=Xp(r),n=n===void 0?t<r?1:-1:Xp(n),ofe(t,r,n,e)}}var ufe=lfe,dfe=ufe,ffe=dfe(),hfe=ffe;const Qf=gt(hfe);function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){ND(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ND(e,t,r){return t=mfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mfe(e){var t=pfe(e,"string");return cu(t)=="symbol"?t:t+""}function pfe(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gfe=["Webkit","Moz","O","ms"],vfe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=gfe.reduce(function(i,o){return bS(bS({},i),{},ND({},o+n,r))},{});return a[t]=r,a};function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){Vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AD(n.key),n)}}function xfe(e,t,r){return t&&jS(e.prototype,t),r&&jS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bfe(e,t,r){return t=eh(t),wfe(e,SD()?Reflect.construct(t,r||[],eh(e).constructor):t.apply(e,r))}function wfe(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jfe(e)}function jfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(SD=function(){return!!e})()}function eh(e){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eh(e)}function Nfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yv(e,t)}function Yv(e,t){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yv(e,t)}function Vr(e,t,r){return t=AD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AD(e){var t=Sfe(e,"string");return Wo(t)=="symbol"?t:t+""}function Sfe(e,t){if(Wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Afe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=ol().domain(Qf(0,l)).range([i,i+o-c]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},NS=function(t){return t.changedTouches&&!!t.changedTouches.length},Vo=function(e){function t(r){var n;return yfe(this,t),n=bfe(this,t,[r]),Vr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Vr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Vr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,c=a.startIndex;o==null||o({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),Vr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vr(n,"handleSlideDragStart",function(a){var i=NS(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Nfe(t,e),xfe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,c=this.props,l=c.gap,u=c.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,c=a.dataKey,l=ar(i[n],c,n);return De(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,c=a.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,v=l.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-c,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-c));var g=this.getIndex({startX:o+p,endX:c+p});(g.startIndex!==h||g.endIndex!==m)&&v&&v(g),this.setState({startX:o+p,endX:c+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=NS(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,c=a.endX,l=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,p=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),b[o]=u+x;var j=this.getIndex(b),N=j.startIndex,w=j.endIndex,S=function(){var k=g.length-1;return o==="startX"&&(c>l?N%p===0:w%p===0)||c<l&&w===k||o==="endX"&&(c>l?w%p===0:N%p===0)||c>l&&w===k};this.setState(Vr(Vr({},o,u+x),"brushMoveStartX",n.pageX),function(){v&&S()&&v(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,c=o.scaleValues,l=o.startX,u=o.endX,d=this.state[a],f=c.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=c.length)){var m=c[h];a==="startX"&&m>=u||a==="endX"&&m<=l||this.setState(Vr({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,c=n.height,l=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,c=n.height,l=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?M.cloneElement(f,{x:a,y:i,width:o,height:c,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,c=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,v=l.data,p=l.startIndex,g=l.endIndex,b=Math.max(n,this.props.x),x=Zp(Zp({},Ee(this.props,!1)),{},{x:b,y:u,width:d,height:f}),j=m||"Min value: ".concat((i=v[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return M.createElement(et,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),c.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,c=i.height,l=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:f,height:c})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,c=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return M.createElement(et,{className:"recharts-brush-texts"},M.createElement(vs,Jf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+c/2},v),this.getTextOfTick(a)),M.createElement(vs,Jf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:o+c/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,c=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,p=h.isTextActive,g=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!oe(c)||!oe(l)||!oe(u)||!oe(d)||u<=0||d<=0)return null;var j=He("recharts-brush",i),N=M.Children.count(o)===1,w=vfe("userSelect","none");return M.createElement(et,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(p||g||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,c=n.height,l=n.stroke,u=Math.floor(i+c/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:i,width:o,height:c,fill:l,stroke:"none"}),M.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return M.isValidElement(n)?i=M.cloneElement(n,a):De(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,c=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Zp({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o},i&&i.length?Afe({data:i,width:o,x:c,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||c!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([c,c+o-l]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,c=i-1;c-o>1;){var l=Math.floor((o+c)/2);n[l]>a?c=l:o=l}return a>=n[c]?c:o}}])}(y.PureComponent);Vr(Vo,"displayName","Brush");Vr(Vo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _fe=Qx;function Pfe(e,t){var r;return _fe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var Cfe=Pfe,Ofe=hT,Efe=ua,kfe=Cfe,Tfe=Wr,Dfe=jm;function Mfe(e,t,r){var n=Tfe(e)?Ofe:kfe;return r&&Dfe(e,t,r)&&(t=void 0),n(e,Efe(t))}var Ife=Mfe;const $fe=gt(Ife);var ra=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},SS=IT;function Rfe(e,t,r){t=="__proto__"&&SS?SS(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Lfe=Rfe,Ffe=Lfe,Bfe=DT,zfe=ua;function Ufe(e,t){var r={};return t=zfe(t),Bfe(e,function(n,a,i){Ffe(r,a,t(n,a,i))}),r}var Wfe=Ufe;const Vfe=gt(Wfe);function Hfe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var qfe=Hfe,Kfe=Qx;function Gfe(e,t){var r=!0;return Kfe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var Yfe=Gfe,Xfe=qfe,Zfe=Yfe,Qfe=ua,Jfe=Wr,ehe=jm;function the(e,t,r){var n=Jfe(e)?Xfe:Zfe;return r&&ehe(e,t,r)&&(t=void 0),n(e,Qfe(t))}var rhe=the;const _D=gt(rhe);var nhe=["x","y"];function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(this,arguments)}function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){ahe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ahe(e,t,r){return t=ihe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ihe(e){var t=she(e,"string");return lu(t)=="symbol"?t:t+""}function she(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ohe(e,t){if(e==null)return{};var r=che(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function che(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lhe(e,t){var r=e.x,n=e.y,a=ohe(e,nhe),i="".concat(r),o=parseInt(i,10),c="".concat(n),l=parseInt(c,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Yc(Yc(Yc(Yc(Yc({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function _S(e){return M.createElement(xD,Xv({shapeType:"rectangle",propTransformer:lhe,activeClassName:"recharts-active-bar"},e))}var uhe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=oe(n)||IH(n);return i?t(n,a):(i||xs(),r)}},dhe=["value","background"],PD;function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function fhe(e,t){if(e==null)return{};var r=hhe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(this,arguments)}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){oi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OD(n.key),n)}}function phe(e,t,r){return t&&CS(e.prototype,t),r&&CS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ghe(e,t,r){return t=rh(t),vhe(e,CD()?Reflect.construct(t,r||[],rh(e).constructor):t.apply(e,r))}function vhe(e,t){if(t&&(Ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yhe(e)}function yhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(CD=function(){return!!e})()}function rh(e){return rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rh(e)}function xhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zv(e,t)}function Zv(e,t){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zv(e,t)}function oi(e,t,r){return t=OD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OD(e){var t=bhe(e,"string");return Ho(t)=="symbol"?t:t+""}function bhe(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oa=function(e){function t(){var r;mhe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ghe(this,t,[].concat(a)),oi(r,"state",{isAnimationFinished:!1}),oi(r,"id",Sc("recharts-bar-")),oi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),oi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return xhe(t,e),phe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,c=i.dataKey,l=i.activeIndex,u=i.activeBar,d=Ee(this.props,!1);return n&&n.map(function(f,h){var m=h===l,v=m?u:o,p=Vt(Vt(Vt({},d),f),{},{isActive:m,option:v,index:h,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(et,th({className:"recharts-bar-rectangle"},gs(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(_S,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,c=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return M.createElement(sa,{begin:l,duration:u,isActive:c,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,p=i.map(function(g,b){var x=h&&h[b];if(x){var j=Fr(x.x,g.x),N=Fr(x.y,g.y),w=Fr(x.width,g.width),S=Fr(x.height,g.height);return Vt(Vt({},g),{},{x:j(v),y:N(v),width:w(v),height:S(v)})}if(o==="horizontal"){var P=Fr(0,g.height),k=P(v);return Vt(Vt({},g),{},{y:g.y+g.height-k,height:k})}var T=Fr(0,g.width),E=T(v);return Vt(Vt({},g),{},{width:E})});return M.createElement(et,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Ro(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,c=a.activeIndex,l=Ee(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=fhe(u,dhe);if(!f)return null;var m=Vt(Vt(Vt(Vt(Vt({},h),{},{fill:"#eee"},f),l),gs(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(_S,th({key:"background-bar-".concat(d),option:n.props.background,isActive:d===c},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,c=i.xAxis,l=i.yAxis,u=i.layout,d=i.children,f=pn(d,Mm);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(g,b){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:ar(g,b)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(et,v,f.map(function(p){return M.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:c,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,c=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,v=n.background,p=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,b=He("recharts-bar",o),x=c&&c.allowDataOverflow,j=l&&l.allowDataOverflow,N=x||j,w=qe(p)?this.id:p;return M.createElement(et,{className:b},x||j?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(w)},M.createElement("rect",{x:x?u:u-f/2,y:j?d:d-h/2,width:x?f:f*2,height:j?h:h*2}))):null,M.createElement(et,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!m||g)&&Ca.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);PD=Oa;oi(Oa,"displayName","Bar");oi(Oa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ss.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oi(Oa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,c=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=eoe(n,r);if(!m)return null;var v=t.layout,p=r.type.defaultProps,g=p!==void 0?Vt(Vt({},p),r.props):r.props,b=g.dataKey,x=g.children,j=g.minPointSize,N=v==="horizontal"?o:i,w=u?N.scale.domain():null,S=ooe({numericAxis:N}),P=pn(x,Nm),k=f.map(function(T,E){var _,O,C,R,I,F;u?_=toe(u[d+E],w):(_=ar(T,b),Array.isArray(_)||(_=[S,_]));var B=uhe(j,PD.defaultProps.minPointSize)(_[1],E);if(v==="horizontal"){var L,z=[o.scale(_[0]),o.scale(_[1])],U=z[0],Z=z[1];O=vN({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:T,index:E}),C=(L=Z!=null?Z:U)!==null&&L!==void 0?L:void 0,R=m.size;var K=U-Z;if(I=Number.isNaN(K)?0:K,F={x:O,y:o.y,width:R,height:o.height},Math.abs(B)>0&&Math.abs(I)<Math.abs(B)){var ie=Er(I||B)*(Math.abs(B)-Math.abs(I));C-=ie,I+=ie}}else{var xe=[i.scale(_[0]),i.scale(_[1])],ke=xe[0],Oe=xe[1];if(O=ke,C=vN({axis:o,ticks:l,bandSize:a,offset:m.offset,entry:T,index:E}),R=Oe-ke,I=m.size,F={x:i.x,y:C,width:i.width,height:I},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var Fe=Er(R||B)*(Math.abs(B)-Math.abs(R));R+=Fe}}return Vt(Vt(Vt({},T),{},{x:O,y:C,width:R,height:I,value:u?_:_[1],payload:T,background:F},P&&P[E]&&P[E].props),{},{tooltipPayload:[Z2(r,T)],tooltipPosition:{x:O+R/2,y:C+I/2}})});return Vt({data:k,layout:v},h)});function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function whe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ED(n.key),n)}}function jhe(e,t,r){return t&&OS(e.prototype,t),r&&OS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){Um(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Um(e,t,r){return t=ED(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ED(e){var t=Nhe(e,"string");return uu(t)=="symbol"?t:t+""}function Nhe(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kD=function(t,r,n,a,i){var o=t.width,c=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},h=!!qr(u,Oa);return d.reduce(function(m,v){var p=r[v],g=p.orientation,b=p.domain,x=p.padding,j=x===void 0?{}:x,N=p.mirror,w=p.reversed,S="".concat(g).concat(N?"Mirror":""),P,k,T,E,_;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=b[1]-b[0],C=1/0,R=p.categoricalDomain.sort(LH);if(R.forEach(function(xe,ke){ke>0&&(C=Math.min((xe||0)-(R[ke-1]||0),C))}),Number.isFinite(C)){var I=C/O,F=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(P=I*F/2),p.padding==="no-gap"){var B=kr(t.barCategoryGap,I*F),L=I*F/2;P=L-B-(L-B)/F*B}}}a==="xAxis"?k=[n.left+(j.left||0)+(P||0),n.left+n.width-(j.right||0)-(P||0)]:a==="yAxis"?k=l==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(P||0),n.top+n.height-(j.bottom||0)-(P||0)]:k=p.range,w&&(k=[k[1],k[0]]);var z=K2(p,i,h),U=z.scale,Z=z.realScaleType;U.domain(b).range(k),G2(U);var K=Y2(U,Cn(Cn({},p),{},{realScaleType:Z}));a==="xAxis"?(_=g==="top"&&!N||g==="bottom"&&N,T=n.left,E=f[S]-_*p.height):a==="yAxis"&&(_=g==="left"&&!N||g==="right"&&N,T=f[S]-_*p.width,E=n.top);var ie=Cn(Cn(Cn({},p),K),{},{realScaleType:Z,x:T,y:E,scale:U,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return ie.bandSize=Bf(ie,K),!p.hide&&a==="xAxis"?f[S]+=(_?-1:1)*ie.height:p.hide||(f[S]+=(_?-1:1)*ie.width),Cn(Cn({},m),{},Um({},v,ie))},{})},TD=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},She=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return TD({x:r,y:n},{x:a,y:i})},DD=function(){function e(t){whe(this,e),this.scale=t}return jhe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Um(DD,"EPS",1e-4);var Pb=function(t){var r=Object.keys(t).reduce(function(n,a){return Cn(Cn({},n),{},Um({},a,DD.create(t[a])))},{});return Cn(Cn({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,c=i.position;return Vfe(a,function(l,u){return r[u].apply(l,{bandAware:o,position:c})})},isInRange:function(a){return _D(a,function(i,o){return r[o].isInRange(i)})}})};function Ahe(e){return(e%180+180)%180}var _he=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Ahe(a),o=i*Math.PI/180,c=Math.atan(n/r),l=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Phe=ua,Che=Iu,Ohe=bm;function Ehe(e){return function(t,r,n){var a=Object(t);if(!Che(t)){var i=Phe(r);t=Ohe(t),r=function(c){return i(a[c],c,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var khe=Ehe,The=jD;function Dhe(e){var t=The(e),r=t%1;return t===t?r?t-r:t:0}var Mhe=Dhe,Ihe=PT,$he=ua,Rhe=Mhe,Lhe=Math.max;function Fhe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Rhe(r);return a<0&&(a=Lhe(n+a,0)),Ihe(e,$he(t),a)}var Bhe=Fhe,zhe=khe,Uhe=Bhe,Whe=zhe(Uhe),Vhe=Whe;const Hhe=gt(Vhe);var qhe=z7(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Cb=y.createContext(void 0),Ob=y.createContext(void 0),MD=y.createContext(void 0),ID=y.createContext({}),$D=y.createContext(void 0),RD=y.createContext(0),LD=y.createContext(0),kS=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,c=t.children,l=t.width,u=t.height,d=qhe(i);return M.createElement(Cb.Provider,{value:n},M.createElement(Ob.Provider,{value:a},M.createElement(ID.Provider,{value:i},M.createElement(MD.Provider,{value:d},M.createElement($D.Provider,{value:o},M.createElement(RD.Provider,{value:u},M.createElement(LD.Provider,{value:l},c)))))))},Khe=function(){return y.useContext($D)},FD=function(t){var r=y.useContext(Cb);r==null&&xs();var n=r[t];return n==null&&xs(),n},Ghe=function(){var t=y.useContext(Cb);return Ja(t)},Yhe=function(){var t=y.useContext(Ob),r=Hhe(t,function(n){return _D(n.domain,Number.isFinite)});return r||Ja(t)},BD=function(t){var r=y.useContext(Ob);r==null&&xs();var n=r[t];return n==null&&xs(),n},Xhe=function(){var t=y.useContext(MD);return t},Zhe=function(){return y.useContext(ID)},Eb=function(){return y.useContext(LD)},kb=function(){return y.useContext(RD)};function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function Qhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UD(n.key),n)}}function eme(e,t,r){return t&&Jhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tme(e,t,r){return t=nh(t),rme(e,zD()?Reflect.construct(t,r||[],nh(e).constructor):t.apply(e,r))}function rme(e,t){if(t&&(qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nme(e)}function nme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zD=function(){return!!e})()}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nh(e)}function ame(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qv(e,t)}function Qv(e,t){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qv(e,t)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){Tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tb(e,t,r){return t=UD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UD(e){var t=ime(e,"string");return qo(t)=="symbol"?t:t+""}function ime(e,t){if(qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sme(e,t){return ume(e)||lme(e,t)||cme(e,t)||ome()}function ome(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cme(e,t){if(e){if(typeof e=="string")return MS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(e,t)}}function MS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lme(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function ume(e){if(Array.isArray(e))return e}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(this,arguments)}var dme=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):De(t)?n=t(r):n=M.createElement("line",Jv({},r,{className:"recharts-reference-line-line"})),n},fme=function(t,r,n,a,i,o,c,l,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var v=u.y,p=t.y.apply(v,{position:o});if(ra(u,"discard")&&!t.y.isInRange(p))return null;var g=[{x:d+h,y:p},{x:d,y:p}];return l==="left"?g.reverse():g}if(r){var b=u.x,x=t.x.apply(b,{position:o});if(ra(u,"discard")&&!t.x.isInRange(x))return null;var j=[{x,y:f+m},{x,y:f}];return c==="top"?j.reverse():j}if(a){var N=u.segment,w=N.map(function(S){return t.apply(S,{position:o})});return ra(u,"discard")&&$fe(w,function(S){return!t.isInRange(S)})?null:w}return null};function hme(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,c=e.className,l=e.alwaysShow,u=Khe(),d=FD(a),f=BD(i),h=Xhe();if(!u||!h)return null;In(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Pb({x:d.scale,y:f.scale}),v=ir(t),p=ir(r),g=n&&n.length===2,b=fme(m,v,p,g,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=sme(b,2),j=x[0],N=j.x,w=j.y,S=x[1],P=S.x,k=S.y,T=ra(e,"hidden")?"url(#".concat(u,")"):void 0,E=DS(DS({clipPath:T},Ee(e,!0)),{},{x1:N,y1:w,x2:P,y2:k});return M.createElement(et,{className:He("recharts-reference-line",c)},dme(o,E),lr.renderCallByParent(e,She({x1:N,y1:w,x2:P,y2:k})))}var Db=function(e){function t(){return Qhe(this,t),tme(this,t,arguments)}return ame(t,e),eme(t,[{key:"render",value:function(){return M.createElement(hme,this.props)}}])}(M.Component);Tb(Db,"displayName","ReferenceLine");Tb(Db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){Wm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VD(n.key),n)}}function gme(e,t,r){return t&&pme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vme(e,t,r){return t=ah(t),yme(e,WD()?Reflect.construct(t,r||[],ah(e).constructor):t.apply(e,r))}function yme(e,t){if(t&&(Ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xme(e)}function xme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(WD=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ah(e)}function bme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}function ty(e,t){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ty(e,t)}function Wm(e,t,r){return t=VD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VD(e){var t=wme(e,"string");return Ko(t)=="symbol"?t:t+""}function wme(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jme=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=Pb({x:a.scale,y:i.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return ra(t,"discard")&&!o.isInRange(c)?null:c},Vm=function(e){function t(){return mme(this,t),vme(this,t,arguments)}return bme(t,e),gme(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,c=n.alwaysShow,l=n.clipPathId,u=ir(a),d=ir(i);if(In(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=jme(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,p=v.shape,g=v.className,b=ra(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=$S($S({clipPath:b},Ee(this.props,!0)),{},{cx:h,cy:m});return M.createElement(et,{className:He("recharts-reference-dot",g)},t.renderDot(p,x),lr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(M.Component);Wm(Vm,"displayName","ReferenceDot");Wm(Vm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wm(Vm,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):De(e)?r=e(t):r=M.createElement(Im,ey({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(this,arguments)}function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){Hm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qD(n.key),n)}}function Ame(e,t,r){return t&&Sme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _me(e,t,r){return t=ih(t),Pme(e,HD()?Reflect.construct(t,r||[],ih(e).constructor):t.apply(e,r))}function Pme(e,t){if(t&&(Go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cme(e)}function Cme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(HD=function(){return!!e})()}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(e)}function Ome(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ny(e,t)}function ny(e,t){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ny(e,t)}function Hm(e,t,r){return t=qD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qD(e){var t=Eme(e,"string");return Go(t)=="symbol"?t:t+""}function Eme(e,t){if(Go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kme=function(t,r,n,a,i){var o=i.x1,c=i.x2,l=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Pb({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(c,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ra(i,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:TD(m,v)},qm=function(e){function t(){return Nme(this,t),_me(this,t,arguments)}return Ome(t,e),Ame(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,c=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;In(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ir(a),h=ir(i),m=ir(o),v=ir(c),p=this.props.shape;if(!f&&!h&&!m&&!v&&!p)return null;var g=kme(f,h,m,v,this.props);if(!g&&!p)return null;var b=ra(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(et,{className:He("recharts-reference-area",l)},t.renderRect(p,LS(LS({clipPath:b},Ee(this.props,!0)),g)),lr.renderCallByParent(this.props,g))}}])}(M.Component);Hm(qm,"displayName","ReferenceArea");Hm(qm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hm(qm,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):De(e)?r=e(t):r=M.createElement(_b,ry({},t,{className:"recharts-reference-area-rect"})),r});function KD(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Tme(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return _he(n,r)}function Dme(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,c=e.height;return t===1?{start:n?a:i,end:n?a+o:i+c}:{start:n?a+o:i+c,end:n?a:i}}function sh(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Mme(e,t){return KD(e,t+1)}function Ime(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,c=t.end,l=0,u=1,d=o,f=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:KD(n,u)};var p=l,g,b=function(){return g===void 0&&(g=r(v,p)),g},x=v.coordinate,j=l===0||sh(e,x,b,d,c);j||(l=0,d=o,u+=1),j&&(d=x+e*(b()/2+a),l+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){$me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $me(e,t,r){return t=Rme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rme(e){var t=Lme(e,"string");return du(t)=="symbol"?t:t+""}function Lme(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fme(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,c=t.start,l=t.end,u=function(h){var m=i[h],v,p=function(){return v===void 0&&(v=r(m,h)),v};if(h===o-1){var g=e*(m.coordinate+e*p()/2-l);i[h]=m=br(br({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else i[h]=m=br(br({},m),{},{tickCoord:m.coordinate});var b=sh(e,m.tickCoord,p,c,l);b&&(l=m.tickCoord-e*(p()/2+a),i[h]=br(br({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function Bme(e,t,r,n,a,i){var o=(n||[]).slice(),c=o.length,l=t.start,u=t.end;if(i){var d=n[c-1],f=r(d,c-1),h=e*(d.coordinate+e*f/2-u);o[c-1]=d=br(br({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=sh(e,d.tickCoord,function(){return f},l,u);m&&(u=d.tickCoord-e*(f/2+a),o[c-1]=br(br({},d),{},{isShow:!0}))}for(var v=i?c-1:c,p=function(x){var j=o[x],N,w=function(){return N===void 0&&(N=r(j,x)),N};if(x===0){var S=e*(j.coordinate-e*w()/2-l);o[x]=j=br(br({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[x]=j=br(br({},j),{},{tickCoord:j.coordinate});var P=sh(e,j.tickCoord,w,l,u);P&&(l=j.tickCoord+e*(w()/2+a),o[x]=br(br({},j),{},{isShow:!0}))},g=0;g<v;g++)p(g);return o}function Mb(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,c=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(oe(l)||Ss.isSsr)return Mme(a,typeof l=="number"&&oe(l)?l:0);var h=[],m=c==="top"||c==="bottom"?"width":"height",v=d&&m==="width"?sl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(j,N){var w=De(u)?u(j.value,N):j.value;return m==="width"?Tme(sl(w,{fontSize:t,letterSpacing:r}),v,f):sl(w,{fontSize:t,letterSpacing:r})[m]},g=a.length>=2?Er(a[1].coordinate-a[0].coordinate):1,b=Dme(i,g,m);return l==="equidistantPreserveStart"?Ime(g,b,p,a,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Bme(g,b,p,a,o,l==="preserveStartEnd"):h=Fme(g,b,p,a,o),h.filter(function(x){return x.isShow}))}var zme=["viewBox"],Ume=["viewBox"],Wme=["ticks"];function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(this,arguments)}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){Ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qp(e,t){if(e==null)return{};var r=Vme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YD(n.key),n)}}function qme(e,t,r){return t&&zS(e.prototype,t),r&&zS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kme(e,t,r){return t=oh(t),Gme(e,GD()?Reflect.construct(t,r||[],oh(e).constructor):t.apply(e,r))}function Gme(e,t){if(t&&(Yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yme(e)}function Yme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(GD=function(){return!!e})()}function oh(e){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oh(e)}function Xme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ay(e,t)}function ay(e,t){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ay(e,t)}function Ib(e,t,r){return t=YD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YD(e){var t=Zme(e,"string");return Yo(t)=="symbol"?t:t+""}function Zme(e,t){if(Yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kc=function(e){function t(r){var n;return Hme(this,t),n=Kme(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Xme(t,e),qme(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Qp(n,zme),c=this.props,l=c.viewBox,u=Qp(c,Ume);return!to(i,l)||!to(o,u)||!to(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,c=a.width,l=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,v,p,g,b,x,j=f?-1:1,N=n.tickSize||d,w=oe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,g=o+ +!f*l,p=g-j*N,x=p-j*h,b=w;break;case"left":p=g=n.coordinate,v=i+ +!f*c,m=v-j*N,b=m-j*h,x=w;break;case"right":p=g=n.coordinate,v=i+ +f*c,m=v+j*N,b=m+j*h,x=w;break;default:m=v=n.coordinate,g=o+ +f*l,p=g+j*N,x=p+j*h,b=w;break}return{line:{x1:m,y1:p,x2:v,y2:g},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,c=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=Zt(Zt(Zt({},Ee(this.props,!1)),Ee(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Zt(Zt({},f),{},{x1:a,y1:i+h*c,x2:a+o,y2:i+h*c})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Zt(Zt({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+c})}return M.createElement("line",qs({},f,{className:He("recharts-cartesian-axis-line",Jr(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,c=this.props,l=c.tickLine,u=c.stroke,d=c.tick,f=c.tickFormatter,h=c.unit,m=Mb(Zt(Zt({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Ee(this.props,!1),b=Ee(d,!1),x=Zt(Zt({},g),{},{fill:"none"},Ee(l,!1)),j=m.map(function(N,w){var S=o.getTickLineCoord(N),P=S.line,k=S.tick,T=Zt(Zt(Zt(Zt({textAnchor:v,verticalAnchor:p},g),{},{stroke:"none",fill:u},b),k),{},{index:w,payload:N,visibleTicksCount:m.length,tickFormatter:f});return M.createElement(et,qs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},gs(o.props,N,w)),l&&M.createElement("line",qs({},x,P,{className:He("recharts-cartesian-axis-tick-line",Jr(l,"className"))})),d&&t.renderTickItem(d,T,"".concat(De(f)?f(N.value,w):N.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,c=a.height,l=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Qp(f,Wme),v=h;return De(l)&&(v=h&&h.length>0?l(this.props):l(m)),o<=0||c<=0||!v||!v.length?null:M.createElement(et,{className:He("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),lr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,c=He(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?o=M.cloneElement(n,Zt(Zt({},a),{},{className:c})):De(n)?o=n(Zt(Zt({},a),{},{className:c})):o=M.createElement(vs,qs({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);Ib(kc,"displayName","CartesianAxis");Ib(kc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Qme=["x1","y1","x2","y2","key"],Jme=["offset"];function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){epe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function epe(e,t,r){return t=tpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tpe(e){var t=rpe(e,"string");return bs(t)=="symbol"?t:t+""}function rpe(e,t){if(bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(this,arguments)}function WS(e,t){if(e==null)return{};var r=npe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function npe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ape=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,c=t.height,l=t.ry;return M.createElement("rect",{x:a,y:i,ry:l,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function XD(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(De(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,c=t.key,l=WS(t,Qme),u=Ee(l,!1);u.offset;var d=WS(u,Jme);r=M.createElement("line",Hi({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:c}))}return r}function ipe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(c,l){var u=jr(jr({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(l),index:l});return XD(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function spe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(c,l){var u=jr(jr({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(l),index:l});return XD(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ope(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,c=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=c.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?a+o-h:d[m+1]-h;if(p<=0)return null;var g=m%t.length;return M.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function cpe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,c=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?i+c-h:d[m+1]-h;if(p<=0)return null;var g=m%n.length;return M.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:l,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var lpe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return q2(Mb(jr(jr(jr({},kc.defaultProps),n),{},{ticks:Sa(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},upe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return q2(Mb(jr(jr(jr({},kc.defaultProps),n),{},{ticks:Sa(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Is={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $b(e){var t,r,n,a,i,o,c=Eb(),l=kb(),u=Zhe(),d=jr(jr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Is.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Is.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Is.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Is.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Is.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Is.verticalFill,x:oe(e.x)?e.x:u.left,y:oe(e.y)?e.y:u.top,width:oe(e.width)?e.width:u.width,height:oe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,p=d.syncWithTicks,g=d.horizontalValues,b=d.verticalValues,x=Ghe(),j=Yhe();if(!oe(m)||m<=0||!oe(v)||v<=0||!oe(f)||f!==+f||!oe(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||lpe,w=d.horizontalCoordinatesGenerator||upe,S=d.horizontalPoints,P=d.verticalPoints;if((!S||!S.length)&&De(w)){var k=g&&g.length,T=w({yAxis:j?jr(jr({},j),{},{ticks:k?g:j.ticks}):void 0,width:c,height:l,offset:u},k?!0:p);In(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bs(T),"]")),Array.isArray(T)&&(S=T)}if((!P||!P.length)&&De(N)){var E=b&&b.length,_=N({xAxis:x?jr(jr({},x),{},{ticks:E?b:x.ticks}):void 0,width:c,height:l,offset:u},E?!0:p);In(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bs(_),"]")),Array.isArray(_)&&(P=_)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(ape,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(ipe,Hi({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:j})),M.createElement(spe,Hi({},d,{offset:u,verticalPoints:P,xAxis:x,yAxis:j})),M.createElement(ope,Hi({},d,{horizontalPoints:S})),M.createElement(cpe,Hi({},d,{verticalPoints:P})))}$b.displayName="CartesianGrid";var dpe=["layout","type","stroke","connectNulls","isRange","ref"],fpe=["key"],ZD;function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function QD(e,t){if(e==null)return{};var r=hpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){Qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eM(n.key),n)}}function ppe(e,t,r){return t&&HS(e.prototype,t),r&&HS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gpe(e,t,r){return t=ch(t),vpe(e,JD()?Reflect.construct(t,r||[],ch(e).constructor):t.apply(e,r))}function vpe(e,t){if(t&&(Xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ype(e)}function ype(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(JD=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ch(e)}function xpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iy(e,t)}function iy(e,t){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iy(e,t)}function Qn(e,t,r){return t=eM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eM(e){var t=bpe(e,"string");return Xo(t)=="symbol"?t:t+""}function bpe(e,t){if(Xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ci=function(e){function t(){var r;mpe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=gpe(this,t,[].concat(a)),Qn(r,"state",{isAnimationFinished:!0}),Qn(r,"id",Sc("recharts-area-")),Qn(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),De(o)&&o()}),Qn(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),De(o)&&o()}),r}return xpe(t,e),ppe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Ee(this.props,!1),m=Ee(u,!0),v=d.map(function(g,b){var x=Ka(Ka(Ka({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,x)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(et,qi({className:"recharts-area-dots"},p),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,c=a.strokeWidth,l=o[0].x,u=o[o.length-1].x,d=n*Math.abs(l-u),f=si(o.map(function(h){return h.y||0}));return oe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(si(i.map(function(h){return h.y||0})),f)),oe(f)?M.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,c=a.strokeWidth,l=o[0].y,u=o[o.length-1].y,d=n*Math.abs(l-u),f=si(o.map(function(h){return h.x||0}));return oe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(si(i.map(function(h){return h.x||0})),f)),oe(f)?M.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var c=this.props,l=c.layout,u=c.type,d=c.stroke,f=c.connectNulls,h=c.isRange;c.ref;var m=QD(c,dpe);return M.createElement(et,{clipPath:i?"url(#clipPath-".concat(o,")"):null},M.createElement(ao,qi({},Ee(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(ao,qi({},Ee(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&M.createElement(ao,qi({},Ee(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,c=o.points,l=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,v=this.state,p=v.prevPoints,g=v.prevBaseLine;return M.createElement(sa,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(p){var j=p.length/c.length,N=c.map(function(k,T){var E=Math.floor(T*j);if(p[E]){var _=p[E],O=Fr(_.x,k.x),C=Fr(_.y,k.y);return Ka(Ka({},k),{},{x:O(x),y:C(x)})}return k}),w;if(oe(l)&&typeof l=="number"){var S=Fr(g,l);w=S(x)}else if(qe(l)||Nc(l)){var P=Fr(g,0);w=P(x)}else w=l.map(function(k,T){var E=Math.floor(T*j);if(g[E]){var _=g[E],O=Fr(_.x,k.x),C=Fr(_.y,k.y);return Ka(Ka({},k),{},{x:O(x),y:C(x)})}return k});return i.renderAreaStatically(N,w,n,a)}return M.createElement(et,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),M.createElement(et,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(c,l,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,c=i.baseLine,l=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&o&&o.length&&(!d&&h>0||!Ro(d,o)||!Ro(f,c))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,c,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,c=a.points,l=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,v=a.height,p=a.isAnimationActive,g=a.id;if(i||!c||!c.length)return null;var b=this.state.isAnimationFinished,x=c.length===1,j=He("recharts-area",l),N=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,S=N||w,P=qe(g)?this.id:g,k=(n=Ee(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=k.r,E=T===void 0?3:T,_=k.strokeWidth,O=_===void 0?2:_,C=KH(o)?o:{},R=C.clipDot,I=R===void 0?!0:R,F=E*2+O;return M.createElement(et,{className:j},N||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(P)},M.createElement("rect",{x:N?d:d-m/2,y:w?u:u-v/2,width:N?m:m*2,height:w?v:v*2})),!I&&M.createElement("clipPath",{id:"clipPath-dots-".concat(P)},M.createElement("rect",{x:d-F/2,y:u-F/2,width:m+F,height:v+F}))):null,x?null:this.renderArea(S,P),(o||x)&&this.renderDots(S,I,P),(!p||b)&&Ca.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(y.PureComponent);ZD=Ci;Qn(Ci,"displayName","Area");Qn(Ci,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ss.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Qn(Ci,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,c=o!=null?o:i;if(oe(c)&&typeof c=="number")return c;var l=a==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return c==="dataMin"?f:c==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return c==="dataMin"?u[0]:c==="dataMax"?u[1]:u[0]});Qn(Ci,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,c=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,v=u&&u.length,p=ZD.getBaseValue(t,r,n,a),g=m==="horizontal",b=!1,x=f.map(function(N,w){var S;v?S=u[d+w]:(S=ar(N,l),Array.isArray(S)?b=!0:S=[p,S]);var P=S[1]==null||v&&ar(N,l)==null;return g?{x:gN({axis:n,ticks:i,bandSize:c,entry:N,index:w}),y:P?null:a.scale(S[1]),value:S,payload:N}:{x:P?null:n.scale(S[1]),y:gN({axis:a,ticks:o,bandSize:c,entry:N,index:w}),value:S,payload:N}}),j;return v||b?j=x.map(function(N){var w=Array.isArray(N.value)?N.value[0]:null;return g?{x:N.x,y:w!=null&&N.y!=null?a.scale(w):null}:{x:w!=null?n.scale(w):null,y:N.y}}):j=g?a.scale(p):n.scale(p),Ka({points:x,baseLine:j,layout:m,isRange:b},h)});Qn(Ci,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(De(e))r=e(t);else{var n=He("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=QD(t,fpe);r=M.createElement(Im,qi({},i,{key:a,className:n}))}return r});function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function wpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nM(n.key),n)}}function Npe(e,t,r){return t&&jpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Spe(e,t,r){return t=lh(t),Ape(e,tM()?Reflect.construct(t,r||[],lh(e).constructor):t.apply(e,r))}function Ape(e,t){if(t&&(Zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _pe(e)}function _pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(tM=function(){return!!e})()}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lh(e)}function Ppe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sy(e,t)}function rM(e,t,r){return t=nM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nM(e){var t=Cpe(e,"string");return Zo(t)=="symbol"?t:t+""}function Cpe(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(this,arguments)}function Ope(e){var t=e.xAxisId,r=Eb(),n=kb(),a=FD(t);return a==null?null:y.createElement(kc,oy({},a,{className:He("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Sa(o,!0)}}))}var Tc=function(e){function t(){return wpe(this,t),Spe(this,t,arguments)}return Ppe(t,e),Npe(t,[{key:"render",value:function(){return y.createElement(Ope,this.props)}}])}(y.Component);rM(Tc,"displayName","XAxis");rM(Tc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function Epe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sM(n.key),n)}}function Tpe(e,t,r){return t&&kpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dpe(e,t,r){return t=uh(t),Mpe(e,aM()?Reflect.construct(t,r||[],uh(e).constructor):t.apply(e,r))}function Mpe(e,t){if(t&&(Qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ipe(e)}function Ipe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(aM=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(e)}function $pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cy(e,t)}function iM(e,t,r){return t=sM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sM(e){var t=Rpe(e,"string");return Qo(t)=="symbol"?t:t+""}function Rpe(e,t){if(Qo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}var Lpe=function(t){var r=t.yAxisId,n=Eb(),a=kb(),i=BD(r);return i==null?null:y.createElement(kc,ly({},i,{className:He("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return Sa(c,!0)}}))},Dc=function(e){function t(){return Epe(this,t),Dpe(this,t,arguments)}return $pe(t,e),Tpe(t,[{key:"render",value:function(){return y.createElement(Lpe,this.props)}}])}(y.Component);iM(Dc,"displayName","YAxis");iM(Dc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qS(e){return Upe(e)||zpe(e)||Bpe(e)||Fpe()}function Fpe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Bpe(e,t){if(e){if(typeof e=="string")return uy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uy(e,t)}}function zpe(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Upe(e){if(Array.isArray(e))return uy(e)}function uy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dy=function(t,r,n,a,i){var o=pn(t,Db),c=pn(t,Vm),l=[].concat(qS(o),qS(c)),u=pn(t,qm),d="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(p,g){if(g.props[d]===n&&ra(g.props,"extendDomain")&&oe(g.props[f])){var b=g.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(p,g){if(g.props[d]===n&&ra(g.props,"extendDomain")&&oe(g.props[m])&&oe(g.props[v])){var b=g.props[m],x=g.props[v];return[Math.min(p[0],b,x),Math.max(p[1],b,x)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,g){return oe(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},h)),h},oM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},c.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,h,m,v){var p=r?r+u:u;if(!this._events[p])return!1;var g=this._events[p],b=arguments.length,x,j;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,m),!0;case 6:return g.fn.call(g.context,d,f,h,m,v),!0}for(j=1,x=new Array(b-1);j<b;j++)x[j-1]=arguments[j];g.fn.apply(g.context,x)}else{var N=g.length,w;for(j=0;j<N;j++)switch(g[j].once&&this.removeListener(u,g[j].fn,void 0,!0),b){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,d);break;case 3:g[j].fn.call(g[j].context,d,f);break;case 4:g[j].fn.call(g[j].context,d,f,h);break;default:if(!x)for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];g[j].fn.apply(g[j].context,x)}}return!0},c.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var p=0,g=[],b=v.length;p<b;p++)(v[p].fn!==d||h&&!v[p].once||f&&v[p].context!==f)&&g.push(v[p]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(oM);var Wpe=oM.exports;const Vpe=gt(Wpe);var Jp=new Vpe,eg="recharts.syncMouseEvents";function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function Hpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cM(n.key),n)}}function Kpe(e,t,r){return t&&qpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tg(e,t,r){return t=cM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cM(e){var t=Gpe(e,"string");return fu(t)=="symbol"?t:t+""}function Gpe(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ype=function(){function e(){Hpe(this,e),tg(this,"activeIndex",0),tg(this,"coordinateList",[]),tg(this,"layout","horizontal")}return Kpe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,c=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i!=null?i:this.coordinateList)!==null&&n!==void 0?n:[],this.container=c!=null?c:this.container,this.layout=u!=null?u:this.layout,this.offset=f!=null?f:this.offset,this.mouseHandlerCallback=m!=null?m:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,c=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+u,h=o+this.offset.top+c/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Xpe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&oe(n)&&oe(a))return!0}return!1}function Zpe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function lM(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Nt(t,r,n,a),c=Nt(t,r,n,i);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Qpe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Nt(c,l,u,f),m=Nt(c,l,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return lM(t);return[{x:n,y:a},{x:i,y:o}]}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){Jpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jpe(e,t,r){return t=ege(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ege(e){var t=tge(e,"string");return hu(t)=="symbol"?t:t+""}function tge(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rge(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,c=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,p=ao;if(h==="ScatterChart")v=o,p=Sue;else if(h==="BarChart")v=Zpe(f,o,l,d),p=_b;else if(f==="radial"){var g=lM(o),b=g.cx,x=g.cy,j=g.radius,N=g.startAngle,w=g.endAngle;v={cx:b,cy:x,startAngle:N,endAngle:w,innerRadius:j,outerRadius:j},p=nD}else v={points:Qpe(f,o,l)},p=ao;var S=xd(xd(xd(xd({stroke:"#ccc",pointerEvents:"none"},l),v),Ee(m,!1)),{},{payload:c,payloadIndex:u,className:He("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,S):y.createElement(p,S)}var nge=["item"],age=["children","className","width","height","style","compact","title","desc"];function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ks.apply(this,arguments)}function GS(e,t){return oge(e)||sge(e,t)||dM(e,t)||ige()}function ige(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sge(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,c=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function oge(e){if(Array.isArray(e))return e}function YS(e,t){if(e==null)return{};var r=cge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fM(n.key),n)}}function dge(e,t,r){return t&&uge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fge(e,t,r){return t=dh(t),hge(e,uM()?Reflect.construct(t,r||[],dh(e).constructor):t.apply(e,r))}function hge(e,t){if(t&&(Jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mge(e)}function mge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(uM=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(e)}function pge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fy(e,t)}function fy(e,t){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fy(e,t)}function ec(e){return yge(e)||vge(e)||dM(e)||gge()}function gge(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dM(e,t){if(e){if(typeof e=="string")return hy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hy(e,t)}}function vge(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yge(e){if(Array.isArray(e))return hy(e)}function hy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){Te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Te(e,t,r){return t=fM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fM(e){var t=xge(e,"string");return Jo(t)=="symbol"?t:t+""}function xge(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bge={xAxis:["bottom","top"],yAxis:["left","right"]},wge={width:"100%",height:"100%"},hM={x:0,y:0};function bd(e){return e}var jge=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Nge=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,c=a.radius;return J(J(J({},a),Nt(a.cx,a.cy,c,o)),{},{angle:o,radius:c})}var l=i.coordinate,u=a.angle;return J(J(J({},a),Nt(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return hM},Km=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n!=null?n:[]).reduce(function(c,l){var u=l.props.data;return u&&u.length?[].concat(ec(c),ec(u)):c},[]);return o.length>0?o:t&&t.length&&oe(a)&&oe(i)?t.slice(a,i+1):[]};function mM(e){return e==="number"?[0,"auto"]:void 0}var my=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,c=Km(r,t);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?c:f;h=ff(m,o.dataKey,a)}else h=f&&f[n]||c[n];return h?[].concat(ec(l),[Z2(u,h)]):l},[])},ZS=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=jge(i,n),c=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=Gse(o,c,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=my(t,r,d,f),m=Nge(n,c,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},Sge=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=H2(d,i);return n.reduce(function(v,p){var g,b=p.type.defaultProps!==void 0?J(J({},p.type.defaultProps),p.props):p.props,x=b.type,j=b.dataKey,N=b.allowDataOverflow,w=b.allowDuplicatedCategory,S=b.scale,P=b.ticks,k=b.includeHidden,T=b[o];if(v[T])return v;var E=Km(t.data,{graphicalItems:a.filter(function(K){var ie,xe=o in K.props?K.props[o]:(ie=K.type.defaultProps)===null||ie===void 0?void 0:ie[o];return xe===T}),dataStartIndex:l,dataEndIndex:u}),_=E.length,O,C,R;Xpe(b.domain,N,x)&&(O=Ov(b.domain,null,N),m&&(x==="number"||S!=="auto")&&(R=cl(E,j,"category")));var I=mM(x);if(!O||O.length===0){var F,B=(F=b.domain)!==null&&F!==void 0?F:I;if(j){if(O=cl(E,j,x),x==="category"&&m){var L=RH(O);w&&L?(C=O,O=Qf(0,_)):w||(O=bN(B,O,p).reduce(function(K,ie){return K.indexOf(ie)>=0?K:[].concat(ec(K),[ie])},[]))}else if(x==="category")w?O=O.filter(function(K){return K!==""&&!qe(K)}):O=bN(B,O,p).reduce(function(K,ie){return K.indexOf(ie)>=0||ie===""||qe(ie)?K:[].concat(ec(K),[ie])},[]);else if(x==="number"){var z=Jse(E,a.filter(function(K){var ie,xe,ke=o in K.props?K.props[o]:(ie=K.type.defaultProps)===null||ie===void 0?void 0:ie[o],Oe="hide"in K.props?K.props.hide:(xe=K.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return ke===T&&(k||!Oe)}),j,i,d);z&&(O=z)}m&&(x==="number"||S!=="auto")&&(R=cl(E,j,"category"))}else m?O=Qf(0,_):c&&c[T]&&c[T].hasStack&&x==="number"?O=h==="expand"?[0,1]:X2(c[T].stackGroups,l,u):O=V2(E,a.filter(function(K){var ie=o in K.props?K.props[o]:K.type.defaultProps[o],xe="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return ie===T&&(k||!xe)}),x,d,!0);if(x==="number")O=dy(f,O,T,i,P),B&&(O=Ov(B,O,N));else if(x==="category"&&B){var U=B,Z=O.every(function(K){return U.indexOf(K)>=0});Z&&(O=U)}}return J(J({},v),{},Te({},T,J(J({},b),{},{axisType:i,domain:O,categoricalDomain:R,duplicateDomain:C,originalDomain:(g=b.domain)!==null&&g!==void 0?g:I,isCategorical:m,layout:d})))},{})},Age=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Km(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=h.length,v=H2(d,i),p=-1;return n.reduce(function(g,b){var x=b.type.defaultProps!==void 0?J(J({},b.type.defaultProps),b.props):b.props,j=x[o],N=mM("number");if(!g[j]){p++;var w;return v?w=Qf(0,m):c&&c[j]&&c[j].hasStack?(w=X2(c[j].stackGroups,l,u),w=dy(f,w,j,i)):(w=Ov(N,V2(h,n.filter(function(S){var P,k,T=o in S.props?S.props[o]:(P=S.type.defaultProps)===null||P===void 0?void 0:P[o],E="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return T===j&&!E}),"number",d),a.defaultProps.allowDataOverflow),w=dy(f,w,j,i)),J(J({},g),{},Te({},j,J(J({axisType:i},a.defaultProps),{},{hide:!0,orientation:Jr(bge,"".concat(i,".").concat(p%2),null),domain:w,originalDomain:N,isCategorical:v,layout:d})))}return g},{})},_ge=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=pn(d,i),m={};return h&&h.length?m=Sge(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=Age(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u})),m},Pge=function(t){var r=Ja(t),n=Sa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Jx(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Bf(r,n)}},QS=function(t){var r=t.children,n=t.defaultShowTooltip,a=qr(r,Vo),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Cge=function(t){return!t||!t.length?!1:t.some(function(r){var n=_a(r&&r.type);return n&&n.indexOf("Bar")>=0})},JS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Oge=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,c=t.yAxisMap,l=c===void 0?{}:c,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=qr(f,Vo),v=qr(f,es),p=Object.keys(l).reduce(function(w,S){var P=l[S],k=P.orientation;return!P.mirror&&!P.hide?J(J({},w),{},Te({},k,w[k]+P.width)):w},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(w,S){var P=o[S],k=P.orientation;return!P.mirror&&!P.hide?J(J({},w),{},Te({},k,Jr(w,"".concat(k))+P.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=J(J({},g),p),x=b.bottom;m&&(b.bottom+=m.props.height||Vo.defaultProps.height),v&&r&&(b=Zse(b,a,n,r));var j=u-b.left-b.right,N=d-b.top-b.bottom;return J(J({brushBottom:x},b),{},{width:Math.max(j,0),height:Math.max(N,0)})},Ege=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Rb=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,c=o===void 0?["axis"]:o,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,x){var j=x.graphicalItems,N=x.stackGroups,w=x.offset,S=x.updateId,P=x.dataStartIndex,k=x.dataEndIndex,T=b.barSize,E=b.layout,_=b.barGap,O=b.barCategoryGap,C=b.maxBarSize,R=JS(E),I=R.numericAxisName,F=R.cateAxisName,B=Cge(j),L=[];return j.forEach(function(z,U){var Z=Km(b.data,{graphicalItems:[z],dataStartIndex:P,dataEndIndex:k}),K=z.type.defaultProps!==void 0?J(J({},z.type.defaultProps),z.props):z.props,ie=K.dataKey,xe=K.maxBarSize,ke=K["".concat(I,"Id")],Oe=K["".concat(F,"Id")],Fe={},ue=l.reduce(function(V,q){var ye=x["".concat(q.axisType,"Map")],fe=K["".concat(q.axisType,"Id")];ye&&ye[fe]||q.axisType==="zAxis"||xs();var le=ye[fe];return J(J({},V),{},Te(Te({},q.axisType,le),"".concat(q.axisType,"Ticks"),Sa(le)))},Fe),ee=ue[F],Y=ue["".concat(F,"Ticks")],Q=N&&N[ke]&&N[ke].hasStack&&coe(z,N[ke].stackGroups),H=_a(z.type).indexOf("Bar")>=0,re=Bf(ee,Y),se=[],Ae=B&&Yse({barSize:T,stackGroups:N,totalSize:Ege(ue,F)});if(H){var Be,lt,ve=qe(xe)?C:xe,ze=(Be=(lt=Bf(ee,Y,!0))!==null&&lt!==void 0?lt:ve)!==null&&Be!==void 0?Be:0;se=Xse({barGap:_,barCategoryGap:O,bandSize:ze!==re?ze:re,sizeList:Ae[Oe],maxBarSize:ve}),ze!==re&&(se=se.map(function(V){return J(J({},V),{},{position:J(J({},V.position),{},{offset:V.position.offset-ze/2})})}))}var $=z&&z.type&&z.type.getComposedData;$&&L.push({props:J(J({},$(J(J({},ue),{},{displayedData:Z,props:b,dataKey:ie,item:z,bandSize:re,barPosition:se,offset:w,stackedData:Q,layout:E,dataStartIndex:P,dataEndIndex:k}))),{},Te(Te(Te({key:z.key||"item-".concat(U)},I,ue[I]),F,ue[F]),"animationId",S)),childIndex:XH(z,b.children),item:z})}),L},m=function(b,x){var j=b.props,N=b.dataStartIndex,w=b.dataEndIndex,S=b.updateId;if(!hj({props:j}))return null;var P=j.children,k=j.layout,T=j.stackOffset,E=j.data,_=j.reverseStackOrder,O=JS(k),C=O.numericAxisName,R=O.cateAxisName,I=pn(P,n),F=soe(E,I,"".concat(C,"Id"),"".concat(R,"Id"),T,_),B=l.reduce(function(K,ie){var xe="".concat(ie.axisType,"Map");return J(J({},K),{},Te({},xe,_ge(j,J(J({},ie),{},{graphicalItems:I,stackGroups:ie.axisType===C&&F,dataStartIndex:N,dataEndIndex:w}))))},{}),L=Oge(J(J({},B),{},{props:j,graphicalItems:I}),x==null?void 0:x.legendBBox);Object.keys(B).forEach(function(K){B[K]=d(j,B[K],L,K.replace("Map",""),r)});var z=B["".concat(R,"Map")],U=Pge(z),Z=h(j,J(J({},B),{},{dataStartIndex:N,dataEndIndex:w,updateId:S,graphicalItems:I,stackGroups:F,offset:L}));return J(J({formattedGraphicalItems:Z,graphicalItems:I,offset:L,stackGroups:F},U),B)},v=function(g){function b(x){var j,N,w;return lge(this,b),w=fge(this,b,[x]),Te(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(w,"accessibilityManager",new Ype),Te(w,"handleLegendBBoxUpdate",function(S){if(S){var P=w.state,k=P.dataStartIndex,T=P.dataEndIndex,E=P.updateId;w.setState(J({legendBBox:S},m({props:w.props,dataStartIndex:k,dataEndIndex:T,updateId:E},J(J({},w.state),{},{legendBBox:S}))))}}),Te(w,"handleReceiveSyncEvent",function(S,P,k){if(w.props.syncId===S){if(k===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),Te(w,"handleBrushChange",function(S){var P=S.startIndex,k=S.endIndex;if(P!==w.state.dataStartIndex||k!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return J({dataStartIndex:P,dataEndIndex:k},m({props:w.props,dataStartIndex:P,dataEndIndex:k,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:k})}}),Te(w,"handleMouseEnter",function(S){var P=w.getMouseInfo(S);if(P){var k=J(J({},P),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var T=w.props.onMouseEnter;De(T)&&T(k,S)}}),Te(w,"triggeredAfterMouseMove",function(S){var P=w.getMouseInfo(S),k=P?J(J({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var T=w.props.onMouseMove;De(T)&&T(k,S)}),Te(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Te(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Te(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Te(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var k=w.props.onMouseLeave;De(k)&&k(P,S)}),Te(w,"handleOuterEvent",function(S){var P=YH(S),k=Jr(w.props,"".concat(P));if(P&&De(k)){var T,E;/.*touch.*/i.test(P)?E=w.getMouseInfo(S.changedTouches[0]):E=w.getMouseInfo(S),k((T=E)!==null&&T!==void 0?T:{},S)}}),Te(w,"handleClick",function(S){var P=w.getMouseInfo(S);if(P){var k=J(J({},P),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var T=w.props.onClick;De(T)&&T(k,S)}}),Te(w,"handleMouseDown",function(S){var P=w.props.onMouseDown;if(De(P)){var k=w.getMouseInfo(S);P(k,S)}}),Te(w,"handleMouseUp",function(S){var P=w.props.onMouseUp;if(De(P)){var k=w.getMouseInfo(S);P(k,S)}}),Te(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Te(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Te(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Te(w,"handleDoubleClick",function(S){var P=w.props.onDoubleClick;if(De(P)){var k=w.getMouseInfo(S);P(k,S)}}),Te(w,"handleContextMenu",function(S){var P=w.props.onContextMenu;if(De(P)){var k=w.getMouseInfo(S);P(k,S)}}),Te(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&Jp.emit(eg,w.props.syncId,S,w.eventEmitterSymbol)}),Te(w,"applySyncEvent",function(S){var P=w.props,k=P.layout,T=P.syncMethod,E=w.state.updateId,_=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(J({dataStartIndex:_,dataEndIndex:O},m({props:w.props,dataStartIndex:_,dataEndIndex:O,updateId:E},w.state)));else if(S.activeTooltipIndex!==void 0){var C=S.chartX,R=S.chartY,I=S.activeTooltipIndex,F=w.state,B=F.offset,L=F.tooltipTicks;if(!B)return;if(typeof T=="function")I=T(L,S);else if(T==="value"){I=-1;for(var z=0;z<L.length;z++)if(L[z].value===S.activeLabel){I=z;break}}var U=J(J({},B),{},{x:B.left,y:B.top}),Z=Math.min(C,U.x+U.width),K=Math.min(R,U.y+U.height),ie=L[I]&&L[I].value,xe=my(w.state,w.props.data,I),ke=L[I]?{x:k==="horizontal"?L[I].coordinate:Z,y:k==="horizontal"?K:L[I].coordinate}:hM;w.setState(J(J({},S),{},{activeLabel:ie,activeCoordinate:ke,activePayload:xe,activeTooltipIndex:I}))}else w.setState(S)}),Te(w,"renderCursor",function(S){var P,k=w.state,T=k.isTooltipActive,E=k.activeCoordinate,_=k.activePayload,O=k.offset,C=k.activeTooltipIndex,R=k.tooltipAxisBandSize,I=w.getTooltipEventType(),F=(P=S.props.active)!==null&&P!==void 0?P:T,B=w.props.layout,L=S.key||"_recharts-cursor";return M.createElement(rge,{key:L,activeCoordinate:E,activePayload:_,activeTooltipIndex:C,chartName:r,element:S,isActive:F,layout:B,offset:O,tooltipAxisBandSize:R,tooltipEventType:I})}),Te(w,"renderPolarAxis",function(S,P,k){var T=Jr(S,"type.axisType"),E=Jr(w.state,"".concat(T,"Map")),_=S.type.defaultProps,O=_!==void 0?J(J({},_),S.props):S.props,C=E&&E[O["".concat(T,"Id")]];return y.cloneElement(S,J(J({},C),{},{className:He(T,C.className),key:S.key||"".concat(P,"-").concat(k),ticks:Sa(C,!0)}))}),Te(w,"renderPolarGrid",function(S){var P=S.props,k=P.radialLines,T=P.polarAngles,E=P.polarRadius,_=w.state,O=_.radiusAxisMap,C=_.angleAxisMap,R=Ja(O),I=Ja(C),F=I.cx,B=I.cy,L=I.innerRadius,z=I.outerRadius;return y.cloneElement(S,{polarAngles:Array.isArray(T)?T:Sa(I,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(E)?E:Sa(R,!0).map(function(U){return U.coordinate}),cx:F,cy:B,innerRadius:L,outerRadius:z,key:S.key||"polar-grid",radialLines:k})}),Te(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,P=w.props,k=P.children,T=P.width,E=P.height,_=w.props.margin||{},O=T-(_.left||0)-(_.right||0),C=U2({children:k,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!C)return null;var R=C.item,I=YS(C,nge);return y.cloneElement(R,J(J({},I),{},{chartWidth:T,chartHeight:E,margin:_,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Te(w,"renderTooltip",function(){var S,P=w.props,k=P.children,T=P.accessibilityLayer,E=qr(k,ln);if(!E)return null;var _=w.state,O=_.isTooltipActive,C=_.activeCoordinate,R=_.activePayload,I=_.activeLabel,F=_.offset,B=(S=E.props.active)!==null&&S!==void 0?S:O;return y.cloneElement(E,{viewBox:J(J({},F),{},{x:F.left,y:F.top}),active:B,label:I,payload:B?R:[],coordinate:C,accessibilityLayer:T})}),Te(w,"renderBrush",function(S){var P=w.props,k=P.margin,T=P.data,E=w.state,_=E.offset,O=E.dataStartIndex,C=E.dataEndIndex,R=E.updateId;return y.cloneElement(S,{key:S.key||"_recharts-brush",onChange:pd(w.handleBrushChange,S.props.onChange),data:T,x:oe(S.props.x)?S.props.x:_.left,y:oe(S.props.y)?S.props.y:_.top+_.height+_.brushBottom-(k.bottom||0),width:oe(S.props.width)?S.props.width:_.width,startIndex:O,endIndex:C,updateId:"brush-".concat(R)})}),Te(w,"renderReferenceElement",function(S,P,k){if(!S)return null;var T=w,E=T.clipPathId,_=w.state,O=_.xAxisMap,C=_.yAxisMap,R=_.offset,I=S.type.defaultProps||{},F=S.props,B=F.xAxisId,L=B===void 0?I.xAxisId:B,z=F.yAxisId,U=z===void 0?I.yAxisId:z;return y.cloneElement(S,{key:S.key||"".concat(P,"-").concat(k),xAxis:O[L],yAxis:C[U],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:E})}),Te(w,"renderActivePoints",function(S){var P=S.item,k=S.activePoint,T=S.basePoint,E=S.childIndex,_=S.isRange,O=[],C=P.props.key,R=P.item.type.defaultProps!==void 0?J(J({},P.item.type.defaultProps),P.item.props):P.item.props,I=R.activeDot,F=R.dataKey,B=J(J({index:E,dataKey:F,cx:k.x,cy:k.y,r:4,fill:Ab(P.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ee(I,!1)),hf(I));return O.push(b.renderActiveDot(I,B,"".concat(C,"-activePoint-").concat(E))),T?O.push(b.renderActiveDot(I,J(J({},B),{},{cx:T.x,cy:T.y}),"".concat(C,"-basePoint-").concat(E))):_&&O.push(null),O}),Te(w,"renderGraphicChild",function(S,P,k){var T=w.filterFormatItem(S,P,k);if(!T)return null;var E=w.getTooltipEventType(),_=w.state,O=_.isTooltipActive,C=_.tooltipAxis,R=_.activeTooltipIndex,I=_.activeLabel,F=w.props.children,B=qr(F,ln),L=T.props,z=L.points,U=L.isRange,Z=L.baseLine,K=T.item.type.defaultProps!==void 0?J(J({},T.item.type.defaultProps),T.item.props):T.item.props,ie=K.activeDot,xe=K.hide,ke=K.activeBar,Oe=K.activeShape,Fe=!!(!xe&&O&&B&&(ie||ke||Oe)),ue={};E!=="axis"&&B&&B.props.trigger==="click"?ue={onClick:pd(w.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(ue={onMouseLeave:pd(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:pd(w.handleItemMouseEnter,S.props.onMouseEnter)});var ee=y.cloneElement(S,J(J({},T.props),ue));function Y(q){return typeof C.dataKey=="function"?C.dataKey(q.payload):null}if(Fe)if(R>=0){var Q,H;if(C.dataKey&&!C.allowDuplicatedCategory){var re=typeof C.dataKey=="function"?Y:"payload.".concat(C.dataKey.toString());Q=ff(z,re,I),H=U&&Z&&ff(Z,re,I)}else Q=z==null?void 0:z[R],H=U&&Z&&Z[R];if(Oe||ke){var se=S.props.activeIndex!==void 0?S.props.activeIndex:R;return[y.cloneElement(S,J(J(J({},T.props),ue),{},{activeIndex:se})),null,null]}if(!qe(Q))return[ee].concat(ec(w.renderActivePoints({item:T,activePoint:Q,basePoint:H,childIndex:R,isRange:U})))}else{var Ae,Be=(Ae=w.getItemByXY(w.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:ee},lt=Be.graphicalItem,ve=lt.item,ze=ve===void 0?S:ve,$=lt.childIndex,V=J(J(J({},T.props),ue),{},{activeIndex:$});return[y.cloneElement(ze,V),null,null]}return U?[ee,null,null]:[ee,null]}),Te(w,"renderCustomized",function(S,P,k){return y.cloneElement(S,J(J({key:"recharts-customized-".concat(k)},w.props),w.state))}),Te(w,"renderMap",{CartesianGrid:{handler:bd,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:bd},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:bd},YAxis:{handler:bd},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((j=x.id)!==null&&j!==void 0?j:Sc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=zT(w.triggeredAfterMouseMove,(N=x.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return pge(b,g),dge(b,[{key:"componentDidMount",value:function(){var j,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,N=j.children,w=j.data,S=j.height,P=j.layout,k=qr(N,ln);if(k){var T=k.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,_=my(this.state,w,T,E),O=this.state.tooltipTicks[T].coordinate,C=(this.state.offset.top+S)/2,R=P==="horizontal",I=R?{x:O,y:C}:{y:O,x:C},F=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});F&&(I=J(J({},I),F.props.points[T].tooltipPosition),_=F.props.points[T].tooltipPayload);var B={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:E,activePayload:_,activeCoordinate:I};this.setState(B),this.renderCursor(k),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(j){Wg([qr(j.children,ln)],[qr(this.props.children,ln)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=qr(this.props.children,ln);if(j&&typeof j.props.shared=="boolean"){var N=j.props.shared?"axis":"item";return c.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),S=jre(w),P={chartX:Math.round(j.pageX-S.left),chartY:Math.round(j.pageY-S.top)},k=w.width/N.offsetWidth||1,T=this.inRange(P.chartX,P.chartY,k);if(!T)return null;var E=this.state,_=E.xAxisMap,O=E.yAxisMap,C=this.getTooltipEventType(),R=ZS(this.state,this.props.data,this.props.layout,T);if(C!=="axis"&&_&&O){var I=Ja(_).scale,F=Ja(O).scale,B=I&&I.invert?I.invert(P.chartX):null,L=F&&F.invert?F.invert(P.chartY):null;return J(J({},P),{},{xValue:B,yValue:L},R)}return R?J(J({},P),R):null}},{key:"inRange",value:function(j,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,P=j/w,k=N/w;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,E=P>=T.left&&P<=T.left+T.width&&k>=T.top&&k<=T.top+T.height;return E?{x:P,y:k}:null}var _=this.state,O=_.angleAxisMap,C=_.radiusAxisMap;if(O&&C){var R=Ja(O);return NN({x:P,y:k},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,N=this.getTooltipEventType(),w=qr(j,ln),S={};w&&N==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=hf(this.props,this.handleOuterEvent);return J(J({},P),S)}},{key:"addListener",value:function(){Jp.on(eg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Jp.removeListener(eg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,N,w){for(var S=this.state.formattedGraphicalItems,P=0,k=S.length;P<k;P++){var T=S[P];if(T.item===j||T.props.key===j.key||N===_a(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,N=this.state.offset,w=N.left,S=N.top,P=N.height,k=N.width;return M.createElement("defs",null,M.createElement("clipPath",{id:j},M.createElement("rect",{x:w,y:S,height:P,width:k})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(N,w){var S=GS(w,2),P=S[0],k=S[1];return J(J({},N),{},Te({},P,k.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(N,w){var S=GS(w,2),P=S[0],k=S[1];return J(J({},N),{},Te({},P,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(j){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(j){var N=this.state,w=N.formattedGraphicalItems,S=N.activeItem;if(w&&w.length)for(var P=0,k=w.length;P<k;P++){var T=w[P],E=T.props,_=T.item,O=_.type.defaultProps!==void 0?J(J({},_.type.defaultProps),_.props):_.props,C=_a(_.type);if(C==="Bar"){var R=(E.data||[]).find(function(L){return aue(j,L)});if(R)return{graphicalItem:T,payload:R}}else if(C==="RadialBar"){var I=(E.data||[]).find(function(L){return NN(j,L)});if(I)return{graphicalItem:T,payload:I}}else if(Bm(T,S)||zm(T,S)||ou(T,S)){var F=qde({graphicalItem:T,activeTooltipItem:S,itemData:O.data}),B=O.activeIndex===void 0?F:O.activeIndex;return{graphicalItem:J(J({},T),{},{childIndex:B}),payload:ou(T,S)?O.data[F]:T.props.data[F]}}}return null}},{key:"render",value:function(){var j=this;if(!hj(this))return null;var N=this.props,w=N.children,S=N.className,P=N.width,k=N.height,T=N.style,E=N.compact,_=N.title,O=N.desc,C=YS(N,age),R=Ee(C,!1);if(E)return M.createElement(kS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(Hg,Ks({},R,{width:P,height:k,title:_,desc:O}),this.renderClipPath(),pj(w,this.renderMap)));if(this.props.accessibilityLayer){var I,F;R.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,R.role=(F=this.props.role)!==null&&F!==void 0?F:"application",R.onKeyDown=function(L){j.accessibilityManager.keyboardEvent(L)},R.onFocus=function(){j.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return M.createElement(kS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Ks({className:He("recharts-wrapper",S),style:J({position:"relative",cursor:"default",width:P,height:k},T)},B,{ref:function(z){j.container=z}}),M.createElement(Hg,Ks({},R,{width:P,height:k,title:_,desc:O,style:wge}),this.renderClipPath(),pj(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Te(v,"displayName",r),Te(v,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Te(v,"getDerivedStateFromProps",function(g,b){var x=g.dataKey,j=g.data,N=g.children,w=g.width,S=g.height,P=g.layout,k=g.stackOffset,T=g.margin,E=b.dataStartIndex,_=b.dataEndIndex;if(b.updateId===void 0){var O=QS(g);return J(J(J({},O),{},{updateId:0},m(J(J({props:g},O),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:j,prevWidth:w,prevHeight:S,prevLayout:P,prevStackOffset:k,prevMargin:T,prevChildren:N})}if(x!==b.prevDataKey||j!==b.prevData||w!==b.prevWidth||S!==b.prevHeight||P!==b.prevLayout||k!==b.prevStackOffset||!to(T,b.prevMargin)){var C=QS(g),R={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},I=J(J({},ZS(b,j,P)),{},{updateId:b.updateId+1}),F=J(J(J({},C),R),I);return J(J(J({},F),m(J({props:g},F),b)),{},{prevDataKey:x,prevData:j,prevWidth:w,prevHeight:S,prevLayout:P,prevStackOffset:k,prevMargin:T,prevChildren:N})}if(!Wg(N,b.prevChildren)){var B,L,z,U,Z=qr(N,Vo),K=Z&&(B=(L=Z.props)===null||L===void 0?void 0:L.startIndex)!==null&&B!==void 0?B:E,ie=Z&&(z=(U=Z.props)===null||U===void 0?void 0:U.endIndex)!==null&&z!==void 0?z:_,xe=K!==E||ie!==_,ke=!qe(j),Oe=ke&&!xe?b.updateId:b.updateId+1;return J(J({updateId:Oe},m(J(J({props:g},b),{},{updateId:Oe,dataStartIndex:K,dataEndIndex:ie}),b)),{},{prevChildren:N,dataStartIndex:K,dataEndIndex:ie})}return null}),Te(v,"renderActiveDot",function(g,b,x){var j;return y.isValidElement(g)?j=y.cloneElement(g,b):De(g)?j=g(b):j=M.createElement(Im,b),M.createElement(et,{className:"recharts-active-dot",key:x},j)});var p=y.forwardRef(function(b,x){return M.createElement(v,Ks({},b,{ref:x}))});return p.displayName=v.displayName,p},kge=Rb({chartName:"BarChart",GraphicalChild:Oa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tc},{axisType:"yAxis",AxisComp:Dc}],formatAxisMap:kD}),Tge=Rb({chartName:"PieChart",GraphicalChild:za,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fm},{axisType:"radiusAxis",AxisComp:Rm}],formatAxisMap:yoe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Dge=Rb({chartName:"AreaChart",GraphicalChild:Ci,axisComponents:[{axisType:"xAxis",AxisComp:Tc},{axisType:"yAxis",AxisComp:Dc}],formatAxisMap:kD});const rg=768;function Mc(){const[e,t]=y.useState(void 0);return y.useEffect(()=>{const r=window.matchMedia("(max-width: ".concat(rg-1,"px)")),n=()=>{t(window.innerWidth<rg)};return r.addEventListener("change",n),t(window.innerWidth<rg),()=>r.removeEventListener("change",n)},[]),!!e}function pM({isOpen:e,onClose:t,item:r}){var N;const n=Mc(),a=w=>{w.stopPropagation()},i=w=>w.toLocaleString("it-IT",{minimumFractionDigits:2,maximumFractionDigits:2})+" €",o=(w,S)=>(S-w)/w*100,c=r.historicalPriceWithDates||[],l=c.length>0;let u=[];if(l){const w=[...c].sort((P,k)=>new Date(P.date).getTime()-new Date(k.date).getTime()),S=w[0];if(S.oldPrice!==void 0&&S.oldPrice!==null){const P=new Date(S.date);P.setHours(P.getHours()-1),u.push({date:P,price:S.oldPrice,formattedDate:jt(P,"dd MMM",{locale:Gt}),fullDate:"Prezzo originario - "+jt(P,"dd MMM yyyy, HH:mm",{locale:Gt}),changeType:"original",oldPrice:null,index:0})}if(w.forEach((P,k)=>{u.push({date:P.date,price:P.price,formattedDate:jt(new Date(P.date),"dd MMM",{locale:Gt}),fullDate:jt(new Date(P.date),"dd MMM yyyy, HH:mm",{locale:Gt}),changeType:P.changeType,oldPrice:P.oldPrice,index:u.length})}),r.estimatedPrice){const P=(N=w[w.length-1])==null?void 0:N.price;P!==r.estimatedPrice&&u.push({date:new Date,price:r.estimatedPrice,formattedDate:"Oggi",fullDate:"Prezzo attuale",changeType:"current",oldPrice:P,index:u.length})}}const d=r.estimatedPrice||0,f=u.map(w=>w.price);c.map(w=>w.price);const h=c.length>0?c.find(w=>w.oldPrice!==void 0&&w.oldPrice!==null):null;h!=null&&h.oldPrice&&f.unshift(h.oldPrice);const m=f.length>0?Math.min(...f):d,v=f.length>0?Math.max(...f):d,p=f.length>0?f.reduce((w,S)=>w+S,0)/f.length:d,g=c.filter(w=>w.changeType==="increase").length,b=c.filter(w=>w.changeType==="decrease").length,x=[...c].sort((w,S)=>new Date(S.date).getTime()-new Date(w.date).getTime()),j=({active:w,payload:S,label:P})=>{if(w&&S&&S.length){const k=S[0].payload;return s.jsxs("div",{className:"bg-white p-3 border rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium",children:i(k.price)}),s.jsx("p",{className:"text-sm text-gray-600",children:k.fullDate}),k.changeType==="original"&&s.jsx("p",{className:"text-xs text-blue-500",children:"Prezzo originario"}),k.oldPrice&&k.changeType!=="current"&&k.changeType!=="original"&&s.jsxs("p",{className:"text-xs text-gray-500",children:[k.changeType==="increase"?"↗":k.changeType==="decrease"?"↘":""," ","da ",i(k.oldPrice)]}),k.changeType==="current"&&s.jsx("p",{className:"text-xs text-green-500",children:"Prezzo attuale"})]})}return null};return s.jsx(cr,{open:e,onOpenChange:t,children:s.jsxs(tr,{className:"\n          ".concat(n?"max-w-[95vw] max-h-[95vh] w-[95vw] h-[95vh] p-4":"max-w-4xl max-h-[90vh]"," \n          overflow-hidden\n        "),onClick:a,children:[s.jsx(rr,{className:n?"pb-2":"",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(nr,{className:"flex items-center gap-2 ".concat(n?"text-base":""),children:[s.jsx(GP,{className:"h-5 w-5 text-cambridge-blue ".concat(n?"h-4 w-4":"")}),s.jsxs("span",{className:n?"truncate max-w-[200px]":"",children:["Storico Prezzi - ",r.name]})]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),t()},className:"h-8 w-8 p-0 shrink-0",children:s.jsx(jo,{className:"h-4 w-4"})})]})}),l?s.jsx("div",{className:"".concat(n?"h-[calc(95vh-120px)] overflow-y-auto":"max-h-[calc(90vh-120px)] overflow-y-auto"),children:s.jsxs("div",{className:"space-y-".concat(n?"4":"6"," pb-4"),children:[s.jsxs("div",{className:"grid gap-".concat(n?"2":"4"," ").concat(n?"grid-cols-2":"grid-cols-2 md:grid-cols-4"),children:[s.jsx(Me,{children:s.jsxs(Re,{className:"p-".concat(n?"3":"4"),children:[s.jsx("div",{className:"text-gray-600 ".concat(n?"text-xs":"text-sm"),children:"Prezzo Attuale"}),s.jsx("div",{className:"font-bold text-green-600 ".concat(n?"text-base":"text-xl"),children:i(d)})]})}),s.jsx(Me,{children:s.jsxs(Re,{className:"p-".concat(n?"3":"4"),children:[s.jsx("div",{className:"text-gray-600 ".concat(n?"text-xs":"text-sm"),children:"Prezzo Minimo"}),s.jsx("div",{className:"font-bold text-blue-600 ".concat(n?"text-base":"text-xl"),children:i(m)})]})}),!n&&s.jsxs(s.Fragment,{children:[s.jsx(Me,{children:s.jsxs(Re,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Prezzo Massimo"}),s.jsx("div",{className:"text-xl font-bold text-red-600",children:i(v)})]})}),s.jsx(Me,{children:s.jsxs(Re,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Prezzo Medio"}),s.jsx("div",{className:"text-xl font-bold text-gray-700",children:i(p)})]})})]})]}),n&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Me,{children:s.jsxs(Re,{className:"p-3",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Prezzo Massimo"}),s.jsx("div",{className:"text-base font-bold text-red-600",children:i(v)})]})}),s.jsx(Me,{children:s.jsxs(Re,{className:"p-3",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Prezzo Medio"}),s.jsx("div",{className:"text-base font-bold text-gray-700",children:i(p)})]})})]}),s.jsxs("div",{className:"flex justify-center items-center gap-6 py-3 bg-gray-50 rounded-lg ".concat(n?"mx-1":""),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"text-red-500 ".concat(n?"h-4 w-4":"h-5 w-5")}),s.jsx("span",{className:"font-bold text-red-500 ".concat(n?"text-sm":"text-lg"),children:g}),s.jsx("span",{className:"text-gray-600 ".concat(n?"text-xs":"text-sm"),children:"aumenti"})]}),s.jsx("div",{className:"w-px h-6 bg-gray-300"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zd,{className:"text-green-500 ".concat(n?"h-4 w-4":"h-5 w-5")}),s.jsx("span",{className:"font-bold text-green-500 ".concat(n?"text-sm":"text-lg"),children:b}),s.jsx("span",{className:"text-gray-600 ".concat(n?"text-xs":"text-sm"),children:"riduzioni"})]})]}),s.jsxs(Me,{children:[s.jsx(er,{className:n?"pb-2":"",children:s.jsx(Hr,{className:n?"text-base":"text-lg",children:"Andamento Prezzi"})}),s.jsxs(Re,{className:n?"p-2":"",children:[s.jsx("div",{className:"\n                      ".concat(n?"h-[280px]":"h-[400px]"," \n                      w-full \n                      overflow-x-auto overflow-y-hidden\n                      border rounded-lg bg-white\n                      scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100\n                    "),style:{scrollbarWidth:"thin",scrollbarColor:"#9ca3af #f3f4f6"},children:s.jsx("div",{className:"".concat(n?"w-[700px] h-[280px]":"w-full h-full"," relative"),children:s.jsx(fv,{width:"100%",height:"100%",children:s.jsxs(Dge,{data:u,margin:n?{top:20,right:20,left:50,bottom:70}:{top:20,right:30,left:20,bottom:20},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"priceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:.1})]})}),s.jsx($b,{strokeDasharray:"3 3",stroke:"#e0e0e0"}),s.jsx(Tc,{dataKey:"formattedDate",tick:{fontSize:n?9:12},stroke:"#666",angle:n?-90:0,textAnchor:n?"end":"middle",height:n?70:30,interval:0,dx:n?-3:0}),s.jsx(Dc,{domain:["dataMin - 2","dataMax + 2"],tick:{fontSize:n?9:12},stroke:"#666",tickFormatter:w=>"€".concat(w.toFixed(0)),width:n?50:60}),s.jsx(ln,{content:s.jsx(j,{})}),s.jsx(Ci,{type:"monotone",dataKey:"price",stroke:"#8884d8",strokeWidth:n?2:3,fill:"url(#priceGradient)",dot:{fill:"#8884d8",strokeWidth:2,r:n?3:4},activeDot:{r:n?4:6,fill:"#8884d8"}})]})})})}),n&&s.jsx("div",{className:"mt-2 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"← Scorri orizzontalmente per vedere tutto il grafico →"})})]})]}),s.jsxs(Me,{children:[s.jsx(er,{className:n?"pb-2":"",children:s.jsx(Hr,{className:n?"text-base":"text-lg",children:"Ultimi Cambiamenti"})}),s.jsx(Re,{className:n?"p-2":"",children:s.jsx("div",{className:"".concat(n?"max-h-[150px]":"max-h-[200px]"," overflow-y-auto space-y-").concat(n?"1":"2"),children:x.slice(0,5).map((w,S)=>{const P=w.changeType==="increase",k=w.changeType==="decrease",T=w.changeType==="initial",E=w.oldPrice&&!T?o(w.oldPrice,w.price):0;return s.jsxs("div",{className:"\n                            flex items-center justify-between \n                            rounded-lg border bg-gray-50\n                            ".concat(n?"p-2":"p-3","\n                          "),children:[s.jsxs("div",{className:"flex items-center gap-".concat(n?"2":"3"),children:[P&&s.jsx(Dn,{className:"text-red-500 ".concat(n?"h-3 w-3":"h-4 w-4")}),k&&s.jsx(Zd,{className:"text-green-500 ".concat(n?"h-3 w-3":"h-4 w-4")}),T&&s.jsx(li,{className:"text-blue-500 ".concat(n?"h-3 w-3":"h-4 w-4")}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium ".concat(n?"text-xs":"text-sm"),children:i(w.price)}),s.jsx("div",{className:"text-gray-600 ".concat(n?"text-[10px]":"text-xs"),children:jt(new Date(w.date),n?"dd MMM, HH:mm":"dd MMM yyyy, HH:mm",{locale:Gt})})]})]}),s.jsxs("div",{className:"text-right shrink-0",children:[!T&&w.oldPrice&&s.jsxs(he,{variant:"outline",className:"\n                                  ".concat(n?"text-[10px] px-1 py-0":"text-xs","\n                                  ").concat(P?"text-red-600 border-red-300":"text-green-600 border-green-300","\n                                "),children:[P?"+":"",E.toFixed(1),"%"]}),T&&s.jsx(he,{variant:"outline",className:"\n                                  text-blue-600 border-blue-300\n                                  ".concat(n?"text-[10px] px-1 py-0":"text-xs","\n                                "),children:"Primo prezzo"})]})]},S)})})})]})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[s.jsx(ls,{className:"h-12 w-12 mb-4 ".concat(n?"h-8 w-8 mb-2":"")}),s.jsx("h3",{className:"font-medium mb-2 ".concat(n?"text-base":"text-lg"),children:"Nessuno storico disponibile"}),s.jsx("p",{className:"text-center ".concat(n?"text-xs":"text-sm"),children:"Non ci sono ancora dati storici sui prezzi per questo prodotto."})]})]})})}function Mge({item:e,categories:t,onEdit:r,onDelete:n,onComplete:a,onUpdate:i,onClick:o}){const{user:c}=Lt(),{toast:l}=Ir(),[u,d]=y.useState(!1),[f,h]=y.useState(!1),m=(c==null?void 0:c.username)===e.createdBy||(c==null?void 0:c.role)==="admin"||e.isPublic,p=(()=>{const I=e.historicalPriceWithDates||[];if(I.length===0)return null;const F=I.filter(U=>U.changeType!=="initial").sort((U,Z)=>new Date(Z.date).getTime()-new Date(U.date).getTime())[0];if(!F)return null;const B=F.changeType==="increase",L=F.changeType==="decrease";if(!B&&!L)return null;let z=null;return F.oldPrice&&(z=(F.price-F.oldPrice)/F.oldPrice*100),{type:F.changeType,isIncrease:B,isDecrease:L,percentage:z,fromPrice:F.oldPrice,toPrice:F.price}})(),g=e.historicalPriceWithDates&&e.historicalPriceWithDates.length>0,x=((I,F=32)=>I.length<=F?{display:I,isTruncated:!1}:{display:I.substring(0,F)+"...",isTruncated:!0})(e.name||"Prodotto senza nome"),j=e.scrapingData&&e.scrapingData.scrapingSuccess!==!0,N=e.scrapingData&&e.scrapingData.scrapingSuccess===!0,w=I=>{if(!I||!ku(I))return"Data non disponibile";try{return hs(I,{addSuffix:!0,locale:Gt})}catch(F){return console.warn("Error formatting date:",F),"Data non valida"}},S=()=>G(this,null,function*(){d(!0);try{yield a(e.id),l({title:"Elemento archiviato",description:"Elemento Shopping segnato come archiviato!"})}catch(I){l({title:"Errore",description:"Impossibile archiviare l'elemento",variant:"destructive"})}finally{d(!1)}}),P=()=>G(this,null,function*(){try{yield n(e.id),l({title:"Elemento eliminato",description:"L'elemento è stato rimosso da Shopping"})}catch(I){l({title:"Errore",description:"Impossibile eliminare l'elemento",variant:"destructive"})}}),k=I=>{I.target.closest("button")||I.target.closest("a")||I.target.closest('[role="button"]')||o&&o(e)},T=I=>{I.stopPropagation(),h(!0)},E=t==null?void 0:t.find(I=>I.name===e.category),_={high:{label:"Alta",icon:ex,color:"text-red-600",className:"border-red-200 bg-red-50"},medium:{label:"Media",icon:KP,color:"text-yellow-600",className:"border-yellow-200 bg-yellow-50"},low:{label:"Bassa",icon:qP,color:"text-green-600",className:"border-green-200 bg-green-50"}},O=_[e.priority]||_.medium,C=O.icon,R=I=>typeof I=="string"?I:isNaN(I)||I===null||I===void 0?"N/A":I.toLocaleString("it-IT",{minimumFractionDigits:2,maximumFractionDigits:2})+" €";return s.jsx(Ry,{children:s.jsxs(Me,{className:"\n          hover:shadow-md transition-all duration-200 \n          ".concat(e.completed?"opacity-60 bg-gray-50":"bg-white hover:bg-gray-50"," \n          border-l-4 border-l-cambridge-blue\n          cursor-pointer\n        "),onClick:k,children:[s.jsxs(Re,{className:"p-4 h-full flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.isTruncated?s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx("h3",{className:"font-semibold text-card-foreground text-sm leading-tight ".concat(e.completed?"line-through":""),children:x.display})}),s.jsx(Ft,{children:s.jsx("p",{className:"max-w-xs",children:e.name})})]}):s.jsx("h3",{className:"font-semibold text-card-foreground text-sm leading-tight ".concat(e.completed?"line-through":""),children:x.display}),j&&s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsx(Al,{className:"h-3 w-3 text-blue-500 animate-pulse"})}),s.jsx(Ft,{children:s.jsx("p",{children:"Analisi AI in corso..."})})]}),N&&s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsx(nx,{className:"h-3 w-3 text-purple-500"})}),s.jsx(Ft,{children:s.jsx("p",{children:"Dati elaborati da AI"})})]}),p&&s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(he,{variant:"outline",className:"text-white text-xs px-1 py-0 h-4 ".concat(p.isIncrease?"bg-red-500 border-red-500":"bg-green-500 border-green-500"),children:[p.isIncrease?s.jsx(Dn,{className:"h-2 w-2 mr-0.5"}):s.jsx(Zd,{className:"h-2 w-2 mr-0.5"}),p.percentage&&Math.abs(p.percentage)>0?"".concat(p.percentage>0?"+":"").concat(p.percentage.toFixed(1),"%"):p.isIncrease?"↑":"↓"]})}),s.jsx(Ft,{children:s.jsxs("p",{children:["Prezzo ",p.isIncrease?"aumentato":"diminuito",p.fromPrice&&" da ".concat(R(p.fromPrice))," a ".concat(R(p.toPrice))]})})]})]}),e.brandName&&s.jsxs("div",{className:"flex items-center text-xs text-gray-600 mb-1",children:[s.jsx(Mh,{className:"h-2.5 w-2.5 mr-1 flex-shrink-0"}),s.jsx("span",{className:"font-medium truncate",children:e.brandName})]})]}),s.jsxs("div",{className:"flex items-start space-x-1 ml-2 flex-shrink-0",children:[e.estimatedPrice&&s.jsx("div",{className:"flex items-center text-green-600 dark:text-green-400 font-semibold text-sm",children:R(e.estimatedPrice)}),g&&s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"sm",onClick:T,className:"text-gray-400 hover:text-green-600 h-6 w-6 p-0",children:s.jsx(Zs,{className:"h-3 w-3"})})}),s.jsx(Ft,{children:s.jsx("p",{children:"Storico prezzi"})})]}),m&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(ae,{variant:"ghost",size:"sm",onClick:I=>{I.stopPropagation(),r(e)},className:"text-gray-400 hover:text-cambridge-blue h-6 w-6 p-0",children:s.jsx(xi,{className:"h-3 w-3"})}),s.jsxs(Du,{children:[s.jsx(em,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"sm",onClick:I=>I.stopPropagation(),className:"text-gray-400 hover:text-red-500 h-6 w-6 p-0",children:s.jsx(Yr,{className:"h-3 w-3"})})}),s.jsxs(dc,{children:[s.jsxs(fc,{children:[s.jsx(mc,{children:"Conferma eliminazione"}),s.jsxs(pc,{children:['Sei sicuro di voler eliminare "',e.name||"questo elemento",'"? Questa azione non può essere annullata.']})]}),s.jsxs(hc,{children:[s.jsx(vc,{children:"Annulla"}),s.jsx(gc,{onClick:P,className:"bg-red-500 hover:bg-red-600",children:"Elimina"})]})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsxs(he,{variant:E!=null&&E.color?void 0:"outline",className:"text-xs px-2 py-0 h-5 cursor-help",style:E!=null&&E.color?{backgroundColor:"".concat(E.color,"20"),color:E.color,borderColor:E.color}:void 0,children:[(E==null?void 0:E.icon)&&s.jsx("span",{className:"mr-1 text-xs",children:E.icon}),e.category]})}),s.jsx(Ft,{children:s.jsxs("p",{children:["Categoria: ",e.category]})})]}),s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsxs(he,{variant:"outline",className:"".concat(O.color," border-current ").concat(O.className," text-xs px-2 py-0 h-5 cursor-help"),children:[s.jsx(C,{className:"h-2.5 w-2.5 mr-1"}),O.label]})}),s.jsx(Ft,{children:s.jsxs("p",{children:["Priorità: ",O.label]})})]}),s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsxs(he,{variant:"outline",className:"text-xs px-2 py-0 h-5 cursor-help ".concat(e.isPublic?"text-green-600 border-green-300 bg-green-50":"text-orange-600 border-orange-300 bg-orange-50"),children:[e.isPublic?s.jsx(gn,{className:"h-2.5 w-2.5 mr-1"}):s.jsx(vn,{className:"h-2.5 w-2.5 mr-1"}),e.isPublic?"Pubblico":"Privato"]})}),s.jsx(Ft,{children:s.jsxs("p",{children:["Visibilità: ",e.isPublic?"Pubblico":"Privato"]})})]})]}),e.notes&&s.jsx("div",{className:"mb-3 p-2 bg-gray-50 dark:bg-gray-800 rounded-md flex-grow",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(ax,{className:"h-3 w-3 mr-1.5 text-gray-500 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 line-clamp-2 leading-relaxed",children:e.notes})]})}),e.link&&s.jsx("div",{className:"mb-3",children:s.jsxs("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",onClick:I=>I.stopPropagation(),className:"inline-flex items-center text-xs text-cambridge-blue hover:text-cambridge-blue/80 hover:underline",children:[s.jsx(bl,{className:"h-3 w-3 mr-1"}),"Vedi prodotto"]})}),s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mt-auto pt-2 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[s.jsx(Aa,{className:"h-2.5 w-2.5 mr-1 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.createdBy})]}),s.jsxs("div",{className:"flex items-center ml-2 flex-shrink-0",children:[s.jsx(Or,{className:"h-2.5 w-2.5 mr-1"}),s.jsx("span",{className:"truncate",children:w(e.createdAt)})]})]}),!e.completed&&s.jsx("div",{className:"flex justify-center mt-3",children:s.jsx(ae,{onClick:I=>{I.stopPropagation(),S()},disabled:u,variant:"outline",size:"sm",className:"w-full h-8 bg-green-50 hover:bg-green-100 text-green-700 border-green-300 dark:bg-green-950/20 dark:text-green-400 dark:border-green-800 text-xs",children:u?"Segnando...":s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-1 h-3 w-3"}),"Archivia"]})})})]}),s.jsx(pM,{isOpen:f,onClose:()=>h(!1),item:e})]})})}class Ige{constructor(){Un(this,"apiKey");Un(this,"searchEngineId");Un(this,"baseUrl","https://www.googleapis.com/customsearch/v1");if(this.apiKey=void 0,this.searchEngineId=void 0,!this.apiKey||!this.searchEngineId)throw new Error("Google Search API Key o Search Engine ID mancanti. Assicurati di aver configurato VITE_GOOGLE_SEARCH_API_KEY e VITE_GOOGLE_SEARCH_ENGINE_ID nelle variabili d'ambiente.")}searchProductImages(t,r,n=10){return G(this,null,function*(){try{let a=eL(t);if(a+=" "+r,a===null)throw"searchQuery null";const i=new URLSearchParams({key:this.apiKey,cx:this.searchEngineId,q:a,searchType:"image",num:Math.min(n,10).toString(),fileType:"jpg,png,webp",imgSize:"medium",imgColorType:"color",safe:"off",siteSearch:"-pinterest.com -flickr.com -tumblr.com",siteSearchFilter:"e"}),o=yield fetch("".concat(this.baseUrl,"?").concat(i.toString()));if(!o.ok){const d=yield o.text();throw console.error("❌ Errore API Google Search:",o.status,d),new Error("Errore API Google Search: ".concat(o.status," - ").concat(o.statusText))}const c=yield o.text();let l;try{l=JSON.parse(c)}catch(d){throw console.error("❌ JSON parsing failed:",d),new Error("Impossibile parsare la risposta JSON:")}if(l.error)throw console.error("❌ Google API Error:",l.error),new Error("Google API Error: ".concat(l.error.message," (").concat(l.error.code,")"));return!l.items||l.items.length===0?(console.warn("⚠️ Nessuna immagine trovata per"),[]):l.items.map((d,f)=>{try{return!d.link||!d.image?(console.warn("⚠️ Item ".concat(f," manca campi obbligatori:"),d),null):{id:"img_".concat(f,"_").concat(Date.now()),url:d.link,thumbnailUrl:d.image.thumbnailLink||d.link,title:d.title||"Immagine senza titolo",width:d.image.width||0,height:d.image.height||0,contextLink:d.image.contextLink||""}}catch(h){return console.error("❌ Errore processando item ".concat(f,":"),h,d),null}}).filter(d=>d!==null)}catch(a){throw console.error("❌ Errore durante la ricerca immagini:",a),a instanceof Error&&console.error("Error details:",{name:a.name,message:a.message,stack:a.stack}),new Error(a instanceof Error?"Errore ricerca immagini: ".concat(a.message):"Errore sconosciuto durante la ricerca immagini")}})}}const $ge=new Ige;function Rge(e,t){return y.useReducer((r,n)=>{const a=t[r][n];return a!=null?a:r},e)}var Lb="ScrollArea",[gM,Nxe]=nn(Lb),[Lge,jn]=gM(Lb),vM=y.forwardRef((e,t)=>{const _=e,{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600}=_,o=W(_,["__scopeScrollArea","type","dir","scrollHideDelay"]),[c,l]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,v]=y.useState(null),[p,g]=y.useState(null),[b,x]=y.useState(0),[j,N]=y.useState(0),[w,S]=y.useState(!1),[P,k]=y.useState(!1),T=Xe(t,O=>l(O)),E=Lh(a);return s.jsx(Lge,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:c,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:P,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:N,children:s.jsx($e.div,D(A({dir:E},o),{ref:T,style:A({position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px"},e.style)}))})});vM.displayName=Lb;var yM="ScrollAreaViewport",xM=y.forwardRef((e,t)=>{const u=e,{__scopeScrollArea:r,children:n,nonce:a}=u,i=W(u,["__scopeScrollArea","children","nonce"]),o=jn(yM,r),c=y.useRef(null),l=Xe(t,c,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx($e.div,D(A({"data-radix-scroll-area-viewport":""},i),{ref:l,style:A({overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden"},e.style),children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})}))]})});xM.displayName=yM;var da="ScrollAreaScrollbar",Fb=y.forwardRef((e,t)=>{const l=e,{forceMount:r}=l,n=W(l,["forceMount"]),a=jn(da,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,c=e.orientation==="horizontal";return y.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),a.type==="hover"?s.jsx(Fge,D(A({},n),{ref:t,forceMount:r})):a.type==="scroll"?s.jsx(Bge,D(A({},n),{ref:t,forceMount:r})):a.type==="auto"?s.jsx(bM,D(A({},n),{ref:t,forceMount:r})):a.type==="always"?s.jsx(Bb,D(A({},n),{ref:t})):null});Fb.displayName=da;var Fge=y.forwardRef((e,t)=>{const c=e,{forceMount:r}=c,n=W(c,["forceMount"]),a=jn(da,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),o(!0)},f=()=>{u=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Mr,{present:r||i,children:s.jsx(bM,D(A({"data-state":i?"visible":"hidden"},n),{ref:t}))})}),Bge=y.forwardRef((e,t)=>{const u=e,{forceMount:r}=u,n=W(u,["forceMount"]),a=jn(da,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Ym(()=>l("SCROLL_END"),100),[c,l]=Rge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,a.scrollHideDelay,l]),y.useEffect(()=>{const d=a.viewport,f=i?"scrollLeft":"scrollTop";if(d){let h=d[f];const m=()=>{const v=d[f];h!==v&&(l("SCROLL"),o()),h=v};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,l,o]),s.jsx(Mr,{present:r||c!=="hidden",children:s.jsx(Bb,D(A({"data-state":c==="hidden"?"hidden":"visible"},n),{ref:t,onPointerEnter:pe(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:pe(e.onPointerLeave,()=>l("POINTER_LEAVE"))}))})}),bM=y.forwardRef((e,t)=>{const r=jn(da,e.__scopeScrollArea),u=e,{forceMount:n}=u,a=W(u,["forceMount"]),[i,o]=y.useState(!1),c=e.orientation==="horizontal",l=Ym(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?d:f)}},10);return tc(r.viewport,l),tc(r.content,l),s.jsx(Mr,{present:n||i,children:s.jsx(Bb,D(A({"data-state":i?"visible":"hidden"},a),{ref:t}))})}),Bb=y.forwardRef((e,t)=>{const h=e,{orientation:r="vertical"}=h,n=W(h,["orientation"]),a=jn(da,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[c,l]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=AM(c.viewport,c.content),d=D(A({},n),{sizes:c,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m});function f(m,v){return qge(m,o.current,c,v)}return r==="horizontal"?s.jsx(zge,D(A({},d),{ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,v=eA(m,c,a.dir);i.current.style.transform="translate3d(".concat(v,"px, 0, 0)")}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}})):r==="vertical"?s.jsx(Uge,D(A({},d),{ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,v=eA(m,c);i.current.style.transform="translate3d(0, ".concat(v,"px, 0)")}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}})):null}),zge=y.forwardRef((e,t)=>{const d=e,{sizes:r,onSizesChange:n}=d,a=W(d,["sizes","onSizesChange"]),i=jn(da,e.__scopeScrollArea),[o,c]=y.useState(),l=y.useRef(null),u=Xe(t,l,i.onScrollbarXChange);return y.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),s.jsx(jM,D(A({"data-orientation":"horizontal"},a),{ref:u,sizes:r,style:A({bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gm(r)+"px"},e.style),onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),PM(m,h)&&f.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:hh(o.paddingLeft),paddingEnd:hh(o.paddingRight)}})}}))}),Uge=y.forwardRef((e,t)=>{const d=e,{sizes:r,onSizesChange:n}=d,a=W(d,["sizes","onSizesChange"]),i=jn(da,e.__scopeScrollArea),[o,c]=y.useState(),l=y.useRef(null),u=Xe(t,l,i.onScrollbarYChange);return y.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),s.jsx(jM,D(A({"data-orientation":"vertical"},a),{ref:u,sizes:r,style:A({top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gm(r)+"px"},e.style),onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(i.viewport){const m=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),PM(m,h)&&f.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:hh(o.paddingTop),paddingEnd:hh(o.paddingBottom)}})}}))}),[Wge,wM]=gM(da),jM=y.forwardRef((e,t)=>{const T=e,{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f}=T,h=W(T,["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),m=jn(da,r),[v,p]=y.useState(null),g=Xe(t,E=>p(E)),b=y.useRef(null),x=y.useRef(""),j=m.viewport,N=n.content-n.viewport,w=gr(d),S=gr(l),P=Ym(f,10);function k(E){if(b.current){const _=E.clientX-b.current.left,O=E.clientY-b.current.top;u({x:_,y:O})}}return y.useEffect(()=>{const E=_=>{const O=_.target;(v==null?void 0:v.contains(O))&&w(_,N)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[j,v,N,w]),y.useEffect(S,[n,S]),tc(v,P),tc(m.content,P),s.jsx(Wge,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:gr(i),onThumbPointerUp:gr(o),onThumbPositionChange:S,onThumbPointerDown:gr(c),children:s.jsx($e.div,D(A({},h),{ref:g,style:A({position:"absolute"},h.style),onPointerDown:pe(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),b.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:pe(e.onPointerMove,k),onPointerUp:pe(e.onPointerUp,E=>{const _=E.target;_.hasPointerCapture(E.pointerId)&&_.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})}))})}),fh="ScrollAreaThumb",NM=y.forwardRef((e,t)=>{const i=e,{forceMount:r}=i,n=W(i,["forceMount"]),a=wM(fh,e.__scopeScrollArea);return s.jsx(Mr,{present:r||a.hasThumb,children:s.jsx(Vge,A({ref:t},n))})}),Vge=y.forwardRef((e,t)=>{const f=e,{__scopeScrollArea:r,style:n}=f,a=W(f,["__scopeScrollArea","style"]),i=jn(fh,r),o=wM(fh,r),{onThumbPositionChange:c}=o,l=Xe(t,h=>o.onThumbChange(h)),u=y.useRef(void 0),d=Ym(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(d(),!u.current){const v=Kge(h,c);u.current=v,c()}};return c(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,d,c]),s.jsx($e.div,D(A({"data-state":o.hasThumb?"visible":"hidden"},a),{ref:l,style:A({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},n),onPointerDownCapture:pe(e.onPointerDownCapture,h=>{const v=h.target.getBoundingClientRect(),p=h.clientX-v.left,g=h.clientY-v.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:pe(e.onPointerUp,o.onThumbPointerUp)}))});NM.displayName=fh;var zb="ScrollAreaCorner",SM=y.forwardRef((e,t)=>{const r=jn(zb,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Hge,D(A({},e),{ref:t})):null});SM.displayName=zb;var Hge=y.forwardRef((e,t)=>{const d=e,{__scopeScrollArea:r}=d,n=W(d,["__scopeScrollArea"]),a=jn(zb,r),[i,o]=y.useState(0),[c,l]=y.useState(0),u=!!(i&&c);return tc(a.scrollbarX,()=>{var h;const f=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(f),l(f)}),tc(a.scrollbarY,()=>{var h;const f=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(f),o(f)}),u?s.jsx($e.div,D(A({},n),{ref:t,style:A({width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0},e.style)})):null});function hh(e){return e?parseInt(e,10):0}function AM(e,t){const r=e/t;return isNaN(r)?0:r}function Gm(e){const t=AM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function qge(e,t,r,n="ltr"){const a=Gm(r),i=a/2,o=t||i,c=a-o,l=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-c,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return _M([l,u],f)(e)}function eA(e,t,r="ltr"){const n=Gm(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,c=i-n,l=r==="ltr"?[0,o]:[o*-1,0],u=Og(e,l);return _M([0,o],[0,c])(u)}function _M(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function PM(e,t){return e>0&&e<t}var Kge=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,c=r.top!==i.top;(o||c)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Ym(e,t){const r=gr(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function tc(e,t){const r=gr(t);vr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var CM=vM,Gge=xM,Yge=SM;const OM=M.forwardRef((a,n)=>{var i=a,{className:e,children:t}=i,r=W(i,["className","children"]);return s.jsxs(CM,D(A({ref:n,className:ne("relative overflow-hidden",e)},r),{children:[s.jsx(Gge,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(EM,{}),s.jsx(Yge,{})]}))});OM.displayName=CM.displayName;const EM=M.forwardRef((a,n)=>{var i=a,{className:e,orientation:t="vertical"}=i,r=W(i,["className","orientation"]);return s.jsx(Fb,D(A({ref:n,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e)},r),{children:s.jsx(NM,{className:"relative flex-1 rounded-full bg-border"})}))});EM.displayName=Fb.displayName;function Od(r){var n=r,{className:e}=n,t=W(n,["className"]);return s.jsx("div",A({className:ne("animate-pulse rounded-md bg-muted",e)},t))}const Xge=({image:e,isSelected:t,onSelect:r})=>{const[n,a]=y.useState(!1),[i,o]=y.useState(!0),c=()=>{o(!1)},l=()=>{a(!0),o(!1)};return s.jsxs(Me,{className:"\n        relative overflow-hidden cursor-pointer transition-all duration-300 group\n        hover:shadow-lg hover:scale-[1.02]\n        ".concat(t?"ring-2 ring-blue-500 shadow-xl":"hover:shadow-md","\n      "),onClick:r,children:[s.jsxs("div",{className:"relative aspect-square bg-gray-100",children:[i&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(Od,{className:"w-full h-full"})}),n?s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 text-gray-500",children:[s.jsx(ls,{className:"h-8 w-8 mb-2"}),s.jsx("span",{className:"text-xs text-center px-2",children:"Errore caricamento"})]}):s.jsx("img",{src:e.url,alt:e.title,className:"\n              w-full h-full object-cover transition-all duration-300\n              ".concat(i?"opacity-0":"opacity-100","\n              ").concat(t?"brightness-110":"group-hover:brightness-105","\n            "),onLoad:c,onError:l,loading:"lazy"}),s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300",children:[t&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"bg-blue-500 text-white rounded-full p-1.5 shadow-lg",children:s.jsx(Rt,{className:"h-4 w-4"})})}),s.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded px-2 py-1 text-xs truncate",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(bl,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:new URL(e.contextLink).hostname})]})})})]})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("p",{className:"text-xs text-gray-600 truncate",title:e.title,children:e.title}),s.jsx("div",{className:"flex items-center justify-between mt-1",children:s.jsxs(he,{variant:"outline",className:"text-xs",children:[e.width," × ",e.height]})})]})]})},Zge=({isOpen:e,onClose:t,onSelectImage:r,productName:n,brandName:a,images:i,isLoading:o,error:c})=>{const[l,u]=y.useState("");y.useEffect(()=>{e&&u("")},[e]);const d=()=>{l&&(r(l),t())},f=()=>{u(""),t()};return s.jsx(cr,{open:e,onOpenChange:f,children:s.jsxs(tr,{className:"max-w-4xl max-h-[90vh] p-0",children:[s.jsx(rr,{className:"p-6 pb-4 border-b",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(nr,{className:"text-xl font-semibold",children:"Seleziona un'immagine"}),s.jsxs(Tl,{className:"mt-1",children:["Scegli l'immagine per ",s.jsx("span",{className:"font-medium",children:n}),a&&s.jsxs("span",{className:"text-gray-500",children:[" di ",a]})]})]})})}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[o&&s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[s.jsx(Ih,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Ricerca immagini in corso..."})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((h,m)=>s.jsxs(Me,{className:"overflow-hidden",children:[s.jsx(Od,{className:"aspect-square w-full"}),s.jsxs("div",{className:"p-3",children:[s.jsx(Od,{className:"h-3 w-3/4 mb-2"}),s.jsx(Od,{className:"h-4 w-16"})]})]},m))})]}),c&&!o&&s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-8",children:[s.jsx(ls,{className:"h-12 w-12 text-red-500 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Errore durante la ricerca"}),s.jsx("p",{className:"text-gray-600 mb-4 max-w-md",children:c}),s.jsx(ae,{onClick:f,variant:"outline",children:"Chiudi"})]})}),!o&&!c&&s.jsx(OM,{className:"h-[60vh]",children:s.jsx("div",{className:"p-6",children:i.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-8",children:[s.jsx(n5,{className:"h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nessuna immagine trovata"}),s.jsx("p",{className:"text-gray-600 mb-4 max-w-md",children:"Non siamo riusciti a trovare immagini per questo prodotto. Prova a modificare il nome del prodotto o riprova più tardi."}),s.jsx(ae,{onClick:f,variant:"outline",children:"Chiudi"})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(h=>s.jsx(Xge,{image:h,isSelected:l===h.url,onSelect:()=>u(h.url)},h.id))})})})})]}),!o&&!c&&i.length>0&&s.jsx("div",{className:"border-t p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-500",children:l?s.jsx("span",{className:"text-green-600 font-medium",children:"✓ Immagine selezionata"}):"Seleziona un'immagine per continuare"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ae,{variant:"outline",onClick:f,children:"Annulla"}),s.jsx(ae,{onClick:d,disabled:!l,className:"bg-blue-600 hover:bg-blue-700",children:"Conferma selezione"})]})]})})]})})},Qge=({isOpen:e,onClose:t,onSelectImage:r,productName:n,brandName:a})=>{const[i,o]=y.useState(""),[c,l]=y.useState(!1),[u,d]=y.useState(""),[f,h]=y.useState(""),[m,v]=y.useState(!1);y.useEffect(()=>{e&&(o(""),d(""),h(""),v(!1),l(!1))},[e]);const p=j=>G(Vu,null,function*(){if(!j.trim()){h(""),d(""),v(!1);return}try{new URL(j)}catch(S){h("URL non valido"),d(""),v(!1);return}if(!(S=>{const P=/\.(jpg|jpeg|png|gif|webp|bmp)(\?.*)?$/i.test(S),k=/(?:cdn|images?|media|static|assets)[^/]*.*\/.*(?:image|photo|picture|gallery)/i.test(S),T=/\/(?:image|img|photo|picture|gallery|media|upload)[s]?[\/\w-]/i.test(S),E=/(?:cloudinary|imgix|amazonaws|cloudfront|akamai|fastly|thron|shopify|wix|squarespace)\.com/i.test(S),_=/[?&](?:format|f)=(?:auto|jpg|jpeg|png|webp|gif)/i.test(S);return P||k||T||E||_})(j)){h("L'URL deve puntare a un'immagine. Supportati: file con estensione immagine, CDN di immagini, o path che indicano immagini."),d(""),v(!1);return}l(!0),h("");const w=new Image;w.onload=()=>{d(j),v(!0),l(!1),h("")},w.onerror=()=>{h("Impossibile caricare l'immagine da questo URL"),d(""),v(!1),l(!1)},w.src=j});y.useEffect(()=>{const j=setTimeout(()=>{i.trim()&&p(i)},500);return()=>clearTimeout(j)},[i]);const g=j=>{o(j),j.trim()||(h(""),d(""),v(!1),l(!1))},b=()=>{m&&u&&(r(u),t())},x=()=>{o(""),d(""),h(""),v(!1),l(!1),t()};return s.jsx(cr,{open:e,onOpenChange:x,children:s.jsxs(tr,{className:"max-w-2xl",onClick:j=>j.stopPropagation(),onPointerDown:j=>j.stopPropagation(),onPointerUp:j=>j.stopPropagation(),children:[s.jsxs(rr,{onClick:j=>j.stopPropagation(),children:[s.jsxs(nr,{className:"flex items-center gap-2",children:[s.jsx(rx,{className:"h-5 w-5 text-blue-600"}),"Carica immagine da URL"]}),s.jsxs(Tl,{children:["Inserisci l'URL di un'immagine per ",s.jsx("span",{className:"font-medium",children:n}),a&&s.jsxs("span",{className:"text-gray-500",children:[" di ",a]})]})]}),s.jsxs("div",{className:"space-y-6",onClick:j=>j.stopPropagation(),children:[s.jsxs("div",{className:"space-y-2",onClick:j=>j.stopPropagation(),children:[s.jsx(Ot,{htmlFor:"image-url",children:"URL Immagine"}),s.jsxs("div",{className:"relative",children:[s.jsx(st,{id:"image-url",type:"url",placeholder:"https://esempio.com/immagine.jpg",value:i,onChange:j=>g(j.target.value),onClick:j=>j.stopPropagation(),onFocus:j=>j.stopPropagation(),className:"pr-10 ".concat(f?"border-red-500 focus:border-red-500":m?"border-green-500 focus:border-green-500":"")}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:c?s.jsx(hn,{className:"h-4 w-4 animate-spin text-blue-500"}):f?s.jsx(ls,{className:"h-4 w-4 text-red-500"}):m?s.jsx(Rt,{className:"h-4 w-4 text-green-500"}):null})]}),f&&s.jsxs(No,{variant:"destructive",onClick:j=>j.stopPropagation(),children:[s.jsx(ls,{className:"h-4 w-4"}),s.jsx(So,{children:f})]}),!i.trim()&&s.jsxs("div",{className:"text-sm text-gray-500",onClick:j=>j.stopPropagation(),children:[s.jsx("p",{className:"mb-1",children:"💡 Suggerimenti:"}),s.jsxs("ul",{className:"space-y-1 ml-4",children:[s.jsx("li",{children:"• URL con estensione: .jpg, .png, .gif, .webp"}),s.jsx("li",{children:"• CDN di immagini: cloudinary, imgix, thron, etc."}),s.jsx("li",{children:"• Path immagini: /image/, /photo/, /gallery/"}),s.jsx("li",{children:"• Parametri formato: ?format=auto, ?f=jpg"}),s.jsx("li",{children:"• Verifica che l'immagine sia pubblicamente accessibile"})]})]})]}),c&&s.jsx("div",{className:"flex items-center justify-center p-8 bg-gray-50 rounded-lg",onClick:j=>j.stopPropagation(),children:s.jsxs("div",{className:"flex items-center gap-3 text-blue-600",children:[s.jsx(hn,{className:"h-5 w-5 animate-spin"}),s.jsx("span",{children:"Verifica immagine in corso..."})]})}),u&&!c&&s.jsxs("div",{className:"space-y-3",onClick:j=>j.stopPropagation(),children:[s.jsx(Ot,{children:"Anteprima"}),s.jsxs("div",{className:"relative bg-gray-50 rounded-lg p-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("img",{src:u,alt:"Anteprima immagine",className:"max-w-full max-h-48 object-contain rounded shadow-sm",onClick:j=>j.stopPropagation(),onError:()=>{h("Errore nel caricamento dell'anteprima"),d(""),v(!1)}})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"bg-green-500 text-white rounded-full p-1.5 shadow-lg",children:s.jsx(Rt,{className:"h-3 w-3"})})})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",onClick:j=>j.stopPropagation(),children:[s.jsx("div",{className:"text-sm text-gray-500",children:m?s.jsxs("span",{className:"text-green-600 font-medium flex items-center gap-1",children:[s.jsx(Rt,{className:"h-4 w-4"}),"Immagine valida"]}):i.trim()?s.jsx("span",{className:"text-gray-500",children:"Inserisci un URL valido"}):s.jsx("span",{className:"text-gray-500",children:"Inserisci l'URL di un'immagine"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ae,{variant:"outline",onClick:j=>{j.stopPropagation(),x()},children:"Annulla"}),s.jsx(ae,{onClick:j=>{j.stopPropagation(),b()},disabled:!m||c,className:"bg-blue-600 hover:bg-blue-700",children:"Conferma URL"})]})]})]})]})})};function Jge({item:e,categories:t,onEdit:r,onDelete:n,onComplete:a,onUpdate:i,onClick:o,viewMode:c="images"}){const{user:l}=Lt(),{toast:u}=Ir(),d=Mc(),[f,h]=y.useState(!1),[m,v]=y.useState(!1),[p,g]=y.useState(!1),[b,x]=y.useState(!1),[j,N]=y.useState([]),[w,S]=y.useState(""),[P,k]=y.useState(!1),[T,E]=y.useState(!1),_=(l==null?void 0:l.username)===e.createdBy||(l==null?void 0:l.role)==="admin"||e.isPublic,O=_&&e.canUpdateImage(),C=!d&&c==="images",I=(()=>{const re=e.historicalPriceWithDates||[];if(re.length===0)return null;const se=re.filter(ve=>ve.changeType!=="initial").sort((ve,ze)=>new Date(ze.date).getTime()-new Date(ve.date).getTime())[0];if(!se)return null;const Ae=se.changeType==="increase",Be=se.changeType==="decrease";if(!Ae&&!Be)return null;let lt=null;return se.oldPrice&&(lt=(se.price-se.oldPrice)/se.oldPrice*100),{type:se.changeType,isIncrease:Ae,isDecrease:Be,percentage:lt,fromPrice:se.oldPrice,toPrice:se.price}})(),F=e.historicalPriceWithDates&&e.historicalPriceWithDates.length>0,L=((re,se=35)=>re.length<=se?{display:re,isTruncated:!1}:{display:re.substring(0,se)+"...",isTruncated:!0})(e.name||"Prodotto senza nome"),z=e.scrapingData&&e.scrapingData.scrapingSuccess!==!0,U=e.scrapingData&&e.scrapingData.scrapingSuccess===!0,Z=re=>{if(!re||!ku(re))return"Data non disponibile";try{return hs(re,{addSuffix:!0,locale:Gt})}catch(se){return"Data non valida"}},K=()=>G(this,null,function*(){h(!0);try{yield a(e.id),u({title:"Elemento Archiviato",description:"Elemento Shopping segnato come Archiviato!"})}catch(re){u({title:"Errore",description:"Impossibile segnare l'elemento come Archiviato",variant:"destructive"})}finally{h(!1)}}),ie=()=>G(this,null,function*(){try{yield n(e.id),u({title:"Elemento eliminato",description:"Elemento della Shopping eliminato con successo!"})}catch(re){u({title:"Errore",description:"Impossibile eliminare l'elemento",variant:"destructive"})}}),xe=re=>{re.target.closest("button")||re.target.closest("a")||re.target.closest('[role="button"]')||C&&o&&o(e)},ke=re=>{re.stopPropagation(),o&&o(e)},Oe=re=>G(this,null,function*(){var se;if(re.stopPropagation(),!O){u({title:"Operazione non consentita",description:"L'immagine di questo prodotto è stata bloccata e non può essere modificata.",variant:"destructive"});return}if(!((se=e.name)!=null&&se.trim())){u({title:"Nome prodotto richiesto",description:"È necessario specificare un nome per il prodotto per cercare le immagini.",variant:"destructive"});return}g(!0),S(""),N([]);try{const Ae=yield $ge.searchProductImages(e.link,e.name+" "+e.brandName,10);if(Ae.length===0){u({title:"Nessuna immagine trovata",description:"Non sono state trovate immagini per questo prodotto. Prova a modificare il nome.",variant:"destructive"});return}N(Ae),x(!0),u({title:"Ricerca completata",description:"Trovate ".concat(Ae.length," immagini. Seleziona quella che preferisci.")})}catch(Ae){console.error("❌ Errore ricerca immagini:",Ae);const Be=Ae instanceof Error?Ae.message:"Errore sconosciuto";S(Be),u({title:"Errore ricerca immagini",description:Be,variant:"destructive"})}finally{g(!1)}}),Fe=re=>{if(re.stopPropagation(),!O){u({title:"Operazione non consentita",description:"L'immagine di questo prodotto è stata bloccata e non può essere modificata.",variant:"destructive"});return}k(!0)},ue=re=>{re.stopPropagation(),E(!0)},ee=re=>G(this,null,function*(){try{const se=mI(Z3,"shopping_items",e.id);if(yield pI(se,{imageUrl:re,imageUpdated:!0,updatedAt:new Date}),i){const Ae=Object.assign(Object.create(Object.getPrototypeOf(e)),e,{imageUrl:re,imageUpdated:!0,updatedAt:new Date});i(Ae)}x(!1),k(!1),N([]),S(""),u({title:"Immagine aggiornata",description:"L'immagine del prodotto è stata aggiornata con successo!"})}catch(se){console.error("❌ Errore aggiornamento immagine:",se),u({title:"Errore aggiornamento",description:"Impossibile aggiornare l'immagine del prodotto.",variant:"destructive"})}}),Y=re=>typeof re=="string"?re:re.toLocaleString("it-IT",{minimumFractionDigits:2,maximumFractionDigits:2})+" €",Q=t==null?void 0:t.find(re=>re.name===e.category),H=e.imageUrl&&!m;return s.jsx(Ry,{children:s.jsxs(Me,{className:"\n          transition-all duration-300 hover:shadow-xl border group relative overflow-hidden\n          ".concat(e.completed?"opacity-60":""," \n          ").concat(e.priority==="high"?"ring-2 ring-red-400 dark:ring-red-500":"","\n          ").concat(z?"ring-2 ring-blue-400":"","\n          ").concat(C?"cursor-pointer":"cursor-default","\n        "),onClick:xe,children:[s.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-100",children:[H?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:e.imageUrl,alt:e.name||"Prodotto",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:()=>v(!0),loading:"lazy"}),e.estimatedPrice&&s.jsx("div",{className:"absolute bottom-2 right-2 bg-white/95 backdrop-blur-sm rounded-md px-2 py-1 shadow-md",children:s.jsx("span",{className:"font-bold text-green-600 text-sm",children:Y(e.estimatedPrice)})})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Mh,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Nessuna immagine"})]})}),e.estimatedPrice&&s.jsx("div",{className:"absolute bottom-2 right-2 bg-white/95 backdrop-blur-sm rounded-md px-2 py-1 shadow-md",children:s.jsx("span",{className:"font-bold text-green-600 text-sm",children:Y(e.estimatedPrice)})})]}),s.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300",children:[s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.link&&s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx(ae,{variant:"secondary",size:"sm",className:"h-8 w-8 p-0 bg-white/90 hover:bg-white shadow-md",onClick:re=>re.stopPropagation(),asChild:!0,children:s.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:s.jsx(wl,{className:"h-4 w-4 text-gray-500 dark:text-black-300"})})})}),s.jsx(Ft,{children:s.jsx("p",{children:"Vedi prodotto"})})]}),_&&s.jsxs(s.Fragment,{children:[s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx(ae,{variant:"secondary",size:"sm",onClick:re=>{re.stopPropagation(),r(e)},className:"h-8 w-8 p-0 bg-white/90 hover:bg-white shadow-md",children:s.jsx(xi,{className:"h-4 w-4 text-gray-500 dark:text-black-300"})})}),s.jsx(Ft,{children:s.jsx("p",{children:"Modifica"})})]}),s.jsxs(Du,{children:[s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx(em,{asChild:!0,children:s.jsx(ae,{variant:"secondary",size:"sm",onClick:re=>re.stopPropagation(),className:"h-8 w-8 p-0 bg-white/90 hover:bg-red-100 shadow-md text-red-600",children:s.jsx(Yr,{className:"h-4 w-4 text-gray-500 dark:text-black-300"})})})}),s.jsx(Ft,{children:s.jsx("p",{children:"Elimina"})})]}),s.jsxs(dc,{children:[s.jsxs(fc,{children:[s.jsx(mc,{children:"Conferma eliminazione"}),s.jsxs(pc,{children:['Sei sicuro di voler eliminare "',e.name||"questo elemento",'"? Questa azione non può essere annullata.']})]}),s.jsxs(hc,{children:[s.jsx(vc,{children:"Annulla"}),s.jsx(gc,{onClick:ie,className:"bg-red-500 hover:bg-red-600",children:"Elimina"})]})]})]})]})]}),_&&s.jsxs("div",{className:"absolute bottom-2 left-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx(ae,{variant:"secondary",size:"sm",onClick:Oe,disabled:p||!O,className:"\n                        h-8 w-8 p-0 bg-white/90 shadow-md transition-colors\n                        ".concat(O?"hover:bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-400 cursor-not-allowed","\n                      "),children:p?s.jsx(hn,{className:"h-4 w-4 animate-spin"}):s.jsx(JP,{className:"h-4 w-4"})})}),s.jsx(Ft,{children:s.jsx("p",{children:O?p?"Ricerca in corso...":"Rigenera immagine":"Immagine bloccata"})})]}),s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx(ae,{variant:"secondary",size:"sm",onClick:Fe,disabled:!O,className:"\n                        h-8 w-8 p-0 bg-white/90 shadow-md transition-colors\n                        ".concat(O?"hover:bg-purple-100 text-purple-600":"hover:bg-gray-100 text-gray-400 cursor-not-allowed","\n                      "),children:s.jsx(rx,{className:"h-4 w-4"})})}),s.jsx(Ft,{children:s.jsx("p",{children:O?"Carica da URL":"Immagine bloccata"})})]}),F&&s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx(ae,{variant:"secondary",size:"sm",onClick:ue,className:"h-8 w-8 p-0 bg-white/90 shadow-md transition-colors hover:bg-green-100 text-green-600",children:s.jsx(Zs,{className:"h-4 w-4"})})}),s.jsx(Ft,{children:s.jsx("p",{children:"Storico prezzi"})})]})]})]}),s.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.priority==="high"&&s.jsxs(he,{variant:"outline",className:"bg-red-500 text-white border-red-500 text-xs",children:[s.jsx(ex,{className:"h-2 w-2 mr-1"}),"Urgente"]}),z&&s.jsxs(he,{variant:"outline",className:"bg-blue-500 text-white border-blue-500 text-xs animate-pulse",children:[s.jsx(nx,{className:"h-2 w-2 mr-1"}),"AI"]}),U&&s.jsxs(he,{variant:"outline",className:"bg-purple-500 text-white border-purple-500 text-xs",children:[s.jsx(Al,{className:"h-2 w-2 mr-1"}),"AI"]}),e.imageUpdated&&s.jsxs(he,{variant:"outline",className:"bg-orange-500 text-white border-orange-500 text-xs",children:[s.jsx(vn,{className:"h-2 w-2 mr-1"}),"IMG"]}),I&&s.jsxs(Ht,{children:[s.jsx(qt,{children:s.jsxs(he,{variant:"outline",className:"text-white text-xs ".concat(I.isIncrease?"bg-red-500 border-red-500":"bg-green-500 border-green-500"),children:[I.isIncrease?s.jsx(Dn,{className:"h-2 w-2 mr-1"}):s.jsx(Zd,{className:"h-2 w-2 mr-1"}),I.percentage&&Math.abs(I.percentage)>0?"".concat(I.percentage>0?"+":"").concat(I.percentage.toFixed(1),"%"):I.isIncrease?"↑":"↓"]})}),s.jsx(Ft,{children:s.jsxs("p",{children:["Prezzo ",I.isIncrease?"aumentato":"diminuito",I.fromPrice&&" da ".concat(Y(I.fromPrice))," a ".concat(Y(I.toPrice))]})})]})]}),p&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center gap-3 shadow-lg",children:[s.jsx(hn,{className:"h-5 w-5 animate-spin text-blue-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Ricerca immagini..."})]})})]}),s.jsxs(Re,{className:"p-4",children:[s.jsxs("div",{className:"mb-2",children:[e.brandName&&s.jsx("p",{className:"text-xs text-gray-500 mb-1 truncate",children:e.brandName}),L.isTruncated?s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx("h3",{className:"font-medium text-sm leading-tight cursor-help ".concat(e.completed?"line-through":""),children:L.display})}),s.jsx(Ft,{children:s.jsx("p",{className:"max-w-xs",children:e.name})})]}):s.jsx("h3",{className:"font-medium text-sm leading-tight ".concat(e.completed?"line-through":""),children:L.display})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs(he,{variant:"outline",className:"text-xs px-2 py-0.5",style:Q?{backgroundColor:"".concat(Q.color,"20"),color:Q.color,borderColor:Q.color}:void 0,children:[(Q==null?void 0:Q.icon)&&s.jsx("span",{className:"mr-1 text-xs",children:Q.icon}),e.category]}),s.jsx("div",{className:"flex items-center gap-1",children:e.isPublic?s.jsx(gn,{className:"w-3 h-3 text-green-600"}):s.jsx(vn,{className:"w-3 h-3 text-orange-600"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Aa,{className:"h-3 w-3 text-blue-600"})}),s.jsx("span",{className:"text-xs text-gray-600 truncate max-w-[60px]",children:e.createdBy})]})}),s.jsx(Ft,{children:s.jsxs("p",{children:["Creato da: ",e.createdBy]})})]}),s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-100 flex items-center justify-center",children:s.jsx(Or,{className:"h-3 w-3 text-gray-600"})})}),s.jsx(Ft,{children:s.jsx("p",{children:Z(e.createdAt)})})]})]}),!e.completed&&s.jsxs("div",{className:"flex gap-2 ".concat(C?"":"w-full"),children:[!C&&o&&s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx(ae,{onClick:ke,variant:"outline",size:"sm",className:"flex-1 h-8 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-300",children:d?s.jsx(Sg,{className:"h-4 w-4"}):s.jsxs(s.Fragment,{children:[s.jsx(Sg,{className:"mr-1 h-3 w-3"}),"Dettaglio"]})})}),d&&s.jsx(Ft,{children:s.jsx("p",{children:"Dettaglio"})})]}),s.jsxs(Ht,{children:[s.jsx(qt,{asChild:!0,children:s.jsx(ae,{onClick:re=>{re.stopPropagation(),K()},disabled:f,variant:"outline",size:"sm",className:"".concat(C?"w-full":"flex-1"," h-8 bg-green-50 hover:bg-green-100 text-green-700 border-green-300"),children:f?s.jsx(hn,{className:"h-4 w-4 animate-spin"}):d?s.jsx(Rt,{className:"h-4 w-4"}):s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-1 h-3 w-3"}),"Archivia"]})})}),d&&s.jsx(Ft,{children:s.jsx("p",{children:f?"Archiviando...":"Archivia"})})]})]})]})]}),s.jsx(Zge,{isOpen:b,onClose:()=>x(!1),onSelectImage:ee,productName:e.name||"Prodotto",brandName:e.brandName,images:j,isLoading:p,error:w}),s.jsx(Qge,{isOpen:P,onClose:()=>k(!1),onSelectImage:ee,productName:e.name||"Prodotto",brandName:e.brandName}),s.jsx(pM,{isOpen:T,onClose:()=>E(!1),item:e})]})})}var eve="Separator",tA="horizontal",tve=["horizontal","vertical"],kM=y.forwardRef((e,t)=>{const l=e,{decorative:r,orientation:n=tA}=l,a=W(l,["decorative","orientation"]),i=rve(n)?n:tA,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx($e.div,D(A(A({"data-orientation":i},c),a),{ref:t}))});kM.displayName=eve;function rve(e){return tve.includes(e)}var TM=kM;const mu=y.forwardRef((i,a)=>{var o=i,{className:e,orientation:t="horizontal",decorative:r=!0}=o,n=W(o,["className","orientation","decorative"]);return s.jsx(TM,A({ref:a,decorative:r,orientation:t,className:ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e)},n))});mu.displayName=TM.displayName;function nve({item:e,categories:t,isOpen:r,onClose:n,onEdit:a,onComplete:i}){const{user:o}=Lt(),{toast:c}=Ir(),[l,u]=y.useState(!1);if(!e)return null;const d=(o==null?void 0:o.username)===e.createdBy||(o==null?void 0:o.role)==="admin"||e.isPublic,f=t==null?void 0:t.find(S=>S.name===e.category),h={high:{label:"Alta",icon:ex,color:"text-red-600",className:"border-red-200 bg-red-50"},medium:{label:"Media",icon:KP,color:"text-yellow-600",className:"border-yellow-200 bg-yellow-50"},low:{label:"Bassa",icon:qP,color:"text-green-600",className:"border-green-200 bg-green-50"}},m=h[e.priority]||h.medium,v=m.icon,p=S=>typeof S=="string"?S:isNaN(S)||S===null||S===void 0?"Prezzo non disponibile":S.toLocaleString("it-IT",{minimumFractionDigits:2,maximumFractionDigits:2})+" €",g=(S,P)=>{if(!S||!ku(S))return"Data non disponibile";try{return P?jt(S,P,{locale:Gt}):hs(S,{addSuffix:!0,locale:Gt})}catch(k){return console.warn("Error formatting date:",k),"Data non valida"}},b=e.scrapingData&&e.scrapingData.scrapingSuccess!==!0,x=e.scrapingData&&e.scrapingData.scrapingSuccess===!0,j=()=>G(this,null,function*(){if(i){u(!0);try{yield i(e.id),c({title:"Elemento archiviato",description:"Elemento Shopping segnato come archiviato!"})}catch(S){c({title:"Errore",description:"Impossibile archiviare l'elemento",variant:"destructive"})}finally{u(!1)}}}),N=()=>{e.link&&(navigator.clipboard.writeText(e.link),c({title:"Link copiato",description:"Il link del prodotto è stato copiato negli appunti"}))},w=()=>{navigator.share&&e.link?navigator.share({title:e.name||"Prodotto",url:e.link}):N()};return s.jsx(cr,{open:r,onOpenChange:n,children:s.jsxs(tr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(rr,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(nr,{className:"text-xl font-semibold ".concat(e.completed?"line-through text-gray-500":""),children:e.name||"Prodotto senza nome"}),e.brandName&&s.jsxs("div",{className:"flex items-center mt-2 text-gray-600",children:[s.jsx(Mh,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"font-medium",children:e.brandName})]})]}),d&&a&&s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>a(e),className:"ml-4",children:[s.jsx(xi,{className:"h-4 w-4 mr-1"}),"Modifica"]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(he,{variant:"outline",className:"text-sm",children:[(f==null?void 0:f.icon)&&s.jsx("span",{className:"mr-1",children:f.icon}),e.category]}),s.jsxs(he,{variant:"outline",className:"".concat(m.color," ").concat(m.className," text-sm"),children:[s.jsx(v,{className:"h-3 w-3 mr-1"}),m.label]}),s.jsx(he,{variant:e.isPublic?"default":"secondary",className:"text-sm",children:e.isPublic?s.jsxs(s.Fragment,{children:[s.jsx(gn,{className:"h-3 w-3 mr-1"}),"Pubblico"]}):s.jsxs(s.Fragment,{children:[s.jsx(vn,{className:"h-3 w-3 mr-1"}),"Privato"]})}),e.completed&&s.jsxs(he,{className:"bg-green-100 text-green-700 border-green-200 text-sm",children:[s.jsx(Rt,{className:"h-3 w-3 mr-1"}),"Archiviato"]}),b&&s.jsxs(he,{className:"bg-blue-100 text-blue-700 border-blue-200 text-sm",children:[s.jsx(Al,{className:"h-3 w-3 mr-1"}),"Analisi AI in corso..."]}),x&&s.jsxs(he,{className:"bg-purple-100 text-purple-700 border-purple-200 text-sm",children:[s.jsx(nx,{className:"h-3 w-3 mr-1"}),"Analizzato da AI"]})]}),e.estimatedPrice&&s.jsx(Me,{children:s.jsx(Re,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-5 h-5 mr-2 flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-bold text-lg",children:"💰"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Prezzo stimato"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:p(e.estimatedPrice)})]})]})})}),e.notes&&s.jsxs(Me,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ax,{className:"h-4 w-4 mr-2 text-gray-600"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Note"})]})}),s.jsx(Re,{className:"pt-0",children:s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:e.notes})})]}),e.link&&s.jsxs(Me,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(bl,{className:"h-4 w-4 mr-2 text-gray-600"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Link Prodotto"})]})}),s.jsx(Re,{className:"pt-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>window.open(e.link,"_blank"),className:"flex-1",children:[s.jsx(bl,{className:"h-4 w-4 mr-2"}),"Apri prodotto"]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:N,children:s.jsx(al,{className:"h-4 w-4"})}),s.jsx(ae,{variant:"outline",size:"sm",onClick:w,children:s.jsx(eC,{className:"h-4 w-4"})})]})})]}),s.jsxs(Me,{children:[s.jsx(er,{className:"pb-3",children:s.jsx("h3",{className:"font-medium text-gray-900",children:"Informazioni"})}),s.jsxs(Re,{className:"pt-0 space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Aa,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Creato da ",s.jsx("strong",{children:e.createdBy})]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(li,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Creato ",g(e.createdAt),e.createdAt&&s.jsxs("span",{className:"ml-2 text-gray-400",children:["(",g(e.createdAt,"dd/MM/yyyy HH:mm"),")"]})]})]}),e.updatedAt&&e.updatedAt!==e.createdAt&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Or,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Aggiornato ",g(e.updatedAt),e.updatedAt&&s.jsxs("span",{className:"ml-2 text-gray-400",children:["(",g(e.updatedAt,"dd/MM/yyyy HH:mm"),")"]})]})]}),e.completedAt&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Rt,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Archiviato ",g(e.completedAt),e.completedAt&&s.jsxs("span",{className:"ml-2 text-gray-400",children:["(",g(e.completedAt,"dd/MM/yyyy HH:mm"),")"]})]})]})]})]}),!e.completed&&i&&s.jsxs(s.Fragment,{children:[s.jsx(mu,{}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(ae,{variant:"secondary",onClick:()=>n(),children:"Annulla"}),s.jsx(ae,{onClick:j,disabled:l,className:" bg-green-600 hover:bg-green-700",children:l?s.jsxs(s.Fragment,{children:[s.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin"}),"Segnando come archiviato..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Segna come archiviato"]})})]})]})]})]})})}const Bu=y.forwardRef((n,r)=>{var a=n,{className:e}=a,t=W(a,["className"]);return s.jsx("textarea",A({className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r},t))});Bu.displayName="Textarea";const ave=["🛒","📱","🏠","👕","🧴","🚗","📚","⚽","💊","🎮","🍕","🧽","💰","🎨","🔧","📦"];function ive({isOpen:e,onClose:t,onAdd:r,editItem:n}){const{user:a}=Lt(),{toast:i}=Ir(),[o,c]=y.useState(!1),[l,u]=y.useState(!1),[d,f]=y.useState(!1),[h,m]=y.useState(!1),{data:v,add:p}=ur("categories"),{data:g}=ur("shopping_items"),b="https://europe-west1-familytasktracker-c2dfe.cloudfunctions.net/onShoppingItemCreated",x=oc({defaultValues:{name:"",link:"",category:"",brandName:"",createdBy:(a==null?void 0:a.username)||"",completed:!1,priority:"medium",estimatedPrice:void 0,notes:"",isPublic:!0,useAI:!0}}),[j,N]=y.useState({name:"",icon:"🏷️",description:"",color:"#6B7280"}),w=y.useMemo(()=>{const _=x.watch("link");return!_||!_.startsWith("http")?!1:((g==null?void 0:g.filter(C=>n?C.id!==n.id:!0))||[]).some(C=>C.link===_)},[x.watch("link"),g,n]),S=y.useMemo(()=>{if(!w)return null;const _=g==null?void 0:g.find(O=>O.link===x.watch("link")&&(n?O.id!==n.id:!0));return _?'Questo URL è già stato aggiunto per "'.concat(_.name||"un altro prodotto",'"'):"Questo URL è già stato aggiunto"},[w,g,x.watch("link"),n]);y.useEffect(()=>{n?x.reset({name:n.name,link:n.link||"",category:n.category,brandName:n.brandName||"",createdBy:n.createdBy,completed:n.completed,priority:n.priority,estimatedPrice:n.estimatedPrice,notes:n.notes||"",isPublic:n.isPublic!==void 0?n.isPublic:!0,useAI:!1}):x.reset({name:"",link:"",category:"",brandName:"",createdBy:(a==null?void 0:a.username)||"",completed:!1,priority:"medium",estimatedPrice:void 0,notes:"",isPublic:!0,useAI:!0})},[n,x,a]);const P=_=>G(this,null,function*(){try{const O=yield fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:_,updateFirestore:!0,collectionName:"shopping_items"})});if(!O.ok)throw new Error("Errore HTTP: ".concat(O.status));const C=yield O.json();if(C.success&&C.data){const R=C.data.nameProduct||C.data.name||"il prodotto";i({title:"Prodotto aggiornato!",description:'Informazioni estratte automaticamente per "'.concat(R,'"')})}else console.warn("Scraping parzialmente riuscito:",C),i({title:"Scraping completato",description:"Alcuni dati potrebbero non essere stati estratti completamente"})}catch(O){console.error("Errore durante lo scraping asincrono:",O),i({title:"Scraping fallito",description:"Non è stato possibile estrarre automaticamente i dati del prodotto",variant:"destructive"})}}),k=_=>{_==="add_new"?f(!0):x.setValue("category",_)},T=()=>G(this,null,function*(){if(!j.name.trim()){i({title:"Errore",description:"Il nome della categoria è obbligatorio",variant:"destructive"});return}if(v!=null&&v.find(_=>_.name.toLowerCase()===j.name.toLowerCase())){i({title:"Errore",description:"Una categoria con questo nome esiste già",variant:"destructive"});return}u(!0);try{const _=Rd.createCategory({id:"category_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),name:j.name.trim(),createdBy:(a==null?void 0:a.username)||"",createdAt:new Date,description:j.description||void 0,color:j.color,icon:j.icon,isDefault:!1,itemCount:0});yield p(_),x.setValue("category",j.name),N({name:"",icon:"🏷️",description:"",color:"#6B7280"}),f(!1),i({title:"Categoria aggiunta",description:'La categoria "'.concat(j.name,'" è stata aggiunta con successo')})}catch(_){_ instanceof ft?i({title:"Errore di validazione categoria",description:_.errors.join(", "),variant:"destructive"}):i({title:"Errore",description:"Impossibile aggiungere la categoria",variant:"destructive"})}finally{u(!1)}}),E=_=>G(this,null,function*(){if(!_.link||!_.link.startsWith("http")){_.link&&_.link.trim().length>0&&i({title:"URL richiesto",description:"L'URL del prodotto è obbligatorio e deve iniziare con http:// o https://",variant:"destructive"});return}if(w){i({title:"URL duplicato",description:S||"Questo URL è già stato aggiunto",variant:"destructive"});return}c(!0);try{let O;if(n){O=n;try{O.name=_.name||n.name,O.link=_.link,O.category=_.category||n.category,O.brandName=_.brandName||n.brandName,O.priority=_.priority,O.estimatedPrice=_.estimatedPrice,O.notes=_.notes,O.isPublic=_.isPublic,O.updatedAt=new Date,yield r(O),i({title:"Elemento aggiornato",description:"Le modifiche sono state salvate con successo!"})}catch(C){if(C instanceof ft){i({title:"Errore di validazione",description:C.errors.join(", "),variant:"destructive"});return}throw C}}else try{const C=_.useAI?{lastScraped:new Date,scrapingMode:"pending",scrapingSuccess:!1,scrapingText:void 0,errors:void 0}:void 0;O=Rd.createShoppingItem({id:"item_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),category:_.category||"Articoli",createdBy:_.createdBy,link:_.link,name:_.name,brandName:_.brandName,completed:_.completed,priority:_.priority,estimatedPrice:_.estimatedPrice,notes:_.notes,isPublic:_.isPublic,createdAt:new Date,updatedAt:new Date,scrapingData:C}),yield r(O),_.useAI?(P(_.link),i({title:"Elemento aggiunto!",description:"Analisi AI in corso..."})):i({title:"Elemento aggiunto!",description:"Elemento salvato senza analisi AI."})}catch(C){if(C instanceof ft){i({title:"Errore di validazione",description:C.errors.join(", "),variant:"destructive"});return}throw C}x.reset(),N({name:"",icon:"🏷️",description:"",color:"#6B7280"}),f(!1),t()}catch(O){console.error("Errore nel salvataggio:",O),i({title:"Errore",description:"Impossibile salvare l'elemento",variant:"destructive"})}finally{c(!1)}});return s.jsx(cr,{open:e,onOpenChange:t,children:s.jsxs(tr,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(rr,{children:s.jsxs(nr,{className:"flex items-center text-xl text-delft-blue",children:[s.jsx(Us,{className:"mr-3 h-6 w-6"}),n?"Modifica Articolo":"Aggiungi Articolo"]})}),s.jsx(cc,D(A({},x),{children:s.jsxs("form",{onSubmit:x.handleSubmit(E),className:"space-y-6",children:["  ",s.jsx(rt,{control:x.control,name:"link",render:({field:_})=>s.jsxs(Qe,{children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(rx,{className:"mr-2 h-4 w-4"}),"URL Prodotto *"]}),s.jsx(it,{children:s.jsx(st,D(A({},_),{type:"url",placeholder:"https://esempio.com/prodotto"}))}),_.value&&s.jsx("p",{className:"text-xs text-blue-600",children:s.jsx("a",{href:_.value,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"🔗 Apri link"})}),s.jsx(kt,{})]})}),!n&&s.jsx(rt,{control:x.control,name:"useAI",render:({field:_})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30 dark:border-gray-700",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Je,{className:"text-base flex items-center text-gray-900 dark:text-gray-100",children:_.value?s.jsxs(s.Fragment,{children:[s.jsx(Al,{className:"mr-2 h-4 w-4 text-blue-600 dark:text-blue-400"}),"Analisi AI Attiva"]}):s.jsxs(s.Fragment,{children:[s.jsx(Pg,{className:"mr-2 h-4 w-4 text-gray-600 dark:text-gray-400"}),"Inserimento Manuale"]})}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:_.value?"I dati del prodotto verranno estratti automaticamente":"Inserimento rapido senza analisi automatica"})]}),s.jsx(it,{children:s.jsx(Nr,{checked:_.value,onCheckedChange:_.onChange})})]})}),s.jsx(rt,{control:x.control,name:"name",render:({field:_})=>s.jsxs(Qe,{children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue",children:["Nome Prodotto ",!n&&x.watch("useAI")?"(Opzionale)":""]}),s.jsx(it,{children:s.jsx(st,D(A({},_),{placeholder:!n&&x.watch("useAI")?"Lascia vuoto per estrazione automatica":"Inserisci nome prodotto",maxLength:100,className:"text-base"}))}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(_.value||"").length,"/100 caratteri",!n&&x.watch("useAI")&&" • Se vuoto, verrà estratto automaticamente"]}),s.jsx(kt,{})]})}),s.jsx(rt,{control:x.control,name:"brandName",render:({field:_})=>s.jsxs(Qe,{children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(Mh,{className:"mr-2 h-4 w-4"}),"Brand ",!n&&x.watch("useAI")?"(Opzionale)":""]}),s.jsx(it,{children:s.jsx(st,D(A({},_),{placeholder:!n&&x.watch("useAI")?"Lascia vuoto per estrazione automatica":"Inserisci il brand del prodotto",maxLength:50,className:"text-base"}))}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(_.value||"").length,"/50 caratteri",!n&&x.watch("useAI")&&" • Se vuoto, verrà estratto automaticamente"]}),s.jsx(kt,{})]})}),s.jsx(rt,{control:x.control,name:"category",render:({field:_})=>s.jsxs(Qe,{children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(Sl,{className:"mr-2 h-4 w-4"}),"Categoria ",!n&&x.watch("useAI")?"(Opzionale)":""]}),s.jsxs(zt,{onValueChange:k,value:_.value,children:[s.jsx(it,{children:s.jsx(It,{children:s.jsx(Ut,{placeholder:!n&&x.watch("useAI")?"Lascia vuoto per estrazione automatica":"Seleziona categoria"})})}),s.jsxs($t,{children:[v==null?void 0:v.map(O=>s.jsx(je,{value:O.name,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"mr-2",children:O.icon||"🏷️"}),s.jsx("span",{children:O.name}),s.jsx(he,{variant:"outline",className:"ml-2 text-xs",children:O.itemCount})]})},O.id)),s.jsx(je,{value:"add_new",children:s.jsxs("div",{className:"flex items-center text-cambridge-blue",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Aggiungi nuova categoria"})]})})]})]}),s.jsx(kt,{})]})}),d&&s.jsxs("div",{className:"p-4 border border-cambridge-blue/20 rounded-lg bg-cambridge-blue/5",children:[s.jsxs("h4",{className:"font-medium text-delft-blue mb-3 flex items-center",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Nuova Categoria"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nome *"}),s.jsx(st,{value:j.name,onChange:_=>N(O=>D(A({},O),{name:_.target.value})),placeholder:"Nome categoria",maxLength:50})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Icona"}),s.jsxs(rf,{open:h,onOpenChange:m,children:[s.jsx(nf,{asChild:!0,children:s.jsxs(ae,{variant:"outline",className:"w-full justify-start",children:[s.jsx("span",{className:"mr-2",children:j.icon}),"Seleziona icona"]})}),s.jsx(kl,{className:"w-64",children:s.jsx("div",{className:"grid grid-cols-8 gap-2",children:ave.map(_=>s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>{N(O=>D(A({},O),{icon:_})),m(!1)},className:"h-8 w-8 p-0",children:_},_))})})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descrizione"}),s.jsx(st,{value:j.description,onChange:_=>N(O=>D(A({},O),{description:_.target.value})),placeholder:"Descrizione opzionale",maxLength:100})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Colore"}),s.jsx(st,{type:"color",value:j.color,onChange:_=>N(O=>D(A({},O),{color:_.target.value})),className:"h-10"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[s.jsx(ae,{variant:"outline",size:"sm",onClick:()=>f(!1),disabled:l,children:"Annulla"}),s.jsxs(ae,{size:"sm",onClick:T,disabled:l||!j.name.trim(),children:[l?s.jsx(hn,{className:"animate-spin h-4 w-4 mr-2"}):s.jsx(Rt,{className:"h-4 w-4 mr-2"}),l?"Aggiungendo...":"Aggiungi"]})]})]}),s.jsx(rt,{control:x.control,name:"priority",render:({field:_})=>s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue",children:"Priorità"}),s.jsxs(zt,{onValueChange:_.onChange,value:_.value,children:[s.jsx(it,{children:s.jsx(It,{children:s.jsx(Ut,{placeholder:"Seleziona priorità"})})}),s.jsxs($t,{children:[s.jsx(je,{value:"low",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),"Bassa"]})}),s.jsx(je,{value:"medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),"Media"]})}),s.jsx(je,{value:"high",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),"Alta"]})})]})]}),s.jsx(kt,{})]})}),s.jsx(rt,{control:x.control,name:"estimatedPrice",render:({field:_})=>s.jsxs(Qe,{children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(XP,{className:"mr-2 h-4 w-4"}),"Prezzo Stimato (€) ",!n&&x.watch("useAI")?"(Opzionale)":""]}),s.jsx(it,{children:s.jsx(st,D(A({},_),{type:"number",step:"0.01",min:"0",placeholder:!n&&x.watch("useAI")?"Lascia vuoto per estrazione automatica":"0.00",value:_.value||"",onChange:O=>_.onChange(O.target.value?parseFloat(O.target.value):void 0)}))}),s.jsx(kt,{})]})}),s.jsx(rt,{control:x.control,name:"notes",render:({field:_})=>s.jsxs(Qe,{children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(ax,{className:"mr-2 h-4 w-4"}),"Note (Opzionale)"]}),s.jsx(it,{children:s.jsx(Bu,D(A({},_),{placeholder:"Aggiungi note o dettagli aggiuntivi...",rows:3,maxLength:500}))}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(_.value||"").length,"/500 caratteri"]}),s.jsx(kt,{})]})}),s.jsx(rt,{control:x.control,name:"isPublic",render:({field:_})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Je,{className:"text-base flex items-center",children:_.value?s.jsxs(s.Fragment,{children:[s.jsx(gn,{className:"mr-2 h-4 w-4 text-green-600"}),"Articolo Pubblico"]}):s.jsxs(s.Fragment,{children:[s.jsx(vn,{className:"mr-2 h-4 w-4 text-orange-600"}),"Articolo Privato"]})}),s.jsx("p",{className:"text-xs text-gray-600",children:_.value?"Questo articolo sarà visibile a tutti i membri della famiglia":"Questo articolo sarà visibile solo a te"})]}),s.jsx(it,{children:s.jsx(Nr,{checked:_.value,onCheckedChange:_.onChange})})]})}),w&&s.jsxs(No,{className:"border-red-200 bg-red-50",children:[s.jsx(ls,{className:"h-4 w-4 text-red-600"}),s.jsxs(So,{className:"text-red-800",children:[s.jsx("strong",{children:"URL duplicato!"})," ",S]})]}),!x.watch("link")&&s.jsxs(No,{className:"border-orange-200 bg-orange-50",children:[s.jsx(ls,{className:"h-4 w-4 text-orange-600"}),s.jsxs(So,{className:"text-orange-800",children:["L'URL del prodotto è ",s.jsx("strong",{children:"obbligatorio"}),". Inserisci un link valido per procedere."]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(ae,{variant:"secondary",onClick:()=>{t(),x.reset(),N({name:"",icon:"🏷️",description:"",color:"#6B7280"}),f(!1)},disabled:o,children:"Annulla"}),s.jsxs(ae,{type:"submit",disabled:o||!x.watch("link")||!x.watch("link").startsWith("http")||w,className:"min-w-[140px] ".concat(!n&&x.watch("useAI")?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700":""),children:[o?s.jsx(hn,{className:"animate-spin h-5 w-5 mr-2"}):!n&&x.watch("useAI")?s.jsx(Al,{className:"h-5 w-5 mr-2"}):s.jsx(Pg,{className:"h-5 w-5 mr-2"}),o?n?"Aggiornando...":"Salvando...":n?"Aggiorna":x.watch("useAI")?"Salva con AI":"Salva"]})]})]})}))]})})}const $s={viewMode:"images",showImages:!0,compactMode:!1,defaultCategory:"all",defaultPriority:"all",showCompleted:!1,theme:"light",language:"it",itemsPerPage:20,enableNotifications:!0,emailNotifications:!1},DM=y.createContext(void 0);function sve({children:e}){const{user:t}=Lt(),[r,n]=y.useState($s),[a,i]=y.useState(!0),o=()=>t!=null&&t.username?"familyTaskTracker_preferences_".concat(t.username):"familyTaskTracker_preferences_guest",c=()=>{try{const m=o(),v=sessionStorage.getItem(m);if(v){const p=JSON.parse(v),g=A(A({},$s),p);n(g)}else n($s)}catch(m){console.error("❌ Errore nel caricamento delle preferenze:",m),n($s)}finally{i(!1)}},l=m=>{try{const v=o();sessionStorage.setItem(v,JSON.stringify(m))}catch(v){console.error("❌ Errore nel salvataggio delle preferenze:",v)}},u=(m,v)=>{const p=D(A({},r),{[m]:v});n(p),l(p)},d=m=>{const v=A(A({},r),m);n(v),l(v)},f=()=>{n($s),l($s)};y.useEffect(()=>{t&&(i(!0),c())},[t==null?void 0:t.username]),y.useEffect(()=>{const m=sessionStorage.getItem("theme");m&&m!==r.theme&&u("theme",m)},[]);const h={preferences:r,updatePreference:u,updatePreferences:d,resetPreferences:f,isLoading:a};return s.jsx(DM.Provider,{value:h,children:e})}function MM(){const e=y.useContext(DM);if(e===void 0)throw new Error("useUserPreferences must be used within a UserPreferencesProvider");return e}const rA=["#E07A5F","#3D5A80","#98C1D9","#EE9B00","#BB3E03","#005577","#0A9396","#94D2BD","#F9C74F","#F8961E","#F3722C","#277DA1"],nA={alimentari:"🛒",cibo:"🍽️",bevande:"🥤",frutta:"🍎",verdura:"🥬",carne:"🥩",pesce:"🐟",dolci:"🍰",snack:"🍿",casa:"🏠",cucina:"🍴",bagno:"🛁",pulizia:"🧽",arredamento:"🛋️",giardino:"🌱","fai da te":"🔨",elettronica:"📱",computer:"💻",telefoni:"📱",audio:"🎧",gaming:"🎮",tv:"📺",abbigliamento:"👕",scarpe:"👟",accessori:"👜",gioielli:"💍",salute:"💊",bellezza:"💄",cosmetici:"🧴",farmacia:"⚕️",auto:"🚗",moto:"🏍️",bici:"🚴",trasporti:"🚌",sport:"⚽",libri:"📚",musica:"🎵",film:"🎬",hobby:"🎨",viaggi:"✈️",ufficio:"📋",scuola:"🎓",cartoleria:"✏️",animali:"🐕",pet:"🐱",altro:"📦",varie:"📦",generale:"📦"};function ove(){const{data:e,loading:t}=ur("shopping_items"),{data:r,loading:n}=ur("categories"),a=y.useMemo(()=>{const f=(r||[]).sort((b,x)=>b.name.localeCompare(x.name));if(!e||e.length===0)return f.map(b=>new Ji(b.id,b.name,b.createdBy,b.createdAt,b.description,b.color,b.icon,b.isDefault,0,b.updatedAt));const h=e.reduce((b,x)=>{var N;const j=((N=x.category)==null?void 0:N.trim())||"Altro";return b[j.toLowerCase()]=(b[j.toLowerCase()]||0)+1,b},{}),m=f.map(b=>new Ji(b.id,b.name,b.createdBy,b.createdAt,b.description,b.color,b.icon,b.isDefault,h[b.name.toLowerCase()]||0,b.updatedAt)),v=new Set((r||[]).map(b=>b.name.toLowerCase())),g=Object.entries(h).filter(([b])=>!v.has(b)).map(([b,x],j)=>{var k,T;const N=b.toLowerCase(),w=nA[N]||((k=Object.entries(nA).find(([E])=>N.includes(E)))==null?void 0:k[1])||"📦",S=rA[j%rA.length],P=((T=e.find(E=>{var _;return((_=E.category)==null?void 0:_.toLowerCase())===b}))==null?void 0:T.category)||b;return new Ji("dynamic_".concat(b.replace(/\s+/g,"_")),P,"system",new Date,"".concat(x," ").concat(x===1?"articolo":"articoli"," (categoria dinamica)"),S,w,!1,x,new Date)});return g.sort((b,x)=>b.itemCount!==x.itemCount?x.itemCount-b.itemCount:b.name.localeCompare(x.name)),[...m,...g]},[e,r]);return{data:a,loading:t||n,getCategoryByName:f=>a.find(h=>h.name.toLowerCase()===f.toLowerCase()),getStaticCategories:()=>r||[],getDynamicCategories:()=>a.filter(f=>f.id.startsWith("dynamic_")),getPopularCategories:(f=5)=>a.slice(0,f),getCategoryNames:()=>a.map(f=>f.name),isDynamicCategory:f=>f.startsWith("dynamic_"),totalCategories:a.length,staticCount:(r==null?void 0:r.length)||0,dynamicCount:a.length-((r==null?void 0:r.length)||0),totalItems:(e==null?void 0:e.length)||0}}function cve({value:e,onValueChange:t,categories:r,placeholder:n="Seleziona categoria",className:a,disabled:i}){const{user:o}=Lt(),{toast:c}=Ir(),{add:l,remove:u,loading:d}=ur("categories"),[f,h]=y.useState(!1),[m,v]=y.useState(null),[p,g]=y.useState(null),[b,x]=y.useState(!1),j=oc({defaultValues:{name:"",icon:"",description:"",color:"#6B7280"}}),N=["#E07A5F","#3D5A80","#98C1D9","#EE9B00","#BB3E03","#005577","#0A9396","#94D2BD","#F9C74F","#F8961E","#F3722C","#277DA1"],w=()=>G(this,null,function*(){if(p){x(!0);try{yield u(p.id),e===p.name&&t(""),c({title:"Categoria eliminata",description:'La categoria "'.concat(p.name,'" è stata eliminata con successo.')})}catch(_){console.error("Errore nell'eliminazione della categoria:",_),c({title:"Errore",description:"Impossibile eliminare la categoria",variant:"destructive"})}finally{x(!1),g(null)}}}),S=_=>{j.reset({name:_.name,icon:_.icon||"",description:"Categoria ".concat(_.name),color:_.color}),v(_),h(!0)},P=_=>G(this,null,function*(){try{const O=new Ji("cat_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),_.name.trim(),(o==null?void 0:o.username)||"system",new Date,_.description.trim()||"Categoria ".concat(_.name),_.color,_.icon.trim()||void 0,!1,0,new Date);yield l(O),t(_.name),j.reset(),v(null),h(!1);const C=m?"promossa":"creata";c({title:"Categoria ".concat(C),description:'La categoria "'.concat(_.name,'" è stata ').concat(C," con successo!")})}catch(O){console.error("Errore nell'aggiunta della categoria:",O),c({title:"Errore",description:"Impossibile aggiungere la categoria",variant:"destructive"})}}),k=_=>{_==="__add_new__"?h(!0):t(_)},T=r.filter(_=>!_.id.startsWith("dynamic_")),E=r.filter(_=>_.id.startsWith("dynamic_"));return s.jsxs(s.Fragment,{children:[s.jsxs(zt,{value:e,onValueChange:k,disabled:i,children:[s.jsx(It,{className:ne("w-full",a),children:s.jsx(Ut,{placeholder:n})}),s.jsxs($t,{children:[s.jsx(je,{value:"__add_new__",className:"text-cambridge-blue font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Aggiungi nuova categoria"]})}),s.jsx("div",{className:"px-2 py-1",children:s.jsx("div",{className:"h-px bg-gray-200"})}),T.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-2 py-1 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Categorie Principali"}),T.map(_=>s.jsxs("div",{className:"relative",children:[s.jsx(je,{value:_.name,children:s.jsx("div",{className:"flex items-center justify-between w-full pr-8",children:s.jsxs("div",{className:"flex items-center flex-1",children:[_.icon&&s.jsx("span",{className:"mr-2",children:_.icon}),s.jsx("span",{children:_.name}),s.jsx(he,{variant:"outline",className:"ml-2 text-xs",children:_.itemCount})]})})}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 p-0 z-10 opacity-100 hover:bg-red-100",onClick:O=>{O.preventDefault(),O.stopPropagation(),g(_)},title:"Elimina categoria",children:s.jsx(Yr,{className:"h-3 w-3 text-red-500"})})]},_.id))]}),E.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-2 py-1",children:s.jsx("div",{className:"h-px bg-gray-200"})}),s.jsx("div",{className:"px-2 py-1 text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Categorie Automatiche"}),E.map(_=>s.jsxs("div",{className:"relative",children:[s.jsx(je,{value:_.name,children:s.jsx("div",{className:"flex items-center justify-between w-full pr-8",children:s.jsxs("div",{className:"flex items-center flex-1",children:[_.icon&&s.jsx("span",{className:"mr-2",children:_.icon}),s.jsx("span",{children:_.name}),s.jsx(he,{variant:"secondary",className:"ml-2 text-xs bg-gray-100",children:_.itemCount})]})})}),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 p-0 z-10 opacity-100",onClick:O=>{O.preventDefault(),O.stopPropagation(),S(_)},title:"Promuovi a categoria principale",children:s.jsx(Yt,{className:"h-3 w-3 text-cambridge-blue"})})]},_.id))]})]})]}),s.jsx(cr,{open:f,onOpenChange:h,children:s.jsxs(tr,{className:"sm:max-w-md",children:[s.jsx(rr,{children:s.jsxs(nr,{className:"flex items-center text-lg text-cambridge-blue",children:[s.jsx(Yt,{className:"mr-2 h-5 w-5"}),m?'Promuovi "'.concat(m.name,'"'):"Aggiungi Nuova Categoria"]})}),s.jsx(cc,D(A({},j),{children:s.jsxs("form",{onSubmit:j.handleSubmit(P),className:"space-y-4",children:[s.jsx(rt,{control:j.control,name:"name",rules:{required:"Il nome è obbligatorio",minLength:{value:2,message:"Minimo 2 caratteri"},maxLength:{value:30,message:"Massimo 30 caratteri"}},render:({field:_})=>s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium",children:"Nome Categoria *"}),s.jsx(it,{children:s.jsx(st,D(A({},_),{placeholder:"es. Elettronica, Casa, Sport...",maxLength:30,disabled:!!m}))}),s.jsx(kt,{})]})}),s.jsx(rt,{control:j.control,name:"icon",render:({field:_})=>s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium",children:"Emoji (opzionale)"}),s.jsx(it,{children:s.jsx(st,D(A({},_),{placeholder:"🏷️",maxLength:4,className:"text-lg"}))}),s.jsx("div",{className:"text-xs text-gray-500",children:"Inserisci un'emoji per rappresentare la categoria"})]})}),s.jsx(rt,{control:j.control,name:"description",render:({field:_})=>s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium",children:"Descrizione (opzionale)"}),s.jsx(it,{children:s.jsx(Bu,D(A({},_),{placeholder:"Breve descrizione della categoria...",rows:2,maxLength:100}))})]})}),s.jsx(rt,{control:j.control,name:"color",render:({field:_})=>s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium",children:"Colore"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(O=>s.jsx(ae,{type:"button",variant:"outline",className:"w-8 h-8 p-0 border-2 ".concat(_.value===O?"border-gray-800":"border-gray-300"),style:{backgroundColor:O},onClick:()=>_.onChange(O),children:_.value===O&&s.jsx(Rt,{className:"h-4 w-4 text-white"})},O))})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>{h(!1),v(null),j.reset()},disabled:d,children:"Annulla"}),s.jsx(ae,{type:"submit",disabled:d,className:"bg-cambridge-blue hover:bg-cambridge-blue/90",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),m?"Promozione...":"Creazione..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"mr-2 h-4 w-4"}),m?"Promuovi Categoria":"Crea Categoria"]})})]})]})}))]})}),s.jsx(Du,{open:!!p,onOpenChange:()=>g(null),children:s.jsxs(dc,{children:[s.jsxs(fc,{children:[s.jsx(mc,{children:"Conferma eliminazione categoria"}),s.jsxs(pc,{children:['Sei sicuro di voler eliminare la categoria "',p==null?void 0:p.name,'"?',s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{children:"Attenzione:"})," Questa azione non può essere annullata. Gli articoli che usano questa categoria manterranno il nome della categoria, ma essa non sarà più disponibile nella lista delle categorie principali."]})]}),s.jsxs(hc,{children:[s.jsx(vc,{disabled:b,children:"Annulla"}),s.jsx(gc,{onClick:w,disabled:b,className:"bg-red-500 hover:bg-red-600",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Eliminazione..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"mr-2 h-4 w-4"}),"Elimina Categoria"]})})]})]})})]})}function lve(){const{user:e}=Lt(),{toast:t}=Ir(),r=Mc(),[n,a]=y.useState(!r),{preferences:i,updatePreference:o}=MM(),c=i.viewMode,l=ve=>{o("viewMode",ve)},[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,v]=y.useState(null),[p,g]=y.useState(!1),[b,x]=y.useState(""),[j,N]=y.useState(i.defaultCategory),[w,S]=y.useState(i.defaultPriority),[P,k]=y.useState("all"),[T,E]=y.useState(i.showCompleted),[_,O]=y.useState([]);M.useEffect(()=>{a(!r)},[r]),M.useEffect(()=>{N(i.defaultCategory),S(i.defaultPriority),E(i.showCompleted)},[i.defaultCategory,i.defaultPriority,i.showCompleted]);const{data:C,loading:R,add:I,update:F,remove:B}=ur("shopping_items"),{data:L}=ove(),z=M.useCallback(ve=>{O(ze=>ze.map($=>$.id===ve.id?ve:$))},[]);M.useEffect(()=>{O(C||[])},[C]);const{filteredItems:U,visibleItems:Z}=y.useMemo(()=>{if(!_)return{filteredItems:[],visibleItems:[]};const ve=_.filter($=>$.isPublic||$.createdBy===(e==null?void 0:e.username)||(e==null?void 0:e.role)==="admin");return{filteredItems:ve.filter($=>{var _e,Ke,Ge;const V=!b||((_e=$.name)==null?void 0:_e.toLowerCase().includes(b.toLowerCase()))||((Ke=$.brandName)==null?void 0:Ke.toLowerCase().includes(b.toLowerCase()))||((Ge=$.notes)==null?void 0:Ge.toLowerCase().includes(b.toLowerCase())),q=j==="all"||$.category===j,ye=w==="all"||$.priority===w,fe=P==="all"||P==="public"&&$.isPublic||P==="private"&&!$.isPublic,le=T?$.completed:!$.completed;return V&&q&&ye&&fe&&le}),visibleItems:ve}},[_,b,j,w,P,T,e]),K=y.useMemo(()=>{if(!Z||!U)return{totalPending:0,totalCompleted:0,totalVisible:0,publicItems:0,privateItems:0,myItems:0,highPriority:0,totalCost:0,pending:0,completed:0,pendingItems:[],completedItems:[]};const ve=Z.filter(q=>!q.completed),ze=Z.filter(q=>q.completed),$=U.filter(q=>!q.completed),V=U.filter(q=>q.completed);return{totalPending:ve.length,totalCompleted:ze.length,totalVisible:Z.length,publicItems:Z.filter(q=>q.isPublic).length,privateItems:Z.filter(q=>!q.isPublic).length,myItems:Z.filter(q=>q.createdBy===(e==null?void 0:e.username)).length,highPriority:ve.filter(q=>q.priority==="high").length,totalCost:ve.reduce((q,ye)=>q+(ye.estimatedPrice||0),0),pending:$.length,completed:V.length,pendingItems:$,completedItems:V}},[Z,U,e]),ie=()=>{x(""),N("all"),S("all"),k("all"),E(!1),o("defaultCategory","all"),o("defaultPriority","all"),o("showCompleted",!1)},xe=[b.length>0,j!=="all",w!=="all",P!=="all",T].filter(Boolean).length,ke=ve=>{v(ve),g(!0)},Oe=()=>{g(!1),v(null)},Fe=ve=>{h(ve||null),d(!0)},ue=()=>{d(!1),h(null)},ee=ve=>G(this,null,function*(){try{f?(yield F(f.id,ve),t({title:"Elemento aggiornato",description:"Elemento aggiornato con successo!"})):(yield I(ve),t({title:"Elemento aggiunto",description:"Nuovo elemento aggiunto alla lista!"})),ue()}catch(ze){console.error("Errore nel salvataggio:",ze),t({title:"Errore",description:f?"Impossibile aggiornare l'elemento":"Impossibile aggiungere l'elemento",variant:"destructive"})}}),Y=ve=>G(this,null,function*(){try{yield B(ve),t({title:"Elemento eliminato",description:"Elemento eliminato con successo!"})}catch(ze){console.error("Errore nell'eliminazione:",ze),t({title:"Errore",description:"Impossibile eliminare l'elemento",variant:"destructive"})}}),Q=ve=>G(this,null,function*(){const ze=_==null?void 0:_.find($=>$.id===ve);if(ze)try{const $=Object.assign(Object.create(Object.getPrototypeOf(ze)),ze,{completed:!ze.completed,completedBy:ze.completed||e==null?void 0:e.username,completedAt:ze.completed?void 0:new Date,updatedAt:new Date});yield F(ve,$),z($),t({title:$.completed?"Elemento completato":"Elemento ripristinato",description:$.completed?"Elemento segnato come completato!":"Elemento ripristinato nella lista!"})}catch($){console.error("Errore nel toggle complete:",$),t({title:"Errore",description:"Impossibile aggiornare l'elemento",variant:"destructive"})}}),H=()=>c==="images"?"grid gap-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5":"grid gap-4 md:grid-cols-2 lg:grid-cols-3",re=ve=>{const ze={item:ve,categories:L||[],onEdit:()=>Fe(ve),onDelete:Y,onComplete:Q,onUpdate:z,onClick:ke};return c==="images"?s.jsx(Jge,D(A({},ze),{viewMode:c}),ve.id):s.jsx(Mge,A({},ze),ve.id)},se=ve=>{const ze=ve||"all";N(ze),o("defaultCategory",ze)},Ae=ve=>{S(ve),o("defaultPriority",ve)},Be=ve=>{E(ve),o("showCompleted",ve)},lt=()=>a(!n);return R?s.jsx("div",{className:"container mx-auto p-6 max-w-7xl",children:s.jsxs("div",{className:"flex justify-center items-center py-20",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cambridge-blue"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Caricamento Shopping..."})]})}):s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:ne("flex justify-between items-start gap-6 mb-8",r?"flex-col":"lg:flex-row lg:items-center"),children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(kE,{className:"h-8 w-8 text-cambridge-blue"}),s.jsx("h1",{className:"text-3xl font-bold text-delft-blue",children:"Shopping"}),r&&s.jsx(ae,{onClick:()=>Fe(),size:"sm",className:"ml-auto bg-cambridge-blue hover:bg-cambridge-blue/90 text-white p-2",children:s.jsx(Yt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:ne("flex flex-wrap gap-4",r&&"mb-4"),children:[s.jsxs(he,{variant:"outline",className:"text-cambridge-blue border-cambridge-blue",children:[K.totalVisible," ",K.totalVisible===1?"articolo":"articoli"]}),s.jsxs(he,{variant:"outline",className:"text-cambridge-blue border-cambridge-blue",children:[K.totalPending," da comprare"]}),s.jsxs(he,{variant:"outline",className:"text-green-600 border-green-300",children:[K.totalCompleted," archiviati"]}),s.jsxs(he,{variant:"outline",className:"text-blue-600 border-blue-300",children:[s.jsx(gn,{className:"w-3 h-3 mr-1"}),K.publicItems," pubblici"]}),s.jsxs(he,{variant:"outline",className:"text-orange-600 border-orange-300",children:[s.jsx(vn,{className:"w-3 h-3 mr-1"}),K.privateItems," privati"]}),s.jsxs(he,{variant:"outline",className:"text-purple-600 border-purple-300",children:[K.myItems," miei"]}),K.highPriority>0&&s.jsxs(he,{variant:"destructive",className:"bg-red-100 text-red-700",children:[s.jsx(Dn,{className:"w-3 h-3 mr-1"}),K.highPriority," urgenti"]}),K.totalCost>0&&s.jsxs(he,{variant:"outline",className:"text-green-600 border-green-300",children:[s.jsx(XP,{className:"w-3 h-3 mr-1"}),"€",K.totalCost.toFixed(2)," stimati"]}),s.jsxs(he,{variant:"outline",className:"text-indigo-600 border-indigo-300 bg-indigo-50",children:["💾 ",c==="images"?"Immagini":"Compatta"," (salvata)"]})]})]}),!r&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[s.jsx(yw,{className:"h-4 w-4 ".concat(c==="compact"?"text-cambridge-blue":"text-gray-400")}),s.jsx(Nr,{id:"view-mode",checked:c==="images",onCheckedChange:ve=>l(ve?"images":"compact"),className:"data-[state=checked]:bg-cambridge-blue"}),s.jsx(Xd,{className:"h-4 w-4 ".concat(c==="images"?"text-cambridge-blue":"text-gray-400")}),s.jsx(Ot,{htmlFor:"view-mode",className:"text-sm font-medium cursor-pointer",children:c==="images"?"Vista Immagini":"Vista Compatta"})]}),s.jsxs(ae,{onClick:()=>Fe(),className:"bg-cambridge-blue hover:bg-cambridge-blue/90 text-white",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Aggiungi Articolo"]})]})]}),s.jsx(Me,{className:ne("mb-8",r&&"mb-6"),children:s.jsxs(Re,{className:ne("p-6",r&&"p-4"),children:[r&&s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Su,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Filtri di ricerca"}),xe>0&&s.jsx(he,{variant:"secondary",className:"bg-cambridge-blue/10 text-cambridge-blue text-xs",children:xe})]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:lt,className:"p-1",children:n?s.jsx(wo,{className:"h-4 w-4"}):s.jsx(yi,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:ne(r&&!n?"hidden":"block"),children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ricerca"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(st,{placeholder:"Cerca articoli, brand, note...",value:b,onChange:ve=>x(ve.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Categoria"}),s.jsx(cve,{value:j,onValueChange:se,categories:L||[],placeholder:"Tutte le categorie",className:ne("w-[140px]",r&&"w-full")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Priorità"}),s.jsxs(zt,{value:w,onValueChange:Ae,children:[s.jsx(It,{className:ne("w-[120px]",r&&"w-full"),children:s.jsx(Ut,{placeholder:"Tutte"})}),s.jsxs($t,{children:[s.jsx(je,{value:"all",children:"Tutte"}),s.jsx(je,{value:"high",children:"Alta"}),s.jsx(je,{value:"medium",children:"Media"}),s.jsx(je,{value:"low",children:"Bassa"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visibilità"}),s.jsxs(zt,{value:P,onValueChange:k,children:[s.jsx(It,{className:ne("w-[120px]",r&&"w-full"),children:s.jsx(Ut,{placeholder:"Tutte"})}),s.jsxs($t,{children:[s.jsx(je,{value:"all",children:"Tutte"}),s.jsx(je,{value:"public",children:"Pubbliche"}),s.jsx(je,{value:"private",children:"Private"})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Nr,{id:"show-completed",checked:T,onCheckedChange:Be,className:"data-[state=checked]:bg-cambridge-blue"}),s.jsx(Ot,{htmlFor:"show-completed",className:"text-sm font-medium cursor-pointer",children:"Mostra archiviati"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 dark:bg-gray-800 rounded-lg border",children:[s.jsx(yw,{className:"h-4 w-4 ".concat(c==="compact"?"text-cambridge-blue":"text-gray-400")}),s.jsx(Nr,{checked:c==="images",onCheckedChange:ve=>l(ve?"images":"compact"),className:"data-[state=checked]:bg-cambridge-blue"}),s.jsx(Xd,{className:"h-4 w-4 ".concat(c==="images"?"text-cambridge-blue":"text-gray-400")}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:c==="images"?"Immagini":"Compatta"})]})]}),xe>0&&s.jsxs(ae,{variant:"ghost",onClick:ie,size:"sm",className:ne("text-gray-500",r&&"w-full"),children:["Pulisci (",xe,")"]})]})]})]})}),s.jsxs("div",{className:ne("space-y-8",r&&"px-1"),children:[K.pendingItems.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-delft-blue",children:"Da Comprare"}),s.jsx(he,{variant:"secondary",children:K.pending})]}),s.jsx("div",{className:H(),children:K.pendingItems.sort((ve,ze)=>{const $=new Date(ve.createdAt).getTime(),q=new Date(ze.createdAt).getTime()-$;if(q===0){const ye={high:3,medium:2,low:1};return ye[ze.priority]-ye[ve.priority]}return q}).map(re)})]}),T&&K.completedItems.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-600",children:"Completati"}),s.jsx(he,{variant:"outline",className:"text-green-600",children:K.completed})]}),s.jsx("div",{className:"".concat(H()," opacity-75"),children:K.completedItems.sort((ve,ze)=>{const $=ve.completedAt?new Date(ve.completedAt).getTime():0;return(ze.completedAt?new Date(ze.completedAt).getTime():0)-$}).map(re)})]}),K.pendingItems.length===0&&K.completedItems.length===0&&s.jsx(Me,{className:"text-center py-16",children:s.jsxs(Re,{children:[s.jsx(Us,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Nessun elemento trovato"}),s.jsx("p",{className:"text-gray-500 mb-4",children:xe>0?"Prova a modificare i filtri di ricerca.":"Inizia aggiungendo il tuo primo articolo shopping."}),xe>0?s.jsx(ae,{onClick:ie,variant:"outline",children:"Pulisci Filtri"}):s.jsxs(ae,{onClick:()=>Fe(),children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Aggiungi Primo Articolo"]})]})})]}),s.jsx(nve,{item:m,categories:L||[],isOpen:p,onClose:Oe,onEdit:ve=>{Oe(),Fe(ve)},onComplete:Q}),s.jsx(ive,{isOpen:u,onClose:ue,onAdd:ee,editItem:f})]})}function uve({note:e,onEdit:t,onDelete:r,onClick:n}){const{user:a}=Lt(),{toast:i}=Ir(),[o,c]=y.useState(!1),l=(a==null?void 0:a.username)===e.createdBy||(a==null?void 0:a.role)==="admin"||e.isPublic,u=()=>G(this,null,function*(){c(!0);try{yield r(e.id),i({title:"Nota eliminata",description:"La nota è stata eliminata con successo!"})}catch(p){i({title:"Errore",description:"Impossibile eliminare la nota",variant:"destructive"})}finally{c(!1)}}),d=p=>{p.target.closest("button")||p.target.closest("a")||p.target.closest('[role="button"]')||n&&n(e)},f=(p,g=120)=>p.length<=g?p:p.substring(0,g)+"...",h=()=>e.isPublic?s.jsxs(he,{className:"bg-green-100 text-green-700 border-green-200",children:[s.jsx(gn,{className:"mr-1 h-3 w-3"}),"Pubblica"]}):s.jsxs(he,{className:"bg-orange-100 text-orange-700 border-orange-200",children:[s.jsx(vn,{className:"mr-1 h-3 w-3"}),"Privata"]}),v=(p=>{if(p==="#F3F4F6")return"#111827";const g=p.replace("#",""),b=parseInt(g.substr(0,2),16),x=parseInt(g.substr(2,2),16),j=parseInt(g.substr(4,2),16);return(.299*b+.587*x+.114*j)/255>.5?"#111827":"#FFFFFF"})(e.color||"#F3F4F6");return s.jsx(Me,{className:"hover:shadow-md transition-all duration-200 border-l-4 cursor-pointer",style:{borderLeftColor:e.color||"#F3F4F6",backgroundColor:e.color?"".concat(e.color,"15"):"#FFFFFF"},onClick:d,children:s.jsxs(Re,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start gap-2",children:[e.isPinned&&s.jsx(jl,{className:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),s.jsx("h3",{className:"font-semibold text-lg leading-tight break-words",style:{color:v},children:e.title})]})}),l&&s.jsxs("div",{className:"flex space-x-1 ml-2 flex-shrink-0",children:[s.jsx(ae,{variant:"ghost",size:"sm",onClick:p=>{p.stopPropagation(),t(e)},className:"text-gray-400 hover:text-cambridge-blue h-8 w-8 p-0",children:s.jsx(xi,{className:"h-4 w-4"})}),s.jsxs(Du,{children:[s.jsx(em,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"sm",onClick:p=>p.stopPropagation(),className:"text-gray-400 hover:text-red-500 h-8 w-8 p-0",children:s.jsx(Yr,{className:"h-4 w-4"})})}),s.jsxs(dc,{children:[s.jsxs(fc,{children:[s.jsx(mc,{children:"Conferma eliminazione"}),s.jsxs(pc,{children:['Sei sicuro di voler eliminare la nota "',e.title,'"? Questa azione non può essere annullata.']})]}),s.jsxs(hc,{children:[s.jsx(vc,{children:"Annulla"}),s.jsx(gc,{onClick:u,className:"bg-red-500 hover:bg-red-600",children:"Elimina"})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[h(),e.isPinned&&s.jsxs(he,{className:"bg-orange-100 text-orange-700 border-orange-200",children:[s.jsx(jl,{className:"mr-1 h-3 w-3"}),"Fissata"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm leading-relaxed",style:{color:v},children:f(e.content)}),e.tags&&e.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((p,g)=>s.jsxs(he,{variant:"outline",className:"text-xs px-2 py-0.5 bg-gray-50",children:["#",p]},g)),e.tags.length>3&&s.jsxs(he,{variant:"outline",className:"text-xs px-2 py-0.5 bg-gray-50",children:["+",e.tags.length-3]})]}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Aa,{className:"mr-2 h-3 w-3"}),"Creata da ",e.createdBy]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Or,{className:"mr-2 h-3 w-3"}),hs(new Date(e.updatedAt),{addSuffix:!0,locale:Gt})]})]})]})]})})}function dve({isOpen:e,onClose:t,onSave:r,editNote:n}){const{user:a}=Lt(),{toast:i}=Ir(),[o,c]=y.useState(!1),[l,u]=y.useState(""),[d,f]=y.useState([]),h=[{name:"Predefinito",value:"#F3F4F6",textColor:"#111827"},{name:"Giallo",value:"#FEF3C7",textColor:"#92400E"},{name:"Verde",value:"#D1FAE5",textColor:"#065F46"},{name:"Azzurro",value:"#DBEAFE",textColor:"#1E40AF"},{name:"Viola",value:"#E9D5FF",textColor:"#7C2D12"},{name:"Rosa",value:"#FCE7F3",textColor:"#BE185D"},{name:"Arancione",value:"#FED7AA",textColor:"#C2410C"},{name:"Rosso",value:"#FECACA",textColor:"#DC2626"}],m=oc({defaultValues:{title:"",content:"",isPublic:!1,createdBy:(a==null?void 0:a.username)||"",tags:[],isPinned:!1,color:"#F3F4F6"}});y.useEffect(()=>{e&&(n?(m.reset({title:n.title,content:n.content,isPublic:n.isPublic,createdBy:n.createdBy,tags:n.tags,isPinned:n.isPinned,color:n.color}),f(n.tags)):(m.reset({title:"",content:"",isPublic:!1,createdBy:(a==null?void 0:a.username)||"",tags:[],isPinned:!1,color:"#F3F4F6"}),f([])),u(""))},[n,m,a,e]);const v=()=>{t(),setTimeout(()=>{m.reset(),f([]),u("")},150)},p=N=>G(this,null,function*(){if(!N.title.trim()){i({title:"Errore",description:"Il titolo è obbligatorio",variant:"destructive"});return}if(!N.content.trim()){i({title:"Errore",description:"Il contenuto è obbligatorio",variant:"destructive"});return}c(!0);try{const w=D(A({},N),{title:N.title.trim(),content:N.content.trim(),tags:d.filter(P=>P.trim()!=="")});let S;if(n){S=n;try{S.update(w.title,w.content),S.isPublic=w.isPublic,S.color=w.color,S.isPinned=w.isPinned,S.tags=[],w.tags.forEach(P=>S.addTag(P.trim()))}catch(P){if(P instanceof ft){i({title:"Errore di Validazione",description:P.errors.join(", "),variant:"destructive"});return}throw P}}else try{S=Rd.createNote({id:"note_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),title:w.title,content:w.content,isPublic:w.isPublic,createdBy:w.createdBy,tags:w.tags,isPinned:w.isPinned,color:w.color})}catch(P){if(P instanceof ft){i({title:"Errore di Validazione",description:P.errors.join(", "),variant:"destructive"});return}throw P}yield r(S),i({title:n?"Nota aggiornata":"Nota creata",description:n?"La nota è stata aggiornata con successo!":"La nota è stata creata con successo!"}),v()}catch(w){console.error("Errore nel salvare la nota:",w),i({title:"Errore",description:n?"Impossibile aggiornare la nota":"Impossibile creare la nota",variant:"destructive"})}finally{c(!1)}}),g=()=>{const N=l.trim();N&&!d.includes(N)&&d.length<10&&(f([...d,N]),u(""))},b=N=>{f(d.filter(w=>w!==N))},x=N=>{N.key==="Enter"?(N.preventDefault(),g()):N.key==="Backspace"&&l===""&&d.length>0&&b(d[d.length-1])},j=()=>{const N=h.find(w=>w.value===m.watch("color"));return(N==null?void 0:N.name)||"Predefinito"};return s.jsx(cr,{open:e,onOpenChange:v,children:s.jsxs(tr,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(rr,{children:s.jsx(nr,{className:"text-2xl font-bold text-delft-blue flex items-center",children:n?s.jsxs(s.Fragment,{children:[s.jsx(jl,{className:"mr-3 h-6 w-6 text-burnt-sienna"}),"Modifica Nota"]}):s.jsxs(s.Fragment,{children:[s.jsx(Yt,{className:"mr-3 h-6 w-6 text-burnt-sienna"}),"Crea Nuova Nota"]})})}),s.jsx(cc,D(A({},m),{children:s.jsxs("form",{onSubmit:m.handleSubmit(p),className:"space-y-6",children:[s.jsx(rt,{control:m.control,name:"title",render:({field:N})=>{var w;return s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue",children:"Titolo della Nota *"}),s.jsx(it,{children:s.jsx(st,D(A({},N),{placeholder:"Inserisci un titolo significativo...",maxLength:100,className:"text-lg"}))}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[((w=N.value)==null?void 0:w.length)||0,"/100 caratteri"]}),s.jsx(kt,{})]})}}),s.jsx(rt,{control:m.control,name:"content",render:({field:N})=>{var w;return s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue",children:"Contenuto *"}),s.jsx(it,{children:s.jsx(Bu,D(A({},N),{placeholder:"Scrivi qui il contenuto della tua nota...",rows:5,className:"resize-y min-h-[100px]"}))}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[((w=N.value)==null?void 0:w.length)||0," caratteri"]}),s.jsx(kt,{})]})}}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(Sl,{className:"mr-2 h-4 w-4"}),"Tag ",d.length>0&&s.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",d.length,"/10)"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(st,{placeholder:"Aggiungi un tag e premi Invio...",value:l,onChange:N=>u(N.target.value),onKeyDown:x,className:"flex-1",maxLength:20,disabled:d.length>=10}),s.jsx(ae,{type:"button",variant:"outline",onClick:g,disabled:!l.trim()||d.length>=10,children:s.jsx(Yt,{className:"h-4 w-4"})})]}),d.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((N,w)=>s.jsxs(he,{variant:"secondary",className:"cursor-pointer hover:bg-red-50 transition-colors",children:["#",N,s.jsx("button",{type:"button",onClick:()=>b(N),className:"ml-2 text-gray-500 hover:text-red-500 transition-colors",children:s.jsx(jo,{className:"h-3 w-3"})})]},w))})]}),s.jsx(rt,{control:m.control,name:"color",render:({field:N})=>s.jsxs(Qe,{children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(QP,{className:"mr-2 h-4 w-4"}),"Colore Nota: ",s.jsx("span",{className:"ml-2 font-normal text-gray-600",children:j()})]}),s.jsx("div",{className:"grid grid-cols-4 gap-3",children:h.map(w=>s.jsx("button",{type:"button",onClick:()=>N.onChange(w.value),className:"p-4 rounded-xl border-2 text-sm font-medium transition-all hover:scale-105 ".concat(N.value===w.value?"border-burnt-sienna ring-2 ring-burnt-sienna/30 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"),style:{backgroundColor:w.value,color:w.textColor},children:w.name},w.value))})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(rt,{control:m.control,name:"isPinned",render:({field:N})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center cursor-pointer",children:[s.jsx(jl,{className:"mr-2 h-4 w-4"}),"Fissa in Alto"]}),s.jsx("p",{className:"text-xs text-gray-600",children:"Appare sempre in cima"})]}),s.jsx(it,{children:s.jsx(Nr,{checked:N.value,onCheckedChange:N.onChange})})]})}),s.jsx(rt,{control:m.control,name:"isPublic",render:({field:N})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue flex items-center cursor-pointer",children:N.value?s.jsxs(s.Fragment,{children:[s.jsx(gn,{className:"mr-2 h-4 w-4 text-green-600"}),"Pubblica"]}):s.jsxs(s.Fragment,{children:[s.jsx(vn,{className:"mr-2 h-4 w-4 text-orange-600"}),"Privata"]})}),s.jsx("p",{className:"text-xs text-gray-600",children:N.value?"Visibile a tutti":"Solo per te"})]}),s.jsx(it,{children:s.jsx(Nr,{checked:N.value,onCheckedChange:N.onChange})})]})})]}),s.jsxs("div",{className:"flex gap-3 pt-6 border-t",children:[s.jsx(ae,{type:"button",variant:"outline",className:"flex-1",onClick:v,disabled:o,children:"Annulla"}),s.jsxs(ae,{type:"submit",disabled:o,className:"flex-1 bg-burnt-sienna hover:bg-burnt-sienna/90 text-white font-semibold",children:[o&&s.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Aggiorna Nota":"Crea Nota"]})]})]})}))]})})}function fve({note:e,isOpen:t,onClose:r,onEdit:n}){const{user:a}=Lt(),{toast:i}=Ir();if(!e)return null;const o=(a==null?void 0:a.username)===e.createdBy||(a==null?void 0:a.role)==="admin"||e.isPublic,c=(m,v)=>{if(!m||!ku(m))return"Data non disponibile";try{return v?jt(m,v,{locale:Gt}):hs(m,{addSuffix:!0,locale:Gt})}catch(p){return console.warn("Error formatting date:",p),"Data non valida"}},l=()=>{r()},u=()=>{navigator.clipboard.writeText(e.content),i({title:"Contenuto copiato",description:"Il contenuto della nota è stato copiato negli appunti"})},d=()=>{navigator.share?navigator.share({title:e.title,text:e.content}):u()},h=(m=>{if(m==="#F3F4F6")return"#111827";const v=m.replace("#",""),p=parseInt(v.substr(0,2),16),g=parseInt(v.substr(2,2),16),b=parseInt(v.substr(4,2),16);return(.299*p+.587*g+.114*b)/255>.5?"#111827":"#FFFFFF"})(e.color||"#F3F4F6");return s.jsx(cr,{open:t,onOpenChange:r,children:s.jsxs(tr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(rr,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:"flex-1",children:s.jsx(nr,{className:"text-xl font-semibold pr-4",children:e.title})}),o&&n&&s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>n(e),className:"ml-4 flex-shrink-0",children:[s.jsx(xi,{className:"h-4 w-4 mr-1"}),"Modifica"]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(he,{variant:e.isPublic?"default":"secondary",className:"text-sm",children:e.isPublic?s.jsxs(s.Fragment,{children:[s.jsx(gn,{className:"h-3 w-3 mr-1"}),"Pubblica"]}):s.jsxs(s.Fragment,{children:[s.jsx(vn,{className:"h-3 w-3 mr-1"}),"Privata"]})}),e.isPinned&&s.jsxs(he,{className:"bg-orange-100 text-orange-700 border-orange-200 text-sm",children:[s.jsx(jl,{className:"h-3 w-3 mr-1"}),"Fissata"]}),e.color&&e.color!=="#F3F4F6"&&s.jsxs(he,{variant:"outline",className:"text-sm",children:[s.jsx(QP,{className:"h-3 w-3 mr-1"}),s.jsx("div",{className:"w-3 h-3 rounded-full ml-1 border border-gray-300",style:{backgroundColor:e.color}})]})]}),s.jsx(Me,{className:"border-l-4 min-h-[200px]",style:{borderLeftColor:e.color||"#F3F4F6",backgroundColor:e.color||"#F3F4F6"},children:s.jsx(Re,{className:"pt-6",children:s.jsx("div",{className:"prose prose-sm max-w-none leading-relaxed whitespace-pre-wrap",style:{color:h},children:e.content})})}),e.tags&&e.tags.length>0&&s.jsxs(Me,{children:[s.jsx(er,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Sl,{className:"h-4 w-4 mr-2 text-gray-600"}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Tags"})]})}),s.jsx(Re,{className:"pt-0",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((m,v)=>s.jsxs(he,{variant:"outline",className:"text-sm px-3 py-1 bg-gray-50 hover:bg-gray-100 transition-colors",children:["#",m]},v))})})]}),s.jsxs(Me,{children:[s.jsx(er,{className:"pb-3",children:s.jsx("h3",{className:"font-medium text-gray-900",children:"Azioni"})}),s.jsx(Re,{className:"pt-0",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",onClick:u,className:"flex-1",children:[s.jsx(al,{className:"h-4 w-4 mr-2"}),"Copia contenuto"]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:d,children:s.jsx(eC,{className:"h-4 w-4"})})]})})]}),s.jsxs(Me,{children:[s.jsx(er,{className:"pb-3",children:s.jsx("h3",{className:"font-medium text-gray-900",children:"Informazioni"})}),s.jsxs(Re,{className:"pt-0 space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Aa,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Creata da ",s.jsx("strong",{children:e.createdBy})]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(li,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Creata ",c(e.createdAt),e.createdAt&&s.jsxs("span",{className:"ml-2 text-gray-400",children:["(",c(e.createdAt,"dd/MM/yyyy HH:mm"),")"]})]})]}),e.updatedAt&&e.updatedAt!==e.createdAt&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Or,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:["Aggiornata ",c(e.updatedAt),e.updatedAt&&s.jsxs("span",{className:"ml-2 text-gray-400",children:["(",c(e.updatedAt,"dd/MM/yyyy HH:mm"),")"]})]})]}),s.jsx("div",{className:"flex gap-3 pt-6 border-t",children:s.jsx(ae,{type:"button",variant:"secondary",className:"flex-1",onClick:l,children:"Chiudi"})}),s.jsx(mu,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Caratteri: ",e.content.length]}),s.jsxs("span",{children:["Parole: ",e.content.trim()?e.content.trim().split(/\s+/).length:0]}),s.jsxs("span",{children:["Righe: ",e.content.split("\n").length]})]})]})]})]})]})})}function hve(){const{user:e}=Lt(),t=Mc(),[r,n]=y.useState(!t),[a,i]=y.useState(!1),[o,c]=y.useState(null),[l,u]=y.useState(""),[d,f]=y.useState("all"),[h,m]=y.useState("newest"),[v,p]=y.useState(null),[g,b]=y.useState(!1);M.useEffect(()=>{n(!t)},[t]);const{data:x,loading:j,add:N,update:w,remove:S}=ur("notes"),{filteredNotes:P,stats:k}=y.useMemo(()=>{const F=x.filter(z=>z.isPublic||z.createdBy===(e==null?void 0:e.username)||(e==null?void 0:e.role)==="admin"),B={total:F.length,publicNotes:F.filter(z=>z.isPublic).length,privateNotes:F.filter(z=>!z.isPublic).length,myNotes:(e==null?void 0:e.role)==="admin"?F.filter(z=>z.createdBy===e.username).length:0};let L=F.filter(z=>{var K,ie,xe;const U=!l||((K=z.title)==null?void 0:K.toLowerCase().includes(l.toLowerCase()))||((ie=z.content)==null?void 0:ie.toLowerCase().includes(l.toLowerCase()))||((xe=z.tags)==null?void 0:xe.some(ke=>ke.toLowerCase().includes(l.toLowerCase()))),Z=d==="all"||d==="public"&&z.isPublic||d==="private"&&!z.isPublic||d==="mine"&&z.createdBy===(e==null?void 0:e.username);return U&&Z});return L.sort((z,U)=>h==="newest"?new Date(U.createdAt).getTime()-new Date(z.createdAt).getTime():h==="oldest"?new Date(z.createdAt).getTime()-new Date(U.createdAt).getTime():h==="title"?z.title.localeCompare(U.title):h==="updated"?new Date(U.updatedAt||U.createdAt).getTime()-new Date(z.updatedAt||z.createdAt).getTime():0),{filteredNotes:L,stats:B}},[x,e,l,d,h]),T=F=>G(this,null,function*(){o?(yield w(o.id,F),c(null)):yield N(F),i(!1)}),E=F=>{c(F),i(!0)},_=F=>{p(F),b(!0)},O=()=>{b(!1),p(null)},C=F=>G(this,null,function*(){yield S(F)}),R=()=>{i(!1),c(null)},I=()=>n(!r);return j?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-burnt-sienna"}),s.jsx("span",{className:"ml-3 text-delft-blue font-medium",children:"Loading..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6",children:[s.jsx("div",{className:ne("mb-6",t?"space-y-4":"mb-8"),children:s.jsxs("div",{className:ne("flex items-start justify-between",t?"flex-col space-y-3":"flex-row items-center"),children:[s.jsxs("div",{className:ne(t?"w-full":""),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(DE,{className:"h-8 w-8 text-cambridge-blue"}),s.jsx("h1",{className:"text-3xl font-bold text-delft-blue",children:"Note"}),t&&s.jsx(ae,{onClick:()=>i(!0),size:"sm",className:"ml-auto bg-cambridge-blue hover:bg-cambridge-blue/90 text-white p-2",children:s.jsx(Yt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:ne("flex flex-wrap gap-2",t?"mb-4":""),children:[s.jsxs(he,{variant:"secondary",className:"bg-cambridge-blue/10 text-cambridge-blue border-cambridge-blue/20",children:[k.total," ",k.total===1?"nota":"note"]}),s.jsxs(he,{variant:"secondary",className:"bg-green-100 text-green-700 border-green-200",children:[k.publicNotes," ",k.publicNotes===1?"pubblica":"pubbliche"]}),s.jsxs(he,{variant:"secondary",className:"bg-orange-100 text-orange-700 border-orange-200",children:[k.privateNotes," ",k.privateNotes===1?"privata":"private"]}),(e==null?void 0:e.role)==="admin"&&s.jsxs(he,{variant:"secondary",className:"bg-purple-100 text-purple-700 border-purple-200",children:[k.myNotes," ",k.myNotes===1?"mia":"mie"]})]})]}),!t&&s.jsxs(ae,{onClick:()=>i(!0),className:"bg-cambridge-blue hover:bg-cambridge-blue/90 text-white dark:text-black shadow-lg",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Nuova Nota"]})]})}),s.jsx(Me,{className:ne("mb-6",t?"mb-4":""),children:s.jsxs(Re,{className:ne("p-4",t?"p-3":""),children:[t&&s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Su,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Filtri di ricerca"})]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:I,className:"p-1",children:r?s.jsx(wo,{className:"h-4 w-4"}):s.jsx(yi,{className:"h-4 w-4"})})]}),s.jsx("div",{className:ne(t&&!r?"hidden":"block","space-y-4"),children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-center",children:[s.jsxs("div",{className:"w-full md:flex-1 max-w-2xl space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ricerca"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(st,{placeholder:"Cerca titoli, contenuto o tag...",value:l,onChange:F=>u(F.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filtro"}),s.jsxs(zt,{value:d,onValueChange:f,children:[s.jsx(It,{className:"w-full md:w-40",children:s.jsx(Ut,{placeholder:"Tutte"})}),s.jsxs($t,{children:[s.jsx(je,{value:"all",children:"Tutte le Note"}),s.jsx(je,{value:"public",children:"Pubbliche"}),s.jsx(je,{value:"private",children:"Private"}),s.jsx(je,{value:"mine",children:"Le Mie"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ordinamento"}),s.jsxs(zt,{value:h,onValueChange:m,children:[s.jsx(It,{className:"w-full md:w-40",children:s.jsx(Ut,{placeholder:"Ordina per"})}),s.jsxs($t,{children:[s.jsx(je,{value:"newest",children:"Più Recenti"}),s.jsx(je,{value:"oldest",children:"Più Vecchie"}),s.jsx(je,{value:"title",children:"Titolo A-Z"}),s.jsx(je,{value:"updated",children:"Aggiornate"})]})]})]})]})]})})]})}),s.jsx("div",{className:ne(t?"px-1":""),children:P.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.sort((F,B)=>Number(B.isPinned)-Number(F.isPinned)).map(F=>s.jsx(uve,{note:F,onEdit:E,onDelete:C,onClick:_},F.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Yt,{className:"h-12 w-12 text-gray-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-delft-blue mb-2",children:"Nessuna nota trovata"}),s.jsx("p",{className:"text-gray-600 mb-6",children:l||d!=="all"?"Prova ad aggiustare i filtri di ricerca.":"Crea la tua prima nota per condividere pensieri e informazioni importanti."}),s.jsxs(ae,{onClick:()=>i(!0),className:"bg-burnt-sienna hover:bg-burnt-sienna/90 text-white font-semibold",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Crea Prima Nota"]})]})}),s.jsx(dve,{isOpen:a,onClose:R,onSave:T,editNote:o}),s.jsx(fve,{note:v,isOpen:g,onClose:O,onEdit:F=>{O(),E(F)}})]})}var Ie=function(){return Ie=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ie.apply(this,arguments)};function mve(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function IM(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function zu(e){return e.mode==="multiple"}function Uu(e){return e.mode==="range"}function Xm(e){return e.mode==="single"}var pve={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function gve(e,t){return jt(e,"LLLL y",t)}function vve(e,t){return jt(e,"d",t)}function yve(e,t){return jt(e,"LLLL",t)}function xve(e){return"".concat(e)}function bve(e,t){return jt(e,"cccccc",t)}function wve(e,t){return jt(e,"yyyy",t)}var jve=Object.freeze({__proto__:null,formatCaption:gve,formatDay:vve,formatMonthCaption:yve,formatWeekNumber:xve,formatWeekdayName:bve,formatYearCaption:wve}),Nve=function(e,t,r){return jt(e,"do MMMM (EEEE)",r)},Sve=function(){return"Month: "},Ave=function(){return"Go to next month"},_ve=function(){return"Go to previous month"},Pve=function(e,t){return jt(e,"cccc",t)},Cve=function(e){return"Week n. ".concat(e)},Ove=function(){return"Year: "},Eve=Object.freeze({__proto__:null,labelDay:Nve,labelMonthDropdown:Sve,labelNext:Ave,labelPrevious:_ve,labelWeekNumber:Cve,labelWeekday:Pve,labelYearDropdown:Ove});function kve(){var e="buttons",t=pve,r=bx,n={},a={},i=1,o={},c=new Date;return{captionLayout:e,classNames:t,formatters:jve,labels:Eve,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:c,mode:"default"}}function Tve(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Dr(n):t&&(i=new Date(t,0,1)),a?o=Tu(a):r&&(o=new Date(r,11,31)),{fromDate:i?_o(i):void 0,toDate:o?_o(o):void 0}}var $M=y.createContext(void 0);function Dve(e){var t,r=e.initialProps,n=kve(),a=Tve(r),i=a.fromDate,o=a.toDate,c=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;c!=="buttons"&&(!i||!o)&&(c="buttons");var l;(Xm(r)||zu(r)||Uu(r))&&(l=r.onSelect);var u=Ie(Ie(Ie({},n),r),{captionLayout:c,classNames:Ie(Ie({},n.classNames),r.classNames),components:Ie({},r.components),formatters:Ie(Ie({},n.formatters),r.formatters),fromDate:i,labels:Ie(Ie({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ie(Ie({},n.modifiers),r.modifiers),modifiersClassNames:Ie(Ie({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:Ie(Ie({},n.styles),r.styles),toDate:o});return s.jsx($M.Provider,{value:u,children:e.children})}function St(){var e=y.useContext($M);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function RM(e){var t=St(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Mve(e){return s.jsx("svg",Ie({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function LM(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,c=e.className,l=e.style,u=St(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Mve;return s.jsxs("div",{className:c,style:l,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Ive(e){var t,r=St(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,c=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(BU(n,a))for(var h=Dr(n),m=n.getMonth();m<=a.getMonth();m++)f.push(Pp(h,m));else for(var h=Dr(new Date),m=0;m<=11;m++)f.push(Pp(h,m));var v=function(g){var b=Number(g.target.value),x=Pp(Dr(e.displayMonth),b);e.onChange(x)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:LM;return s.jsx(p,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:o}),children:f.map(function(g){return s.jsx("option",{value:g.getMonth(),children:c(g,{locale:o})},g.getMonth())})})}function $ve(e){var t,r=e.displayMonth,n=St(),a=n.fromDate,i=n.toDate,o=n.locale,c=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),v=i.getFullYear(),p=m;p<=v;p++)h.push(Xw(bE(new Date),p));var g=function(x){var j=Xw(Dr(r),Number(x.target.value));e.onChange(j)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:LM;return s.jsx(b,{name:"years","aria-label":f(),className:l.dropdown_year,style:c.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function Rve(e,t){var r=y.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Lve(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,c=e.numberOfMonths,l=c===void 0?1:c;if(i&&Co(i,a)<0){var u=-1*(l-1);a=tn(i,u)}return o&&Co(a,o)<0&&(a=o),Dr(a)}function Fve(){var e=St(),t=Lve(e),r=Rve(t,e.month),n=r[0],a=r[1],i=function(o){var c;if(!e.disableNavigation){var l=Dr(o);a(l),(c=e.onMonthChange)===null||c===void 0||c.call(e,l)}};return[n,i]}function Bve(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Dr(e),i=Dr(tn(a,n)),o=Co(i,a),c=[],l=0;l<o;l++){var u=tn(a,l);c.push(u)}return r&&(c=c.reverse()),c}function zve(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,c=Dr(e);if(!r)return tn(c,o);var l=Co(r,e);if(!(l<i))return tn(c,o)}}function Uve(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,c=Dr(e);if(!r)return tn(c,-o);var l=Co(c,r);if(!(l<=0))return tn(c,-o)}}var FM=y.createContext(void 0);function Wve(e){var t=St(),r=Fve(),n=r[0],a=r[1],i=Bve(n,t),o=zve(n,t),c=Uve(n,t),l=function(f){return i.some(function(h){return Xh(f,h)})},u=function(f,h){l(f)||(h&&PE(f,h)?a(tn(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:c,nextMonth:o,isDateDisplayed:l};return s.jsx(FM.Provider,{value:d,children:e.children})}function Wu(){var e=y.useContext(FM);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function aA(e){var t,r=St(),n=r.classNames,a=r.styles,i=r.components,o=Wu().goToMonth,c=function(d){o(tn(d,e.displayIndex?-e.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:RM,u=s.jsx(l,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(Ive,{onChange:c,displayMonth:e.displayMonth}),s.jsx($ve,{onChange:c,displayMonth:e.displayMonth})]})}function Vve(e){return s.jsx("svg",Ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Hve(e){return s.jsx("svg",Ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var mh=y.forwardRef(function(e,t){var r=St(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),c=Ie(Ie({},a.button_reset),a.button);return e.style&&Object.assign(c,e.style),s.jsx("button",Ie({},e,{ref:t,type:"button",className:o,style:c}))});function qve(e){var t,r,n=St(),a=n.dir,i=n.locale,o=n.classNames,c=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Hve,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Vve;return s.jsxs("div",{className:o.nav,style:c.nav,children:[!e.hidePrevious&&s.jsx(mh,{name:"previous-month","aria-label":h,className:m,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(g,{className:o.nav_icon,style:c.nav_icon}):s.jsx(b,{className:o.nav_icon,style:c.nav_icon})}),!e.hideNext&&s.jsx(mh,{name:"next-month","aria-label":v,className:p,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(b,{className:o.nav_icon,style:c.nav_icon}):s.jsx(g,{className:o.nav_icon,style:c.nav_icon})})]})}function iA(e){var t=St().numberOfMonths,r=Wu(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,c=o.findIndex(function(v){return Xh(e.displayMonth,v)}),l=c===0,u=c===o.length-1,d=t>1&&(l||!u),f=t>1&&(u||!l),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(qve,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function Kve(e){var t,r=St(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,c=r.components,l=(t=c==null?void 0:c.CaptionLabel)!==null&&t!==void 0?t:RM,u;return a?u=s.jsx(l,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(aA,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(aA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(iA,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(iA,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function Gve(e){var t=St(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function Yve(e,t,r){for(var n=r?fs(new Date):rn(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=wr(n,i);a.push(o)}return a}function Xve(){var e=St(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,c=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,u=Yve(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":l(d,{locale:a}),children:c(d,{locale:a})},f)})]})}function Zve(){var e,t=St(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:Xve;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function Qve(e){var t=St(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Ub=y.createContext(void 0);function Jve(e){if(!zu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Ub.Provider,{value:t,children:e.children})}return s.jsx(eye,{initialProps:e.initialProps,children:e.children})}function eye(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var v=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var p=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var g=n?IM([],n):[];if(d.selected){var b=g.findIndex(function(x){return dr(u,x)});g.splice(b,1)}else g.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,g,u,d,f)}}},c={disabled:[]};n&&c.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return dr(h,u)});return!!(d&&!f)});var l={selected:n,onDayClick:o,modifiers:c};return s.jsx(Ub.Provider,{value:l,children:r})}function Wb(){var e=y.useContext(Ub);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function tye(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?dr(a,e)&&dr(n,e)?void 0:dr(a,e)?{from:a,to:void 0}:dr(n,e)?void 0:cf(n,e)?{from:e,to:a}:{from:n,to:e}:a?cf(e,a)?{from:a,to:e}:{from:e,to:a}:n?PE(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Vb=y.createContext(void 0);function rye(e){if(!Uu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Vb.Provider,{value:t,children:e.children})}return s.jsx(nye,{initialProps:e.initialProps,children:e.children})}function nye(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,c=t.min,l=t.max,u=function(m,v,p){var g,b;(g=t.onDayClick)===null||g===void 0||g.call(t,m,v,p);var x=tye(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,m,v,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],dr(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),c&&(i&&!o&&d.disabled.push({after:_p(i,c-1),before:wr(i,c-1)}),i&&o&&d.disabled.push({after:i,before:wr(i,c-1)}),!i&&o&&d.disabled.push({after:_p(o,c-1),before:wr(o,c-1)})),l){if(i&&!o&&(d.disabled.push({before:wr(i,-l+1)}),d.disabled.push({after:wr(i,l-1)})),i&&o){var f=Xn(o,i)+1,h=l-f;d.disabled.push({before:_p(i,h)}),d.disabled.push({after:wr(o,h)})}!i&&o&&(d.disabled.push({before:wr(o,-l+1)}),d.disabled.push({after:wr(o,l-1)}))}return s.jsx(Vb.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function Hb(){var e=y.useContext(Vb);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ed(e){return Array.isArray(e)?IM([],e):e!==void 0?[e]:[]}function aye(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Ed(a)}),t}var Ln;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ln||(Ln={}));var iye=Ln.Selected,ga=Ln.Disabled,sye=Ln.Hidden,oye=Ln.Today,ng=Ln.RangeEnd,ag=Ln.RangeMiddle,ig=Ln.RangeStart,cye=Ln.Outside;function lye(e,t,r){var n,a=(n={},n[iye]=Ed(e.selected),n[ga]=Ed(e.disabled),n[sye]=Ed(e.hidden),n[oye]=[e.today],n[ng]=[],n[ag]=[],n[ig]=[],n[cye]=[],n);return e.fromDate&&a[ga].push({before:e.fromDate}),e.toDate&&a[ga].push({after:e.toDate}),zu(e)?a[ga]=a[ga].concat(t.modifiers[ga]):Uu(e)&&(a[ga]=a[ga].concat(r.modifiers[ga]),a[ig]=r.modifiers[ig],a[ag]=r.modifiers[ag],a[ng]=r.modifiers[ng]),a}var BM=y.createContext(void 0);function uye(e){var t=St(),r=Wb(),n=Hb(),a=lye(t,r,n),i=aye(t.modifiers),o=Ie(Ie({},a),i);return s.jsx(BM.Provider,{value:o,children:e.children})}function zM(){var e=y.useContext(BM);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function dye(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function fye(e){return!!(e&&typeof e=="object"&&"from"in e)}function hye(e){return!!(e&&typeof e=="object"&&"after"in e)}function mye(e){return!!(e&&typeof e=="object"&&"before"in e)}function pye(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function gye(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=Xn(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=Xn(e,n)>=0&&Xn(a,e)>=0;return o}return a?dr(a,e):n?dr(n,e):!1}function vye(e){return xx(e)}function yye(e){return Array.isArray(e)&&e.every(xx)}function xye(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(vye(r))return dr(e,r);if(yye(r))return r.includes(e);if(fye(r))return gye(e,r);if(pye(r))return r.dayOfWeek.includes(e.getDay());if(dye(r)){var n=Xn(r.before,e),a=Xn(r.after,e),i=n>0,o=a<0,c=cf(r.before,r.after);return c?o&&i:i||o}return hye(r)?Xn(e,r.after)>0:mye(r)?Xn(r.before,e)>0:typeof r=="function"?r(e):!1})}function qb(e,t,r){var n=Object.keys(t).reduce(function(i,o){var c=t[o];return xye(e,c)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!Xh(e,r)&&(a.outside=!0),a}function bye(e,t){for(var r=Dr(e[0]),n=Tu(e[e.length-1]),a,i,o=r;o<=n;){var c=qb(o,t),l=!c.disabled&&!c.hidden;if(!l){o=wr(o,1);continue}if(c.selected)return o;c.today&&!i&&(i=o),a||(a=o),o=wr(o,1)}return i||a}var wye=365;function UM(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,c=o===void 0?{count:0,lastFocused:e}:o,l=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:wr,week:Bg,month:tn,year:k8,startOfWeek:function(g){return a.ISOWeek?fs(g):rn(g,{locale:f,weekStartsOn:l})},endOfWeek:function(g){return a.ISOWeek?wE(g):Yh(g,{locale:f,weekStartsOn:l})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=T8([u,m]):n==="after"&&d&&(m=D8([d,m]));var v=!0;if(i){var p=qb(m,i);v=!p.disabled&&!p.hidden}return v?m:c.count>wye?c.lastFocused:UM(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:Ie(Ie({},c),{count:c.count+1})})}var WM=y.createContext(void 0);function jye(e){var t=Wu(),r=zM(),n=y.useState(),a=n[0],i=n[1],o=y.useState(),c=o[0],l=o[1],u=bye(t.displayMonths,r),d=(a!=null?a:c&&t.isDateDisplayed(c))?c:u,f=function(){l(a),i(void 0)},h=function(g){i(g)},m=St(),v=function(g,b){if(a){var x=UM(a,{moveBy:g,direction:b,context:m,modifiers:r});dr(a,x)||(t.goToDate(x,a),h(x))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return s.jsx(WM.Provider,{value:p,children:e.children})}function Kb(){var e=y.useContext(WM);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Nye(e,t){var r=zM(),n=qb(e,r,t);return n}var Gb=y.createContext(void 0);function Sye(e){if(!Xm(e.initialProps)){var t={selected:void 0};return s.jsx(Gb.Provider,{value:t,children:e.children})}return s.jsx(Aye,{initialProps:e.initialProps,children:e.children})}function Aye(e){var t=e.initialProps,r=e.children,n=function(i,o,c){var l,u,d;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,o,c),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,c);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,c)},a={selected:t.selected,onDayClick:n};return s.jsx(Gb.Provider,{value:a,children:r})}function VM(){var e=y.useContext(Gb);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function _ye(e,t){var r=St(),n=VM(),a=Wb(),i=Hb(),o=Kb(),c=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,v=o.focusMonthAfter,p=o.focusYearBefore,g=o.focusYearAfter,b=o.focusStartOfWeek,x=o.focusEndOfWeek,j=function(B){var L,z,U,Z;Xm(r)?(L=n.onDayClick)===null||L===void 0||L.call(n,e,t,B):zu(r)?(z=a.onDayClick)===null||z===void 0||z.call(a,e,t,B):Uu(r)?(U=i.onDayClick)===null||U===void 0||U.call(i,e,t,B):(Z=r.onDayClick)===null||Z===void 0||Z.call(r,e,t,B)},N=function(B){var L;h(e),(L=r.onDayFocus)===null||L===void 0||L.call(r,e,t,B)},w=function(B){var L;f(),(L=r.onDayBlur)===null||L===void 0||L.call(r,e,t,B)},S=function(B){var L;(L=r.onDayMouseEnter)===null||L===void 0||L.call(r,e,t,B)},P=function(B){var L;(L=r.onDayMouseLeave)===null||L===void 0||L.call(r,e,t,B)},k=function(B){var L;(L=r.onDayPointerEnter)===null||L===void 0||L.call(r,e,t,B)},T=function(B){var L;(L=r.onDayPointerLeave)===null||L===void 0||L.call(r,e,t,B)},E=function(B){var L;(L=r.onDayTouchCancel)===null||L===void 0||L.call(r,e,t,B)},_=function(B){var L;(L=r.onDayTouchEnd)===null||L===void 0||L.call(r,e,t,B)},O=function(B){var L;(L=r.onDayTouchMove)===null||L===void 0||L.call(r,e,t,B)},C=function(B){var L;(L=r.onDayTouchStart)===null||L===void 0||L.call(r,e,t,B)},R=function(B){var L;(L=r.onDayKeyUp)===null||L===void 0||L.call(r,e,t,B)},I=function(B){var L;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),u();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),d();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?p():m();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?g():v();break;case"Home":B.preventDefault(),B.stopPropagation(),b();break;case"End":B.preventDefault(),B.stopPropagation(),x();break}(L=r.onDayKeyDown)===null||L===void 0||L.call(r,e,t,B)},F={onClick:j,onFocus:N,onBlur:w,onKeyDown:I,onKeyUp:R,onMouseEnter:S,onMouseLeave:P,onPointerEnter:k,onPointerLeave:T,onTouchCancel:E,onTouchEnd:_,onTouchMove:O,onTouchStart:C};return F}function Pye(){var e=St(),t=VM(),r=Wb(),n=Hb(),a=Xm(e)?t.selected:zu(e)?r.selected:Uu(e)?n.selected:void 0;return a}function Cye(e){return Object.values(Ln).includes(e)}function Oye(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Cye(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Eye(e,t){var r=Ie({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Ie(Ie({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function kye(e,t,r){var n,a,i,o=St(),c=Kb(),l=Nye(e,t),u=_ye(e,l),d=Pye(),f=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var S;l.outside||c.focusedDay&&f&&dr(c.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[c.focusedDay,e,r,f,l.outside]);var h=Oye(o,l).join(" "),m=Eye(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Qve,g=s.jsx(p,{date:e,displayMonth:t,activeModifiers:l}),b={style:m,className:h,children:g,role:"gridcell"},x=c.focusTarget&&dr(c.focusTarget,e)&&!l.outside,j=c.focusedDay&&dr(c.focusedDay,e),N=Ie(Ie(Ie({},b),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=j||x?0:-1,n)),u),w={isButton:f,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:N,divProps:b};return w}function Tye(e){var t=y.useRef(null),r=kye(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(mh,Ie({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ie({},r.divProps))}function Dye(e){var t=e.number,r=e.dates,n=St(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,c=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:c});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=l(Number(t),{locale:c}),h=function(m){a(t,r,m)};return s.jsx(mh,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function Mye(e){var t,r,n=St(),a=n.styles,i=n.classNames,o=n.showWeekNumber,c=n.components,l=(t=c==null?void 0:c.Day)!==null&&t!==void 0?t:Tye,u=(r=c==null?void 0:c.WeekNumber)!==null&&r!==void 0?r:Dye,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(l,{displayMonth:e.displayMonth,date:f})},RU(f))})]})}function sA(e,t,r){for(var n=r!=null&&r.ISOWeek?wE(t):Yh(t,r),a=r!=null&&r.ISOWeek?fs(e):rn(e,r),i=Xn(n,a),o=[],c=0;c<=i;c++)o.push(wr(a,c));var l=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?NE(d):AE(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function Iye(e,t){var r=sA(Dr(e),Tu(e),t);if(t!=null&&t.useFixedWeeks){var n=FU(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=Bg(i,6-n),c=sA(Bg(i,1),o,t);r.push.apply(r,c)}}return r}function $ye(e){var t,r,n,a=St(),i=a.locale,o=a.classNames,c=a.styles,l=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,v=Iye(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Zve,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Mye,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Gve;return s.jsxs("table",{id:e.id,className:o.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:c.tbody,children:v.map(function(x){return s.jsx(g,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(b,{displayMonth:e.displayMonth})]})}function Rye(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var Lye=Rye()?y.useLayoutEffect:y.useEffect,sg=!1,Fye=0;function oA(){return"react-day-picker-".concat(++Fye)}function Bye(e){var t,r=e!=null?e:sg?oA():null,n=y.useState(r),a=n[0],i=n[1];return Lye(function(){a===null&&i(oA())},[]),y.useEffect(function(){sg===!1&&(sg=!0)},[]),(t=e!=null?e:a)!==null&&t!==void 0?t:void 0}function zye(e){var t,r,n=St(),a=n.dir,i=n.classNames,o=n.styles,c=n.components,l=Wu().displayMonths,u=Bye(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,v=e.displayIndex===l.length-1,p=!m&&!v;a==="rtl"&&(t=[m,v],v=t[0],m=t[1]),m&&(f.push(i.caption_start),h=Ie(Ie({},h),o.caption_start)),v&&(f.push(i.caption_end),h=Ie(Ie({},h),o.caption_end)),p&&(f.push(i.caption_between),h=Ie(Ie({},h),o.caption_between));var g=(r=c==null?void 0:c.Caption)!==null&&r!==void 0?r:Kve;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(g,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx($ye,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Uye(e){var t=St(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function Wye(e){var t,r,n=e.initialProps,a=St(),i=Kb(),o=Wu(),c=y.useState(!1),l=c[0],u=c[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,l,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Ie(Ie({},a.styles.root),a.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,p){var g;return Ie(Ie({},v),(g={},g[p]=n[p],g))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Uye;return s.jsx("div",Ie({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(v,p){return s.jsx(zye,{displayIndex:p,displayMonth:v},p)})})}))}function Vye(e){var t=e.children,r=mve(e,["children"]);return s.jsx(Dve,{initialProps:r,children:s.jsx(Wve,{children:s.jsx(Sye,{initialProps:r,children:s.jsx(Jve,{initialProps:r,children:s.jsx(rye,{initialProps:r,children:s.jsx(uye,{children:s.jsx(jye,{children:t})})})})})})})}function Hye(e){return s.jsx(Vye,Ie({},e,{children:s.jsx(Wye,{initialProps:e})}))}function py(a){var i=a,{className:e,classNames:t,showOutsideDays:r=!0}=i,n=W(i,["className","classNames","showOutsideDays"]);return s.jsx(Hye,A({showOutsideDays:r,className:ne("p-3",e),classNames:A({months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ne(_l({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ne(_l({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible"},t),components:{IconLeft:l=>{var u=l,{className:o}=u,c=W(u,["className"]);return s.jsx(YP,A({className:ne("h-4 w-4",o)},c))},IconRight:l=>{var u=l,{className:o}=u,c=W(u,["className"]);return s.jsx(tx,A({className:ne("h-4 w-4",o)},c))}}},n))}py.displayName="Calendar";function qye({isOpen:e,onClose:t,onSave:r,onDelete:n,editEvent:a,selectedDate:i}){const{user:o}=Lt(),{toast:c}=Ir(),[l,u]=y.useState(!1),[d,f]=y.useState(!1),[h,m]=y.useState(""),v=[{value:"personal",label:"Personale",color:"#81B29A",icon:"👤"},{value:"family",label:"Famiglia",color:"#E07A5F",icon:"👨‍👩‍👧‍👦"},{value:"work",label:"Lavoro",color:"#3D405B",icon:"💼"},{value:"appointment",label:"Appuntamento",color:"#F4A261",icon:"📅"},{value:"reminder",label:"Promemoria",color:"#2A9D8F",icon:"⏰"}],p=oc({defaultValues:{title:"",description:"",startDate:i||new Date,endDate:i||new Date,isAllDay:!1,isPublic:!1,createdBy:(o==null?void 0:o.username)||"",eventType:"personal",color:"#E07A5F",location:"",attendees:[]}}),g=p.watch("startDate"),b=p.watch("isAllDay"),x=a&&((o==null?void 0:o.username)===a.createdBy||(o==null?void 0:o.role)==="admin");y.useEffect(()=>{if(e){if(a)p.reset({title:a.title,description:a.description||"",startDate:a.startDate,endDate:a.endDate,isAllDay:a.isAllDay,isPublic:a.isPublic,createdBy:a.createdBy,eventType:a.eventType,color:a.color,location:a.location||"",attendees:a.attendees||[]});else{const E=i||new Date,_=new Date(E);_.setHours(E.getHours()+1),p.reset({title:"",description:"",startDate:E,endDate:_,isAllDay:!1,isPublic:!1,createdBy:(o==null?void 0:o.username)||"",eventType:"personal",color:"#E07A5F",location:"",attendees:[]})}m("")}},[a,i,p,o,e]),y.useEffect(()=>{const E=p.getValues("endDate");if(g&&E<=g){const _=new Date(g);_.setHours(g.getHours()+1),p.setValue("endDate",_)}},[g,p]),y.useEffect(()=>{if(b){const E=new Date(p.getValues("startDate")),_=new Date(p.getValues("endDate"));E.setHours(0,0,0,0),_.setHours(23,59,59,999),p.setValue("startDate",E),p.setValue("endDate",_)}},[b,p]);const j=()=>{t(),setTimeout(()=>{p.reset(),m("")},150)},N=()=>G(this,null,function*(){if(!(!a||!n)){f(!0);try{yield n(a.id),c({title:"Evento eliminato",description:"L'evento è stato eliminato con successo!"}),j()}catch(E){console.error("Errore nell'eliminare l'evento:",E),c({title:"Errore",description:"Impossibile eliminare l'evento",variant:"destructive"})}finally{f(!1)}}}),w=E=>G(this,null,function*(){var _,O;if(!E.title.trim()){c({title:"Errore",description:"Il titolo dell'evento è obbligatorio",variant:"destructive"});return}u(!0);try{const C=D(A({},E),{title:E.title.trim(),description:(_=E.description)==null?void 0:_.trim(),location:(O=E.location)==null?void 0:O.trim(),attendees:E.attendees.filter(I=>I.trim()!=="")});let R;if(a){R=a;try{R.title=C.title,R.description=C.description,R.updateDates(C.startDate,C.endDate),R.isAllDay=C.isAllDay,R.isPublic=C.isPublic,R.eventType=C.eventType,R.color=C.color,R.location=C.location,R.attendees=C.attendees,R.updatedAt=new Date,R.validate()}catch(I){if(I instanceof ft){c({title:"Errore di Validazione",description:I.errors.join(", "),variant:"destructive"});return}throw I}}else try{R=Rd.createCalendarEvent({id:"event_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),title:C.title,description:C.description,startDate:C.startDate,endDate:C.endDate,isAllDay:C.isAllDay,isPublic:C.isPublic,createdBy:C.createdBy,eventType:C.eventType,color:C.color,location:C.location,attendees:C.attendees})}catch(I){if(I instanceof ft){c({title:"Errore di Validazione",description:I.errors.join(", "),variant:"destructive"});return}throw I}yield r(R),c({title:a?"Evento aggiornato":"Evento creato",description:a?"L'evento è stato aggiornato con successo!":"L'evento è stato creato con successo!"}),j()}catch(C){console.error("Errore nel salvare l'evento:",C),c({title:"Errore",description:a?"Impossibile aggiornare l'evento":"Impossibile creare l'evento",variant:"destructive"})}finally{u(!1)}}),S=E=>{const _=v.find(O=>O.value===E);_&&(p.setValue("eventType",E),p.setValue("color",_.color))},P=()=>{const E=h.trim();if(E){const _=p.getValues("attendees");!_.includes(E)&&_.length<20&&(p.setValue("attendees",[..._,E]),m(""))}},k=E=>{const _=p.getValues("attendees");p.setValue("attendees",_.filter(O=>O!==E))},T=E=>{if(E.key==="Enter")E.preventDefault(),P();else if(E.key==="Backspace"&&h===""&&p.getValues("attendees").length>0){const _=p.getValues("attendees");k(_[_.length-1])}};return s.jsx(cr,{open:e,onOpenChange:j,children:s.jsxs(tr,{className:"sm:max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(rr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(nr,{className:"text-2xl font-bold text-delft-blue flex items-center",children:a?s.jsxs(s.Fragment,{children:[s.jsx(li,{className:"mr-3 h-6 w-6 text-burnt-sienna"}),"Modifica Evento"]}):s.jsxs(s.Fragment,{children:[s.jsx(Yt,{className:"mr-3 h-6 w-6 text-burnt-sienna"}),"Crea Nuovo Evento"]})}),a&&x&&n&&s.jsxs(Du,{children:[s.jsx(em,{asChild:!0,children:s.jsx(ae,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-red-500 transition-colors",disabled:l||d,children:s.jsx(Yr,{className:"h-5 w-5"})})}),s.jsxs(dc,{children:[s.jsxs(fc,{children:[s.jsx(mc,{children:"Conferma Eliminazione"}),s.jsxs(pc,{children:["Sei sicuro di voler eliminare l'evento \"",a.title,'"? Questa azione non può essere annullata.']})]}),s.jsxs(hc,{children:[s.jsx(vc,{disabled:d,children:"Annulla"}),s.jsx(gc,{onClick:N,disabled:d,className:"bg-red-500 hover:bg-red-600 text-white",children:d?s.jsxs(s.Fragment,{children:[s.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin"}),"Eliminando..."]}):"Elimina"})]})]})]})]})}),s.jsx(cc,D(A({},p),{children:s.jsxs("form",{onSubmit:p.handleSubmit(w),className:"space-y-6",children:[s.jsx(rt,{control:p.control,name:"title",render:({field:E})=>{var _;return s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue",children:"Titolo Evento *"}),s.jsx(it,{children:s.jsx(st,D(A({},E),{placeholder:"Inserisci il titolo dell'evento...",maxLength:100,className:"text-lg"}))}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[((_=E.value)==null?void 0:_.length)||0,"/100 caratteri"]}),s.jsx(kt,{})]})}}),s.jsx(rt,{control:p.control,name:"description",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue",children:"Descrizione"}),s.jsx(it,{children:s.jsx(Bu,D(A({},E),{placeholder:"Descrizione dell'evento (opzionale)...",rows:4,className:"resize-y"}))}),s.jsx(kt,{})]})}),s.jsx(rt,{control:p.control,name:"isAllDay",render:({field:E})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center cursor-pointer",children:[s.jsx(Or,{className:"mr-2 h-4 w-4"}),"Evento Giornata Intera"]}),s.jsx("p",{className:"text-xs text-gray-600",children:"L'evento dura tutto il giorno"})]}),s.jsx(it,{children:s.jsx(Nr,{checked:E.value,onCheckedChange:E.onChange})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(rt,{control:p.control,name:"startDate",render:({field:E})=>s.jsxs(Qe,{className:"flex flex-col",children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue",children:"Data e Ora Inizio"}),s.jsxs(rf,{children:[s.jsx(nf,{asChild:!0,children:s.jsx(it,{children:s.jsxs(ae,{variant:"outline",className:ne("w-full pl-3 text-left font-normal",!E.value&&"text-muted-foreground"),children:[E.value?jt(E.value,b?"PPP":"PPP p",{locale:Gt}):s.jsx("span",{children:"Seleziona una data"}),s.jsx(li,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsxs(kl,{className:"w-auto p-0",align:"start",children:[s.jsx(py,{mode:"single",selected:E.value,onSelect:_=>{if(_)if(b)E.onChange(_);else{const O=new Date(_),C=E.value;C&&O.setHours(C.getHours(),C.getMinutes()),E.onChange(O)}},disabled:_=>_<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0}),!b&&s.jsx("div",{className:"p-3 border-t",children:s.jsx(st,{type:"time",value:E.value?jt(E.value,"HH:mm"):"",onChange:_=>{if(E.value&&_.target.value){const[O,C]=_.target.value.split(":"),R=new Date(E.value);R.setHours(parseInt(O),parseInt(C)),E.onChange(R)}}})})]})]}),s.jsx(kt,{})]})}),s.jsx(rt,{control:p.control,name:"endDate",render:({field:E})=>s.jsxs(Qe,{className:"flex flex-col",children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue",children:"Data e Ora Fine"}),s.jsxs(rf,{children:[s.jsx(nf,{asChild:!0,children:s.jsx(it,{children:s.jsxs(ae,{variant:"outline",className:ne("w-full pl-3 text-left font-normal",!E.value&&"text-muted-foreground"),children:[E.value?jt(E.value,b?"PPP":"PPP p",{locale:Gt}):s.jsx("span",{children:"Seleziona una data"}),s.jsx(li,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsxs(kl,{className:"w-auto p-0",align:"start",children:[s.jsx(py,{mode:"single",selected:E.value,onSelect:_=>{if(_)if(b)E.onChange(_);else{const O=new Date(_),C=E.value;C&&O.setHours(C.getHours(),C.getMinutes()),E.onChange(O)}},disabled:_=>{const O=p.getValues("startDate");return _<O},initialFocus:!0}),!b&&s.jsx("div",{className:"p-3 border-t",children:s.jsx(st,{type:"time",value:E.value?jt(E.value,"HH:mm"):"",onChange:_=>{if(E.value&&_.target.value){const[O,C]=_.target.value.split(":"),R=new Date(E.value);R.setHours(parseInt(O),parseInt(C)),E.onChange(R)}}})})]})]}),s.jsx(kt,{})]})})]}),s.jsx(rt,{control:p.control,name:"eventType",render:({field:E})=>s.jsxs(Qe,{children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue",children:"Tipo di Evento"}),s.jsxs(zt,{onValueChange:S,defaultValue:E.value,children:[s.jsx(it,{children:s.jsx(It,{children:s.jsx(Ut,{placeholder:"Seleziona il tipo di evento"})})}),s.jsx($t,{children:v.map(_=>s.jsx(je,{value:_.value,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-lg",children:_.icon}),s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_.color}}),s.jsx("span",{className:"font-medium",children:_.label})]})},_.value))})]}),s.jsx(kt,{})]})}),s.jsx(rt,{control:p.control,name:"location",render:({field:E})=>s.jsxs(Qe,{children:[s.jsxs(Je,{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(Ag,{className:"mr-2 h-4 w-4"}),"Luogo (Opzionale)"]}),s.jsx(it,{children:s.jsx(st,D(A({},E),{placeholder:"Inserisci il luogo dell'evento..."}))}),s.jsx(kt,{})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-sm font-medium text-delft-blue flex items-center",children:[s.jsx(Xr,{className:"mr-2 h-4 w-4"}),"Partecipanti ",p.watch("attendees").length>0&&s.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",p.watch("attendees").length,"/20)"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(st,{placeholder:"Aggiungi email o nome partecipante...",value:h,onChange:E=>m(E.target.value),onKeyDown:T,className:"flex-1",disabled:p.watch("attendees").length>=20}),s.jsx(ae,{type:"button",variant:"outline",onClick:P,disabled:!h.trim()||p.watch("attendees").length>=20,children:s.jsx(Yt,{className:"h-4 w-4"})})]}),p.watch("attendees").length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:p.watch("attendees").map((E,_)=>s.jsxs("div",{className:"bg-cambridge-blue/10 text-cambridge-blue px-3 py-1 rounded-full text-sm flex items-center border border-cambridge-blue/20",children:[E,s.jsx("button",{type:"button",onClick:()=>k(E),className:"ml-2 text-cambridge-blue hover:text-red-500 transition-colors",children:s.jsx(jo,{className:"h-3 w-3"})})]},_))})]}),s.jsx(rt,{control:p.control,name:"isPublic",render:({field:E})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Je,{className:"text-sm font-medium text-delft-blue flex items-center cursor-pointer",children:E.value?s.jsxs(s.Fragment,{children:[s.jsx(gn,{className:"mr-2 h-4 w-4 text-green-600"}),"Evento Pubblico"]}):s.jsxs(s.Fragment,{children:[s.jsx(vn,{className:"mr-2 h-4 w-4 text-orange-600"}),"Evento Privato"]})}),s.jsx("p",{className:"text-xs text-gray-600",children:E.value?"Questo evento sarà visibile a tutti i membri della famiglia":"Questo evento sarà visibile solo a te"})]}),s.jsx(it,{children:s.jsx(Nr,{checked:E.value,onCheckedChange:E.onChange})})]})}),s.jsxs("div",{className:"flex gap-3 pt-6 border-t",children:[s.jsx(ae,{type:"button",variant:"outline",className:"flex-1",onClick:j,disabled:l||d,children:"Annulla"}),s.jsxs(ae,{type:"submit",disabled:l||d,className:"flex-1 bg-burnt-sienna hover:bg-burnt-sienna/90 text-white font-semibold",children:[l&&s.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Aggiorna Evento":"Crea Evento"]})]})]})}))]})})}function Kye(){const{user:e}=Lt(),t=Mc(),[r,n]=y.useState(!t),[a,i]=y.useState(new Date),[o,c]=y.useState(!1),[l,u]=y.useState(null),[d,f]=y.useState(),[h,m]=y.useState(!1),[v,p]=y.useState([]),[g,b]=y.useState("all"),[x,j]=y.useState("all");M.useEffect(()=>{n(!t)},[t]);const{data:N,loading:w,add:S,update:P,remove:k}=ur("calendar_events"),T=y.useMemo(()=>N.filter(Q=>Q.isPublic||Q.createdBy===(e==null?void 0:e.username)||(e==null?void 0:e.role)==="admin").filter(Q=>{const H=g==="all"||Q.eventType===g,re=x==="all"||x==="public"&&Q.isPublic||x==="private"&&!Q.isPublic;return H&&re}),[N,e,g,x]),E=y.useMemo(()=>{const Y=T.length,Q=T.filter(se=>se.isPublic).length,H=T.filter(se=>!se.isPublic).length,re=T.filter(se=>se.createdBy===(e==null?void 0:e.username)).length;return{total:Y,publicEvents:Q,privateEvents:H,myEvents:re}},[T,e]),_=y.useMemo(()=>{const Y=new Date;return T.filter(Q=>(Q.startDate instanceof Date?Q.startDate:new Date(Q.startDate))>=Y||Q.endDate&&(Q.endDate instanceof Date?Q.endDate:new Date(Q.endDate))>=Y).sort((Q,H)=>{const re=Q.startDate instanceof Date?Q.startDate:new Date(Q.startDate),se=H.startDate instanceof Date?H.startDate:new Date(H.startDate);return re.getTime()-se.getTime()})},[T]),O=Dr(a),C=Tu(O),R=rn(O,{weekStartsOn:1}),I=Yh(C,{weekStartsOn:1}),F="d",B=[];let L=[],z=R;const U=[{name:"Lun",isWeekend:!1},{name:"Mar",isWeekend:!1},{name:"Mer",isWeekend:!1},{name:"Gio",isWeekend:!1},{name:"Ven",isWeekend:!1},{name:"Sab",isWeekend:!0},{name:"Dom",isWeekend:!0}];for(;z<=I;){for(let Y=0;Y<7;Y++){const Q=z,H=T.filter(se=>dr(se.startDate,Q)||se.startDate<=Q&&se.endDate>=Q),re=Gw(Q)===0||Gw(Q)===6;L.push(s.jsxs("div",{className:"p-2 text-center text-sm cursor-pointer transition-all duration-200 relative h-16 border border-gray-200 dark:border-gray-600 flex flex-col justify-between ".concat(Xh(z,O)?zU(z)?"bg-burnt-sienna text-white font-bold shadow-md dark:bg-burnt-sienna dark:text-white":re?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/30":"text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 hover:bg-cambridge-blue/10 dark:hover:bg-cambridge-blue/20":"text-gray-300 dark:text-gray-600 bg-gray-50 dark:bg-gray-800/50"),onClick:()=>{H.length>0?(p(H),f(Q),m(!0)):(f(Q),c(!0))},children:[s.jsx("div",{className:"font-semibold text-xs",children:jt(z,F)}),H.length>0&&s.jsxs("div",{className:"flex flex-wrap justify-center gap-1",children:[H.slice(0,t?1:2).map(se=>s.jsx("div",{className:"w-1.5 h-1.5 rounded-full shadow-sm",style:{backgroundColor:se.color},title:se.title},se.id)),H.length>(t?1:2)&&s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-500 dark:bg-gray-400"})]})]},z.toString())),z=wr(z,1)}B.push(s.jsx("div",{className:"grid grid-cols-7 flex-1",children:L},z.toString())),L=[]}const Z=Y=>G(this,null,function*(){l?(yield P(l.id,Y),u(null)):yield S(Y),c(!1),f(void 0)}),K=Y=>G(this,null,function*(){try{yield k(Y),c(!1),u(null),f(void 0)}catch(Q){throw console.error("Errore nell'eliminare l'evento:",Q),Q}}),ie=Y=>{u(Y),c(!0),m(!1)},xe=()=>{c(!1),u(null),f(void 0)},ke=()=>{m(!1),p([]),f(void 0)},Oe=()=>{i(tn(a,1))},Fe=()=>{i(UU(a))},ue=()=>{n(!r)},ee=Y=>({personal:{label:"Personale",icon:"👤"},family:{label:"Famiglia",icon:"👨‍👩‍👧‍👦"},work:{label:"Lavoro",icon:"💼"},appointment:{label:"Appuntamento",icon:"📅"},reminder:{label:"Promemoria",icon:"⏰"}})[Y]||{label:Y,icon:"📅"};return w?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-burnt-sienna"}),s.jsx("span",{className:"ml-3 text-delft-blue font-medium",children:"Caricamento..."})]}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-6",children:[s.jsx("div",{className:ne("mb-8",t&&"mb-6"),children:s.jsxs("div",{className:ne("flex sm:items-center sm:justify-between",t?"flex-col space-y-3":"flex-row"),children:[s.jsxs("div",{className:ne(t?"w-full":""),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(EE,{className:"h-8 w-8 text-cambridge-blue"}),s.jsx("h1",{className:"text-3xl font-bold text-delft-blue",children:"Eventi"}),t&&s.jsx(ae,{onClick:()=>c(!0),size:"sm",className:"ml-auto bg-cambridge-blue hover:bg-cambridge-blue/90 text-white p-2",children:s.jsx(Yt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:ne("flex flex-wrap gap-2",t&&"mb-4"),children:[s.jsxs(he,{variant:"secondary",className:"bg-cambridge-blue/10 text-cambridge-blue border-cambridge-blue/20",children:[E.total," ",E.total===1?"evento":"eventi"]}),s.jsxs(he,{variant:"secondary",className:"bg-green-100 text-green-700 border-green-200",children:[E.publicEvents," ",E.publicEvents===1?"pubblico":"pubblici"]}),s.jsxs(he,{variant:"secondary",className:"bg-orange-100 text-orange-700 border-orange-200",children:[E.privateEvents," ",E.privateEvents===1?"privato":"privati"]}),(e==null?void 0:e.role)==="admin"&&s.jsxs(he,{variant:"secondary",className:"bg-purple-100 text-purple-700 border-purple-200",children:[E.myEvents," ",E.myEvents===1?"mio":"miei"]})]})]}),!t&&s.jsxs(ae,{onClick:()=>c(!0),className:"bg-cambridge-blue hover:bg-cambridge-blue/90 text-white dark:text-black shadow-lg",children:[s.jsx(Yt,{className:"mr-2 h-4 w-4"}),"Nuovo Evento"]})]})}),s.jsx(Me,{className:ne("mb-6",t&&"mb-4"),children:s.jsxs(Re,{className:ne("p-6",t&&"p-4"),children:[t&&s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Su,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Filtri eventi"})]}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:ue,children:r?s.jsx(wo,{className:"h-4 w-4"}):s.jsx(yi,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:ne("flex flex-col gap-4",t&&!r&&"hidden"),children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo Evento"}),s.jsxs(zt,{value:g,onValueChange:b,children:[s.jsx(It,{className:"w-full sm:w-48",children:s.jsx(Ut,{placeholder:"Seleziona tipo"})}),s.jsxs($t,{children:[s.jsx(je,{value:"all",children:"Tutti i Tipi"}),s.jsx(je,{value:"personal",children:"Personale"}),s.jsx(je,{value:"family",children:"Famiglia"}),s.jsx(je,{value:"work",children:"Lavoro"}),s.jsx(je,{value:"appointment",children:"Appuntamento"}),s.jsx(je,{value:"reminder",children:"Promemoria"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Visibilità"}),s.jsxs(zt,{value:x,onValueChange:j,children:[s.jsx(It,{className:"w-full sm:w-40",children:s.jsx(Ut,{placeholder:"Seleziona visibilità"})}),s.jsxs($t,{children:[s.jsx(je,{value:"all",children:"Tutti"}),s.jsx(je,{value:"public",children:"Pubblici"}),s.jsx(je,{value:"private",children:"Privati"})]})]})]})]})]})}),s.jsx(Me,{className:"mb-6",children:s.jsxs(Re,{className:ne("p-6",t&&"p-4"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-delft-blue",children:jt(a,"MMMM yyyy",{locale:Gt})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ae,{variant:"outline",size:"sm",onClick:Fe,className:"p-2",children:s.jsx(YP,{className:"h-4 w-4"})}),s.jsx(ae,{variant:"outline",size:"sm",onClick:Oe,className:"p-2",children:s.jsx(tx,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:ne("flex flex-col",t?"h-90":"h-98"),children:[s.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200 dark:border-gray-700",children:U.map(Y=>s.jsx("div",{className:"p-3 text-center text-sm font-semibold ".concat(Y.isWeekend?"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800"),children:Y.name},Y.name))}),s.jsx("div",{className:"flex-1 overflow-hidden",children:B})]})]})}),s.jsx(Me,{children:s.jsxs(Re,{className:ne("p-6",t&&"p-4"),children:[s.jsxs("h3",{className:"text-lg font-semibold text-delft-blue mb-4 flex items-center",children:[s.jsx(Or,{className:"mr-2 h-5 w-5"}),"Prossimi Eventi",_.length>0&&s.jsx(he,{variant:"secondary",className:"ml-2 bg-cambridge-blue/10 text-cambridge-blue",children:_.length})]}),_.length>0?s.jsx("div",{className:ne("space-y-3",t?"max-h-48 overflow-y-auto":"md:overflow-y-auto md:scrollbar-thin md:scrollbar-thumb-burnt-sienna md:scrollbar-track-gray-100",!t&&"max-h-[165px]"),children:_.map(Y=>{const Q=ee(Y.eventType);return s.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg cursor-pointer hover:shadow-md transition-all duration-200 border border-gray-100",style:{backgroundColor:"".concat(Y.color,"08")},onClick:()=>ie(Y),children:[s.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:Y.color}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-delft-blue truncate",children:Y.title}),s.jsx("span",{className:"text-lg",children:Q.icon})]}),s.jsxs("div",{className:ne("flex items-center gap-4 text-sm text-gray-600",t&&"flex-col items-start gap-1"),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Or,{className:"mr-1 h-3 w-3"}),jt(Y.startDate,"d MMM yyyy",{locale:Gt}),Y.isAllDay?"":" ".concat(jt(Y.startDate,"HH:mm")),!dr(Y.startDate,Y.endDate)&&s.jsxs("span",{children:[" - ",jt(Y.endDate,"d MMM yyyy",{locale:Gt})]})]}),Y.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ag,{className:"mr-1 h-3 w-3"}),s.jsx("span",{className:"truncate max-w-32",children:Y.location})]}),Y.attendees&&Y.attendees.length>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xr,{className:"mr-1 h-3 w-3"}),s.jsx("span",{children:Y.attendees.length})]})]})]}),s.jsx(he,{variant:"outline",className:"capitalize text-xs border-2",style:{borderColor:Y.color,color:Y.color},children:Q.label})]},Y.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Or,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"Nessun evento in arrivo"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Aggiungi un evento per iniziare"})]})]})}),s.jsx(cr,{open:h,onOpenChange:ke,children:s.jsxs(tr,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(rr,{children:s.jsxs(nr,{className:"text-xl font-bold text-delft-blue",children:["Eventi del ",d&&jt(d,"d MMMM yyyy",{locale:Gt})]})}),s.jsx("div",{className:"space-y-4",children:v.map(Y=>{const Q=ee(Y.eventType);return s.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 hover:shadow-md transition-all cursor-pointer",style:{backgroundColor:"".concat(Y.color,"08")},onClick:()=>ie(Y),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Y.color}}),s.jsx("h4",{className:"font-semibold text-delft-blue",children:Y.title}),s.jsx("span",{className:"text-lg",children:Q.icon})]}),s.jsx(he,{variant:"outline",style:{borderColor:Y.color,color:Y.color},children:Q.label})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Or,{className:"mr-2 h-3 w-3"}),Y.isAllDay?"Tutto il giorno":"".concat(jt(Y.startDate,"HH:mm")," - ").concat(jt(Y.endDate,"HH:mm"))]}),Y.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ag,{className:"mr-2 h-3 w-3"}),Y.location]}),Y.description&&s.jsx("p",{className:"mt-2 text-gray-700",children:Y.description})]})]},Y.id)})})]})}),s.jsx(qye,{isOpen:o,onClose:xe,onSave:Z,onDelete:K,editEvent:l,selectedDate:d})]})}const Gye=VP({username:zs().min(3,"Username deve essere almeno 3 caratteri").max(20,"Username troppo lungo").regex(/^[a-zA-Z0-9_-]+$/,"Username può contenere solo lettere, numeri, _ e -"),email:zs().email("Email non valida").max(100,"Email troppo lunga"),displayName:zs().min(2,"Nome display troppo corto").max(50,"Nome display troppo lungo"),password:zs().min(6,"Password deve essere almeno 6 caratteri").max(50,"Password troppo lunga"),role:GF(["admin","user"],{required_error:"Seleziona un ruolo"})});function HM(){const{user:e}=Lt(),{data:t,loading:r,error:n,add:a}=ur("users"),{toast:i}=Ir(),[o,c]=y.useState(!1),[l,u]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(null),[v,p]=y.useState(!1),g=oc({resolver:BP(Gye),defaultValues:{username:"",email:"",displayName:"",password:"",role:"user"}});if((e==null?void 0:e.role)!=="admin")return s.jsx("div",{className:"p-6",children:s.jsx(Me,{children:s.jsx(Re,{className:"pt-6",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(zi,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Accesso riservato agli amministratori"})]})})})});const b=S=>G(this,null,function*(){u(!0);try{if(t.find(_=>_.username===S.username))throw new Error("Username già esistente");const{encrypted:k,iv:T}=yield SP.encryptPassword(S.password),E=new tL("",S.username,S.role,S.email,S.displayName,void 0,new Date,void 0,new Date,!0,k,T);yield a(E),f({username:S.username,password:S.password,email:S.email,displayName:S.displayName,role:S.role}),g.reset(),i({title:"Utente creato con successo!",description:"L'utente ".concat(S.username," è stato creato.")})}catch(P){console.error("Errore nella creazione utente:",P),i({title:"Errore nella creazione",description:P instanceof Error?P.message:"Errore sconosciuto",variant:"destructive"})}finally{u(!1)}}),x=(S,P)=>G(this,null,function*(){try{yield navigator.clipboard.writeText(S),m(P),setTimeout(()=>m(null),2e3)}catch(k){console.error("Errore nella copia:",k)}}),j=S=>S?new Intl.DateTimeFormat("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(S):"Mai",N=S=>S==="admin"?"destructive":"secondary",w=S=>S==="admin"?s.jsx(zi,{className:"h-3 w-3"}):s.jsx(Xr,{className:"h-3 w-3"});return r?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-burnt-sienna mx-auto"}),s.jsx("p",{className:"mt-3 text-gray-600",children:"Caricamento utenti..."})]})})}):n?s.jsx("div",{className:"p-6",children:s.jsx(Me,{children:s.jsx(Re,{className:"pt-6",children:s.jsx("div",{className:"text-center text-red-600",children:s.jsxs("p",{children:["Errore nel caricamento: ",n]})})})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-delft-blue flex items-center",children:[s.jsx(Xr,{className:"h-8 w-8 mr-3 text-cambridge-blue"}),"Gestione Utenti"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Amministra gli utenti del sistema"})]}),s.jsxs(cr,{open:o,onOpenChange:c,children:[s.jsx(n9,{asChild:!0,children:s.jsxs(ae,{className:"bg-cambridge-blue hover:bg-cambridge-blue/90",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Crea Nuovo Utente"]})}),s.jsxs(tr,{className:"sm:max-w-[500px]",children:[s.jsx(rr,{children:s.jsx(nr,{children:"Crea Nuovo Utente"})}),d?s.jsxs("div",{className:"space-y-4",children:[s.jsxs(No,{children:[s.jsx(a5,{className:"h-4 w-4"}),s.jsxs(So,{children:[s.jsx("strong",{children:"Utente creato con successo!"}),s.jsx("br",{}),"Ecco le credenziali dell'utente:"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Username"}),s.jsx("p",{className:"font-mono",children:d.username})]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:()=>x(d.username,"username"),children:h==="username"?s.jsx(Rt,{className:"h-3 w-3"}):s.jsx(al,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Password"}),s.jsx("p",{className:"font-mono text-blue-600 font-semibold",children:d.password})]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:()=>x(d.password,"password"),children:h==="password"?s.jsx(Rt,{className:"h-3 w-3"}):s.jsx(al,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),s.jsx("p",{className:"font-mono",children:d.email})]}),s.jsx(ae,{variant:"outline",size:"sm",onClick:()=>x(d.email,"email"),children:h==="email"?s.jsx(Rt,{className:"h-3 w-3"}):s.jsx(al,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"flex space-x-2 pt-4",children:[s.jsx(ae,{onClick:()=>{f(null),c(!1)},className:"flex-1",children:"Chiudi"}),s.jsx(ae,{variant:"outline",onClick:()=>f(null),className:"flex-1",children:"Crea Altro Utente"})]})]}):s.jsx(cc,D(A({},g),{children:s.jsxs("form",{onSubmit:g.handleSubmit(b),className:"space-y-4",children:[s.jsx(rt,{control:g.control,name:"username",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Je,{children:"Username"}),s.jsx(it,{children:s.jsx(st,A({placeholder:"es. marco.rossi"},S))}),s.jsx(kt,{})]})}),s.jsx(rt,{control:g.control,name:"email",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Je,{children:"Email"}),s.jsx(it,{children:s.jsx(st,A({type:"email",placeholder:"marco.rossi@family.com"},S))}),s.jsx(kt,{})]})}),s.jsx(rt,{control:g.control,name:"displayName",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Je,{children:"Nome Completo"}),s.jsx(it,{children:s.jsx(st,A({placeholder:"Marco Rossi"},S))}),s.jsx(kt,{})]})}),s.jsx(rt,{control:g.control,name:"password",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Je,{children:"Password"}),s.jsx(it,{children:s.jsxs("div",{className:"relative",children:[s.jsx(st,A({type:v?"text":"password",placeholder:"Inserisci una password sicura"},S)),s.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!v),children:v?s.jsx(e5,{className:"h-4 w-4"}):s.jsx(wl,{className:"h-4 w-4"})})]})}),s.jsx(kt,{})]})}),s.jsx(rt,{control:g.control,name:"role",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Je,{children:"Ruolo"}),s.jsxs(zt,{onValueChange:S.onChange,defaultValue:S.value,children:[s.jsx(it,{children:s.jsx(It,{children:s.jsx(Ut,{placeholder:"Seleziona un ruolo"})})}),s.jsxs($t,{children:[s.jsx(je,{value:"user",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xr,{className:"h-3 w-3 mr-2"}),"Utente Standard"]})}),s.jsx(je,{value:"admin",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(zi,{className:"h-3 w-3 mr-2"}),"Amministratore"]})})]})]}),s.jsx(kt,{})]})}),s.jsxs("div",{className:"flex space-x-2 pt-4",children:[s.jsx(ae,{type:"button",variant:"outline",onClick:()=>c(!1),className:"flex-1",children:"Annulla"}),s.jsx(ae,{type:"submit",disabled:l,className:"flex-1 bg-cambridge-blue hover:bg-cambridge-blue/90",children:l?"Creazione...":"Crea Utente"})]})]})}))]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Me,{children:s.jsx(Re,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xr,{className:"h-5 w-5 text-cambridge-blue"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:t.length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Utenti Totali"})]})]})})}),s.jsx(Me,{children:s.jsx(Re,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zi,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.role==="admin").length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Amministratori"})]})]})})}),s.jsx(Me,{children:s.jsx(Re,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(li,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.lastLoginAt).length}),s.jsx("p",{className:"text-sm text-gray-600",children:"Utenti Attivi"})]})]})})})]}),s.jsxs(Me,{children:[s.jsx(er,{children:s.jsxs(Hr,{className:"flex items-center",children:[s.jsx(Xr,{className:"h-5 w-5 mr-2"}),"Lista Utenti (",t.length,")"]})}),s.jsx(Re,{children:t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nessun utente trovato"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Inizia creando il primo utente del sistema."})]}):s.jsx("div",{className:"space-y-4",children:t.map(S=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-cambridge-blue/10 rounded-full flex items-center justify-center",children:w(S.role)}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"font-medium",children:S.displayName||S.username}),s.jsx(he,{variant:N(S.role),children:S.role})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ya,{className:"h-3 w-3 mr-1"}),S.email]}),s.jsxs("span",{children:["@",S.username]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ultimo accesso: ",j(S.lastLoginAt)]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",children:[s.jsx(xi,{className:"h-3 w-3 mr-1"}),"Modifica"]}),S.username!==e.username&&s.jsxs(ae,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(Yr,{className:"h-3 w-3 mr-1"}),"Elimina"]})]})]},S.id))})})]})]})}function cA(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,i]=y.useState(null),[o,c]=y.useState({dateFrom:"",dateTo:"",environment:"",status:"",emailStatus:""}),[l,u]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(null),[v,p]=y.useState(1),[g]=y.useState(10);y.useEffect(()=>{b()},[]);const b=()=>G(this,null,function*(){{i("Firebase non configurato"),n(!1);return}}),x=()=>G(this,null,function*(){u(!0),yield b(),setTimeout(()=>u(!1),1e3)}),j=y.useMemo(()=>{if(!e.length)return null;const C=e.length,R=e.filter(K=>K.success===!0).length,I=e.filter(K=>K.hasErrors===!0).length,F=e.filter(K=>K.hasChanges===!0).length,B=e.filter(K=>K.emailSent===!0).length,L=e.reduce((K,ie)=>{var xe;return K+(((xe=ie.stats)==null?void 0:xe.processedItems)||0)},0),z=e.reduce((K,ie)=>{var xe;return K+(((xe=ie.stats)==null?void 0:xe.priceChangedItems)||0)},0),U=e.reduce((K,ie)=>{var xe;return K+(((xe=ie.stats)==null?void 0:xe.deepseekCallsCount)||0)},0),Z=e.reduce((K,ie)=>K+(ie.duration||0),0)/e.length/6e4;return{totalReports:C,successfulReports:R,reportsWithErrors:I,reportsWithChanges:F,emailsSent:B,totalItems:L,totalChanges:z,totalDeepseekCalls:U,avgProcessingTime:Z,successRate:C>0?R/C*100:0,emailDeliveryRate:C>0?B/C*100:0}},[e]),N=y.useMemo(()=>{if(!e.length)return{performanceData:[],errorData:[],systemMetricsData:[]};const C=e.reduce((L,z)=>{var Z,K,ie,xe;const U=z.date||"Unknown";return L[U]||(L[U]={reports:[],errors:0,changes:0,emails:0,deepseekCalls:0,databaseWrites:0,processedItems:0}),L[U].reports.push(z),z.hasErrors&&L[U].errors++,z.hasChanges&&(L[U].changes+=((Z=z.stats)==null?void 0:Z.priceChangedItems)||0),z.emailSent&&L[U].emails++,L[U].deepseekCalls+=((K=z.stats)==null?void 0:K.deepseekCallsCount)||0,L[U].databaseWrites+=((ie=z.stats)==null?void 0:ie.databaseWritesCount)||0,L[U].processedItems+=((xe=z.stats)==null?void 0:xe.processedItems)||0,L},{}),R=Object.entries(C).sort(([L],[z])=>L.localeCompare(z)).slice(-7).map(([L,z])=>({date:L.split("-").slice(1).join("/"),deepseekCalls:z.deepseekCalls,databaseWrites:z.databaseWrites,processedItems:z.processedItems})),I=e.reduce((L,z)=>(z.errors&&z.errors.length>0&&z.errors.forEach(U=>{const Z=U.type||"Unknown";L[Z]=(L[Z]||0)+1}),L),{}),F=Object.entries(I).map(([L,z])=>({name:L,value:z}));return{performanceData:R,errorData:F,systemMetricsData:R}},[e]),w=y.useMemo(()=>{const C=(v-1)*g,R=C+g;return e.slice(C,R)},[e,v,g]),S=Math.ceil(e.length/g),P=()=>{const C=[["Job ID","Timestamp","Durata","Items Totali","Items Processati","Cambiamenti","Status","Email Sent","Ambiente"].join(","),...e.map(B=>{var L,z,U,Z;return[B.jobId||"",((L=B.startTime)==null?void 0:L.toISOString())||"",B.durationFormatted||"",((z=B.stats)==null?void 0:z.totalItems)||0,((U=B.stats)==null?void 0:U.processedItems)||0,((Z=B.stats)==null?void 0:Z.priceChangedItems)||0,B.success?"Successo":"Errore",B.emailSent?"Sì":"No",B.environment||""].join(",")})].join("\n"),R=new Blob([C],{type:"text/csv"}),I=window.URL.createObjectURL(R),F=document.createElement("a");F.href=I,F.download="price_monitoring_reports_".concat(new Date().toISOString().split("T")[0],".csv"),F.click(),window.URL.revokeObjectURL(I)},k=({status:C,hasErrors:R})=>C===!1||R===!0?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",children:[s.jsx(fp,{className:"w-3 h-3"}),"Errore"]}):C===!0?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx(Ju,{className:"w-3 h-3"}),"Successo"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400",children:[s.jsx(Or,{className:"w-3 h-3"}),"In corso"]}),T=({sent:C,error:R})=>C===!0?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[s.jsx(Ya,{className:"w-3 h-3"}),"Inviata"]}):R?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",children:[s.jsx(fp,{className:"w-3 h-3"}),"Fallita"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400",children:[s.jsx(Or,{className:"w-3 h-3"}),"Pending"]}),E=({job:C,onClose:R})=>{var I,F,B,L,z,U,Z,K,ie,xe,ke;return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-card rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-semibold",children:["Dettagli Job: ",C.jobId]}),s.jsx("button",{onClick:R,className:"p-2 hover:bg-muted rounded-lg",children:s.jsx(jo,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Zs,{className:"w-5 h-5"}),"Informazioni Generali"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Job ID:"}),s.jsx("span",{className:"font-mono text-sm",children:C.jobId})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tipo:"}),s.jsx("span",{children:C.jobType})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Inizio:"}),s.jsx("span",{children:(I=C.startTime)==null?void 0:I.toLocaleString("it-IT")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Fine:"}),s.jsx("span",{children:(F=C.endTime)==null?void 0:F.toLocaleString("it-IT")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Durata:"}),s.jsx("span",{children:C.durationFormatted})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Ambiente:"}),s.jsx("span",{children:C.environment})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Versione:"}),s.jsx("span",{children:C.version})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(c5,{className:"w-5 h-5"}),"Statistiche Elaborazione"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Items Totali:"}),s.jsx("span",{className:"font-semibold",children:((B=C.stats)==null?void 0:B.totalItems)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Items Processati:"}),s.jsx("span",{className:"font-semibold",children:((L=C.stats)==null?void 0:L.processedItems)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Items Completati:"}),s.jsx("span",{className:"font-semibold",children:((z=C.stats)==null?void 0:z.completedItems)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Items Invariati:"}),s.jsx("span",{className:"font-semibold",children:((U=C.stats)==null?void 0:U.unchangedItems)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cambi Prezzo:"}),s.jsx("span",{className:"font-semibold text-orange-600",children:((Z=C.stats)==null?void 0:Z.priceChangedItems)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Deepseek Calls:"}),s.jsx("span",{className:"font-semibold text-purple-600",children:((K=C.stats)==null?void 0:K.deepseekCallsCount)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"DB Writes:"}),s.jsx("span",{className:"font-semibold",children:((ie=C.stats)==null?void 0:ie.databaseWritesCount)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Errori:"}),s.jsx("span",{className:"font-semibold text-red-600",children:((xe=C.stats)==null?void 0:xe.errorsCount)||0})]})]})]})]}),C.email&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5"}),"Dettagli Email"]}),s.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx(T,{sent:C.email.sent,error:C.email.error})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Destinatari:"}),s.jsx("span",{children:C.email.recipientCount||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Message ID:"}),s.jsx("span",{className:"font-mono text-xs",children:C.email.messageId||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Cambiamenti Notificati:"}),s.jsx("span",{children:((ke=C.email.changesNotified)==null?void 0:ke.total)||0})]}),C.email.error&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Errore:"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:C.email.error})]})]})]}),C.changes&&C.changes.items&&C.changes.items.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Dn,{className:"w-5 h-5"}),"Items Modificati (",C.changes.count,")"]}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:s.jsx("div",{className:"space-y-2",children:C.changes.items.map((Oe,Fe)=>s.jsxs("div",{className:"bg-muted/30 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:Oe.itemName||"Item ".concat(Fe+1)}),Oe.priceChanged&&s.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded",children:"Prezzo Cambiato"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("div",{children:["ID: ",Oe.itemId]}),s.jsxs("div",{children:["Categoria: ",Oe.category]}),Oe.oldPrice&&Oe.newPrice&&s.jsxs("div",{children:["Prezzo: €",Oe.oldPrice," → €",Oe.newPrice]}),s.jsxs("div",{children:["Timestamp: ",new Date(Oe.timestamp).toLocaleString("it-IT")]})]})]},Fe))})})]}),C.errors&&C.errors.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 text-red-600",children:[s.jsx(tC,{className:"w-5 h-5"}),"Errori (",C.errors.length,")"]}),s.jsx("div",{className:"space-y-2",children:C.errors.map((Oe,Fe)=>s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("span",{className:"font-medium text-red-800 dark:text-red-300",children:Oe.type||"Errore Generico"}),s.jsx("span",{className:"text-xs text-red-600 dark:text-red-400",children:new Date(Oe.timestamp).toLocaleString("it-IT")})]}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:Oe.message}),Oe.itemId&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-500 mt-1",children:["Item: ",Oe.itemName||Oe.itemId]})]},Fe))})]})]})]})})},_=({job:C,onClose:R})=>{var I;return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-card rounded-lg max-w-md w-full",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Xr,{className:"w-5 h-5"}),"Destinatari Email"]}),s.jsx("button",{onClick:R,className:"p-2 hover:bg-muted rounded-lg",children:s.jsx(jo,{className:"w-5 h-5"})})]})}),s.jsx("div",{className:"p-6",children:(I=C.email)!=null&&I.recipients&&C.email.recipients.length>0?s.jsx("div",{className:"space-y-3",children:C.email.recipients.map((F,B)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[s.jsx(Ya,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm",children:F})]},B))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ya,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Nessun destinatario configurato"})]})})]})})},O=({icon:C,title:R,description:I})=>s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(C,{className:"w-12 h-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:R}),s.jsx("p",{className:"text-sm text-muted-foreground",children:I})]});return r?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Caricamento dashboard..."})]})}):a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[s.jsx(fp,{className:"w-16 h-16 text-destructive mx-auto"}),s.jsx("h2",{className:"text-2xl font-semibold",children:"Errore di caricamento"}),s.jsx("p",{className:"text-muted-foreground",children:a}),s.jsx("button",{onClick:b,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Riprova"})]})}):s.jsxs("div",{className:"bg-background",children:[s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-card border rounded-lg p-6 sticky top-0 z-40",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Su,{className:"w-5 h-5"}),"Filtri e Controlli"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>c({dateFrom:"",dateTo:"",environment:"",status:"",emailStatus:""}),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Reset Filtri"}),s.jsxs("button",{onClick:x,disabled:l,className:"flex items-center gap-2 px-3 py-1 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50",children:[s.jsx(JP,{className:"w-4 h-4 ".concat(l?"animate-spin":"")}),s.jsx("span",{className:"text-sm",children:"Aggiorna"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Data Inizio"}),s.jsx("input",{type:"date",value:o.dateFrom,onChange:C=>c(R=>D(A({},R),{dateFrom:C.target.value})),className:"w-full px-3 py-2 border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Data Fine"}),s.jsx("input",{type:"date",value:o.dateTo,onChange:C=>c(R=>D(A({},R),{dateTo:C.target.value})),className:"w-full px-3 py-2 border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Ambiente"}),s.jsxs("select",{value:o.environment,onChange:C=>c(R=>D(A({},R),{environment:C.target.value})),className:"w-full px-3 py-2 border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Tutti"}),s.jsx("option",{value:"production",children:"Production"}),s.jsx("option",{value:"staging",children:"Staging"}),s.jsx("option",{value:"development",children:"Development"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Stato"}),s.jsxs("select",{value:o.status,onChange:C=>c(R=>D(A({},R),{status:C.target.value})),className:"w-full px-3 py-2 border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Tutti"}),s.jsx("option",{value:"success",children:"Solo Successi"}),s.jsx("option",{value:"error",children:"Solo Errori"}),s.jsx("option",{value:"changes",children:"Con Cambiamenti"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Email"}),s.jsxs("select",{value:o.emailStatus,onChange:C=>c(R=>D(A({},R),{emailStatus:C.target.value})),className:"w-full px-3 py-2 border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Tutte"}),s.jsx("option",{value:"sent",children:"Inviate"}),s.jsx("option",{value:"failed",children:"Fallite"}),s.jsx("option",{value:"pending",children:"In Attesa"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-card border rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:s.jsx(Zs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})}),s.jsx("div",{className:"space-y-1",children:j?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-2xl font-bold",children:j.totalReports.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Report Totali"}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"+12.5% dal mese scorso"})]}):s.jsx(O,{icon:Zs,title:"Nessun Report",description:"Non ci sono report disponibili"})})]}),s.jsxs("div",{className:"bg-card border rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:s.jsx(Ju,{className:"w-5 h-5 text-green-600 dark:text-green-400"})})}),s.jsx("div",{className:"space-y-1",children:j?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[j.successRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Tasso Successo"}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"+2.1% dalla scorsa settimana"})]}):s.jsx(O,{icon:Ju,title:"Nessun Dato",description:"Statistiche non disponibili"})})]}),s.jsxs("div",{className:"bg-card border rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center",children:s.jsx(Dn,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})})}),s.jsx("div",{className:"space-y-1",children:j?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-2xl font-bold",children:j.totalChanges.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Cambi Prezzo"}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"+18.3% dalla scorsa settimana"})]}):s.jsx(O,{icon:Dn,title:"Nessun Cambio",description:"Nessun cambio prezzo rilevato"})})]}),s.jsxs("div",{className:"bg-card border rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:s.jsx(Ya,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})}),s.jsx("div",{className:"space-y-1",children:j?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[j.emailDeliveryRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Email Inviate"}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:[j.emailsSent,"/",j.totalReports," consegnate"]})]}):s.jsx(O,{icon:Ya,title:"Nessuna Email",description:"Nessuna email inviata"})})]}),s.jsxs("div",{className:"bg-card border rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:s.jsx(Or,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})}),s.jsx("div",{className:"space-y-1",children:j?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-2xl font-bold",children:[j.avgProcessingTime.toFixed(1),"m"]}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Tempo Medio"}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"-3.2% dalla scorsa settimana"})]}):s.jsx(O,{icon:Or,title:"Nessun Dato",description:"Tempo di elaborazione N/A"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Metriche Sistema"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Database writes, Deepseek calls e items processati"})]}),s.jsx("div",{className:"h-80",children:N.performanceData.length>0?s.jsx(fv,{width:"100%",height:"100%",children:s.jsxs(kge,{data:N.performanceData,children:[s.jsx($b,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(Tc,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--foreground))"}}),s.jsx(Dc,{className:"text-xs",tick:{fill:"hsl(var(--foreground))"}}),s.jsx(ln,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px",color:"hsl(var(--foreground))"}}),s.jsx(es,{}),s.jsx(Oa,{dataKey:"deepseekCalls",fill:"#000000",name:"Deepseek Calls",radius:[2,2,0,0]}),s.jsx(Oa,{dataKey:"databaseWrites",fill:"#f97316",name:"Database Writes",radius:[2,2,0,0]}),s.jsx(Oa,{dataKey:"processedItems",fill:"#eab308",name:"Items Processati",radius:[2,2,0,0]})]})}):s.jsx(O,{icon:Bi,title:"Nessun Dato Sistema",description:"Non ci sono dati sufficienti per mostrare le metriche sistema"})})]}),s.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Distribuzione Errori"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tipologie di errori riscontrati"})]}),s.jsx("div",{className:"h-80",children:N.errorData.length>0?s.jsx(fv,{width:"100%",height:"100%",children:s.jsxs(Tge,{children:[s.jsx(za,{data:N.errorData,cx:"50%",cy:"50%",outerRadius:80,fill:"hsl(var(--primary))",dataKey:"value",label:({name:C,percent:R})=>"".concat(C," ").concat((R*100).toFixed(0),"%"),children:N.errorData.map((C,R)=>s.jsx(Nm,{fill:["#ef4444","#f59e0b","#8b5cf6","#06b6d4","#6b7280"][R%5]},"cell-".concat(R)))}),s.jsx(ln,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}})]})}):s.jsx(O,{icon:Ju,title:"Nessun Errore",description:"Non ci sono errori da mostrare - ottimo lavoro!"})})]})]}),s.jsxs("div",{className:"bg-card border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Report Recenti"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-3 py-1 text-sm border rounded-md hover:bg-muted transition-colors",children:[s.jsx(QF,{className:"w-4 h-4"}),"Export CSV"]}),s.jsxs("button",{onClick:()=>p(1),className:"flex items-center gap-2 px-3 py-1 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[s.jsx(wl,{className:"w-4 h-4"}),"Visualizza Tutti"]})]})]})}),e.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Job ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Timestamp"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Durata"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Processati"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Cambiamenti"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Ambiente"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Azioni"})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:w.map(C=>{var R,I,F,B,L,z,U,Z,K,ie;return s.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"font-mono text-sm text-primary",children:[((R=C.jobId)==null?void 0:R.substring(0,12))||"N/A","..."]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:C.startTime?new Intl.DateTimeFormat("it-IT",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(C.startTime):"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:C.durationFormatted||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{children:[((I=C.stats)==null?void 0:I.processedItems)||0," / ",((F=C.stats)==null?void 0:F.totalItems)||0]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["DS: ",((B=C.stats)==null?void 0:B.deepseekCallsCount)||0," | DB: ",((L=C.stats)==null?void 0:L.databaseWritesCount)||0]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:((z=C.stats)==null?void 0:z.priceChangedItems)||0}),(((U=C.stats)==null?void 0:U.priceChangedItems)||0)>0&&s.jsx(Dn,{className:"w-4 h-4 text-orange-500"})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(k,{status:C.success,hasErrors:C.hasErrors})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(T,{sent:((Z=C.email)==null?void 0:Z.sent)||!1,error:(K=C.email)==null?void 0:K.error}),((ie=C.email)==null?void 0:ie.recipients)&&C.email.recipients.length>0&&s.jsxs("button",{onClick:()=>m(C),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:[C.email.recipients.length," destinatari"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:s.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-medium bg-muted text-muted-foreground",children:C.environment||"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:s.jsx("button",{onClick:()=>f(C),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Dettagli"})})]},C.id)})})]})}),s.jsx("div",{className:"px-6 py-4 border-t bg-muted/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",(v-1)*g+1,"-",Math.min(v*g,e.length)," di ",e.length," report"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(C=>Math.max(1,C-1)),disabled:v===1,className:"px-3 py-1 text-sm border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-muted transition-colors",children:"← Precedente"}),Array.from({length:Math.min(5,S)},(C,R)=>{const I=R+1,F=I===v;return s.jsx("button",{onClick:()=>p(I),className:"px-3 py-1 text-sm rounded-md transition-colors ".concat(F?"bg-primary text-primary-foreground":"border hover:bg-muted"),children:I},I)}),s.jsx("button",{onClick:()=>p(C=>Math.min(S,C+1)),disabled:v===S,className:"px-3 py-1 text-sm border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-muted transition-colors",children:"Successivo →"})]})]})})]}):s.jsx("div",{className:"p-12",children:s.jsx(O,{icon:Bi,title:"Nessun Report Disponibile",description:"Non ci sono report da visualizzare. I report appariranno qui non appena saranno disponibili."})})]})]}),d&&s.jsx(E,{job:d,onClose:()=>f(null)}),h&&s.jsx(_,{job:h,onClose:()=>m(null)})]})}const Yye=()=>s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Nl,{className:"w-5 h-5"}),"Impostazioni Sistema"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Configurazione Monitoraggio"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[s.jsx("span",{className:"text-sm",children:"Frequenza check prezzi"}),s.jsx("span",{className:"text-sm font-medium",children:"Ogni 8 ore"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[s.jsx("span",{className:"text-sm",children:"Timeout richieste"}),s.jsx("span",{className:"text-sm font-medium",children:"30 secondi"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[s.jsx("span",{className:"text-sm",children:"Retry tentativi"}),s.jsx("span",{className:"text-sm font-medium",children:"3 volte"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Notifiche Email"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[s.jsx("span",{className:"text-sm",children:"Email amministratori"}),s.jsx("span",{className:"text-sm font-medium",children:"Attive"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[s.jsx("span",{className:"text-sm",children:"Report giornaliero"}),s.jsx("span",{className:"text-sm font-medium",children:"09:00"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[s.jsx("span",{className:"text-sm",children:"Soglia errori alert"}),s.jsx("span",{className:"text-sm font-medium",children:"10%"})]})]})]})]})]})}),Xye=()=>s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"bg-card border rounded-lg p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Dn,{className:"w-5 h-5"}),"Analytics Avanzate"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Performance Sistema"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Uptime"}),s.jsx("span",{className:"font-medium",children:"99.8%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Memoria utilizata"}),s.jsx("span",{className:"font-medium",children:"67%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"CPU media"}),s.jsx("span",{className:"font-medium",children:"23%"})]})]})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-green-900 dark:text-green-300 mb-2",children:"Efficienza API"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Calls successo"}),s.jsx("span",{className:"font-medium",children:"94.2%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tempo risposta"}),s.jsx("span",{className:"font-medium",children:"1.2s"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Rate limiting"}),s.jsx("span",{className:"font-medium",children:"0.3%"})]})]})]}),s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-purple-900 dark:text-purple-300 mb-2",children:"Database"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Documents"}),s.jsx("span",{className:"font-medium",children:"15.7K"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Storage utilizzato"}),s.jsx("span",{className:"font-medium",children:"2.3 GB"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Backup ultimo"}),s.jsx("span",{className:"font-medium",children:"2h fa"})]})]})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-yellow-900 dark:text-yellow-300 mb-2",children:"Raccomandazioni"}),s.jsxs("ul",{className:"text-sm text-yellow-800 dark:text-yellow-400 space-y-1",children:[s.jsx("li",{children:"• Considera l'ottimizzazione delle query per migliorare i tempi di risposta"}),s.jsx("li",{children:"• Implementa caching per ridurre il carico su Firestore"}),s.jsx("li",{children:"• Monitora l'utilizzo delle API calls per evitare sovraccarichi"})]})]})]})});function Zye(){const{user:e}=Lt(),[t,r]=y.useState("dashboard");if(!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[s.jsx(zi,{className:"w-16 h-16 text-destructive mx-auto"}),s.jsx("h2",{className:"text-2xl font-semibold",children:"Accesso Negato"}),s.jsx("p",{className:"text-muted-foreground",children:"Non hai i privilegi necessari per accedere al pannello amministratore."})]})});const n=[{id:"dashboard",label:"Dashboard",icon:GP,description:"Monitoraggio prezzi e performance sistema",component:cA},{id:"users",label:"Gestione Utenti",icon:Xr,description:"Amministrazione utenti e permessi",component:HM},{id:"system",label:"Impostazioni",icon:Nl,description:"Configurazione sistema e parametri",component:Yye},{id:"analytics",label:"Analytics",icon:Dn,description:"Statistiche avanzate e performance",component:Xye}],a=n.find(o=>o.id===t),i=(a==null?void 0:a.component)||cA;return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"bg-card border-b sticky top-0 z-50",children:s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:s.jsx(zi,{className:"w-5 h-5 text-primary-foreground"})}),"Pannello Amministratore"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(a==null?void 0:a.description)||"Controllo e gestione del sistema"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-md bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-xs font-medium",children:["Admin: ",e.displayName||e.username]})]})})]})})}),s.jsx("nav",{className:"bg-card border-b",children:s.jsx("div",{className:"px-6",children:s.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:n.map(o=>{const c=o.icon,l=t===o.id;return s.jsxs("button",{onClick:()=>r(o.id),className:"\n                    flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap\n                    transition-colors duration-200\n                    ".concat(l?"border-primary text-primary bg-primary/5":"border-transparent text-muted-foreground hover:text-foreground hover:border-muted-foreground/50","\n                  "),children:[s.jsx(c,{className:"w-4 h-4"}),o.label]},o.id)})})})}),s.jsx("main",{className:"flex-1",children:s.jsx("div",{className:"transition-all duration-300 ease-in-out",children:s.jsx(i,{})})}),s.jsx("footer",{className:"bg-card border-t",children:s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Bi,{className:"w-4 h-4"}),"Firestore: Connesso"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zs,{className:"w-4 h-4"}),"Sistema: Operativo"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ya,{className:"w-4 h-4"}),"Email: Configurato"]})]}),s.jsxs("div",{className:"text-xs",children:["Ultimo aggiornamento: ",new Date().toLocaleString("it-IT")]})]})})})]})}var Yb="Progress",Xb=100,[Qye,Sxe]=nn(Yb),[Jye,exe]=Qye(Yb),qM=y.forwardRef((e,t)=>{const d=e,{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=txe}=d,o=W(d,["__scopeProgress","value","max","getValueLabel"]);(a||a===0)&&!lA(a)&&console.error(rxe("".concat(a),"Progress"));const c=lA(a)?a:Xb;n!==null&&!uA(n,c)&&console.error(nxe("".concat(n),"Progress"));const l=uA(n,c)?n:null,u=ph(l)?i(l,c):void 0;return s.jsx(Jye,{scope:r,value:l,max:c,children:s.jsx($e.div,D(A({"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":ph(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":YM(l,c),"data-value":l!=null?l:void 0,"data-max":c},o),{ref:t}))})});qM.displayName=Yb;var KM="ProgressIndicator",GM=y.forwardRef((e,t)=>{var o;const i=e,{__scopeProgress:r}=i,n=W(i,["__scopeProgress"]),a=exe(KM,r);return s.jsx($e.div,D(A({"data-state":YM(a.value,a.max),"data-value":(o=a.value)!=null?o:void 0,"data-max":a.max},n),{ref:t}))});GM.displayName=KM;function txe(e,t){return"".concat(Math.round(e/t*100),"%")}function YM(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ph(e){return typeof e=="number"}function lA(e){return ph(e)&&!isNaN(e)&&e>0}function uA(e,t){return ph(e)&&!isNaN(e)&&e<=t&&e>=0}function rxe(e,t){return"Invalid prop `max` of value `".concat(e,"` supplied to `").concat(t,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(Xb,"`.")}function nxe(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(Xb," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")}var XM=qM,axe=GM;const gy=y.forwardRef((a,n)=>{var i=a,{className:e,value:t}=i,r=W(i,["className","value"]);return s.jsx(XM,D(A({ref:n,className:ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e)},r),{children:s.jsx(axe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})}))});gy.displayName=XM.displayName;class kd{static categorizeProducts(t,r){return G(this,null,function*(){try{this.validateInput(t,r);const n=t.filter(c=>!c.category||c.category==="Altro"||c.category.trim()==="");if(n.length===0)return[];const a=this.createCategorizationPrompt(n,r),i=yield this.callDeepSeekAPI(a);return this.parseCategorizationResponse(i)}catch(n){throw console.error("❌ Errore durante categorizzazione AI:",n),this.createDetailedError(n)}})}static validateInput(t,r){throw!t||t.length===0?new Error("Lista prodotti vuota"):!r||r.length===0?new Error("Lista categorie vuota"):new Error("API key DeepSeek mancante o invalida")}static createCategorizationPrompt(t,r){const n=r.map(i=>"- ".concat(i.name,": ").concat(i.description)).join("\n"),a=t.map((i,o)=>"".concat(o+1,'. "').concat(i.text,'"')).join("\n");return"Sei un esperto di categorizzazione prodotti per supermercati. Il tuo compito è assegnare la categoria più appropriata a ciascun prodotto.\n\nCATEGORIE DISPONIBILI:\n".concat(n,"\n\nPRODOTTI DA CATEGORIZZARE:\n").concat(a,'\n\nISTRUZIONI:\n1. Analizza attentamente ogni prodotto\n2. Assegna la categoria più specifica e appropriata\n3. Se un prodotto non si adatta a nessuna categoria specifica, usa "Altro"\n4. Considera sinonimi, varianti e marchi comuni\n5. Per prodotti ambigui, scegli la categoria più probabile\n\nFORMATO RISPOSTA:\nRispondi SOLO con un array JSON valido, senza commenti o spiegazioni:\n[\n  {"productText": "nome esatto del prodotto", "suggestedCategory": "nome categoria"},\n  {"productText": "altro prodotto", "suggestedCategory": "altra categoria"}\n]\n\nIMPORTANTE: \n- Usa ESATTAMENTE i nomi delle categorie fornite\n- Usa ESATTAMENTE il testo dei prodotti come fornito\n- Non aggiungere commenti o testo extra\n- Il JSON deve essere valido e parsabile')}static callDeepSeekAPI(t){return G(this,null,function*(){var c,l,u;const n={model:this.MODEL,messages:[{role:"user",content:t}],temperature:.1,max_tokens:2e3,stream:!1},a={"Content-Type":"application/json",Authorization:"Bearer undefined","User-Agent":"FamilyTaskTracker-Categorization/1.0"},i=new AbortController,o=setTimeout(()=>i.abort(),this.TIMEOUT);try{const d=yield fetch(this.API_ENDPOINT,{method:"POST",headers:a,body:JSON.stringify(n),signal:i.signal});if(clearTimeout(o),!d.ok){const m=yield d.text();throw new Error("HTTP ".concat(d.status,": ").concat(m))}const h=(u=(l=(c=(yield d.json()).choices)==null?void 0:c[0])==null?void 0:l.message)==null?void 0:u.content;if(!h)throw new Error("Risposta DeepSeek vuota o malformata");return h}catch(d){throw clearTimeout(o),d==="AbortError"?new Error("Timeout: DeepSeek non ha risposto entro 30 secondi"):d}})}static parseCategorizationResponse(t){try{let r=t.trim();r=r.replace(/```json\s*/g,"").replace(/```\s*/g,"");const n=r.match(/\[[\s\S]*\]/);if(!n)throw new Error("Nessun array JSON trovato nella risposta");const a=n[0],i=JSON.parse(a);if(!Array.isArray(i))throw new Error("La risposta non è un array");return i.filter(c=>{const l=c&&typeof c.productText=="string"&&typeof c.suggestedCategory=="string"&&c.productText.trim()!==""&&c.suggestedCategory.trim()!=="";return l||console.warn("⚠️ Elemento invalido ignorato:",c),l})}catch(r){throw console.error("❌ Errore parsing JSON:",r),console.error("📝 Risposta originale:",t.substring(0,500)+"..."),new Error("Errore parsing risposta: ".concat(r))}}static createDetailedError(t){let r="Errore categorizzazione AI";t.message&&(r=t.message),r.includes("401")||r.includes("Unauthorized")?r="API key DeepSeek invalida o scaduta":r.includes("429")||r.includes("rate limit")?r="Limite di rate raggiunto. Riprova tra qualche minuto":r.includes("timeout")||r.includes("network")?r="Errore di connessione. Verifica la tua connessione internet":(r.includes("JSON")||r.includes("parse"))&&(r="DeepSeek ha restituito una risposta malformata. Riprova");const n=new Error(r);return n.name="DeepSeekCategorizationError",t.stack&&(n.stack=t.stack),n}static testConnection(){return G(this,null,function*(){try{const t=[{text:"mela"}],r=[{name:"Ortofrutta",description:"Frutta e verdura"}];return yield this.categorizeProducts(t,r),!0}catch(t){return console.error("❌ Test connessione DeepSeek fallito:",t),!1}})}static getConfig(){return{apiEndpoint:this.API_ENDPOINT,model:this.MODEL,timeout:this.TIMEOUT,hasApiKey:!1,apiKeyValid:!1}}}Un(kd,"API_ENDPOINT","https://api.deepseek.com/chat/completions"),Un(kd,"MODEL","deepseek-chat"),Un(kd,"TIMEOUT",3e4);function ixe({className:e}){const{user:t}=Lt(),{toast:r}=Ir(),n=Mc(),{data:a,loading:i,add:o,update:c,remove:l}=ur("shopping_food"),{data:u,add:d}=ur("food_categories"),{data:f,add:h}=ur("supermarkets"),{data:m}=ur("shopping_food"),{data:v}=ur("shopping_food"),[p,g]=y.useState(null),[b,x]=y.useState(""),[j,N]=y.useState(!1),[w,S]=y.useState(!1),[P,k]=y.useState(!1),[T,E]=y.useState(new Set),[_,O]=y.useState(""),[C,R]=y.useState("all"),[I,F]=y.useState("all"),[B,L]=y.useState(!n),[z,U]=y.useState(!1),[Z,K]=y.useState(!1),[ie,xe]=y.useState(!1),[ke,Oe]=y.useState(!1),[Fe,ue]=y.useState(!1),[ee,Y]=y.useState({title:"",supermarketId:"none",isPublic:!1}),[Q,H]=y.useState({name:"",description:"",color:"#81B29A",icon:"📦"}),[re,se]=y.useState({name:"",address:"",color:"#E07A5F"}),Ae=(a==null?void 0:a.filter(X=>{if(!X)return!1;const de=X.title.toLowerCase().includes(_.toLowerCase())||(X.items||[]).some(xt=>xt.text.toLowerCase().includes(_.toLowerCase())),Pe=C==="all"||(X.items||[]).some(xt=>xt.category===C),Ce=I==="all"||X.supermarketId===I;return de&&Pe&&Ce}))||[],Be={total:Ae.length,completed:Ae.filter(X=>X.areAllItemsCompleted()).length},lt=(X,de)=>G(this,null,function*(){if(p)try{p.updateItemCategory(X,de),yield c(p.id,p),r({title:"Categoria aggiornata",description:"Categoria modificata con successo"})}catch(Pe){console.error("Errore cambio categoria:",Pe),r({title:"Errore",description:"Impossibile aggiornare la categoria",variant:"destructive"})}}),ve=X=>G(this,null,function*(){if(!(X.key!=="Enter"||!b.trim()||!p))try{p.addItem(b.trim()),yield c(p.id,p),x(""),r({title:"Prodotto aggiunto",description:'"'.concat(b.trim(),'" aggiunto alla lista')})}catch(de){console.error("Errore aggiunta item:",de),r({title:"Errore",description:"Impossibile aggiungere il prodotto",variant:"destructive"})}}),ze=X=>G(this,null,function*(){if(!(!p||!t))try{p.toggleItemCompleted(X,t.username),yield c(p.id,p)}catch(de){console.error("Errore toggle item:",de),r({title:"Errore",description:"Impossibile aggiornare l'elemento",variant:"destructive"})}}),$=X=>G(this,null,function*(){if(p)try{p.removeItem(X),yield c(p.id,p)}catch(de){console.error("Errore rimozione item:",de),r({title:"Errore",description:"Impossibile rimuovere l'elemento",variant:"destructive"})}}),V=X=>G(this,null,function*(){if(!t||!u||u.length===0)return;const de=X.items.filter(Pe=>!Pe.category||Pe.category==="Altro"||Pe.category.trim()==="");if(de.length===0){r({title:"Categorizzazione",description:"Tutti i prodotti hanno già una categoria"});return}k(!0);try{let Pe=0;const Ce=[];if(m&&m.length>0?de.forEach(hr=>{let zn=!1;m.forEach(Hu=>{zn||Hu.items.forEach(Oi=>{zn||Oi.text.toLowerCase().trim()===hr.text.toLowerCase().trim()&&Oi.category&&Oi.category!=="Altro"&&Oi.category.trim()!==""&&(hr.category=Oi.category,hr.assignedAutomatically=!0,zn=!0,Pe++)})}),zn||Ce.push(hr)}):Ce.push(...de),Pe>0&&(X.updatedAt=new Date,yield c(X.id,X),r({title:"📚 ".concat(Pe," prodotti categorizzati"),description:"Categorie trovate da prodotti esistenti"})),Ce.length===0)return;const xt=Ce.map(hr=>({text:hr.text,category:hr.category})),tt=u.map(hr=>({name:hr.name,description:hr.description||""})),At=yield kd.categorizeProducts(xt,tt);let _t=0;At.forEach(hr=>{const zn=Ce.find(Hu=>Hu.text.toLowerCase().trim()===hr.productText.toLowerCase().trim());zn?u.find(Oi=>Oi.name===hr.suggestedCategory)?(zn.category=hr.suggestedCategory,zn.assignedAutomatically=!0,_t++):(console.warn('⚠️ Categoria "'.concat(hr.suggestedCategory,'" non trovata per "').concat(hr.productText,'"')),zn.category="Altro",zn.assignedAutomatically=!0):console.warn('⚠️ Prodotto "'.concat(hr.productText,'" non trovato nella lista rimanente'))}),_t>0&&(X.updatedAt=new Date,yield c(X.id,X));const Ic=Pe+_t;Ic>0?r({title:"🤖 Categorizzazione Completata",description:"".concat(Ic," prodotti categorizzati (").concat(Pe," da database, ").concat(_t," da AI)")}):r({title:"Categorizzazione",description:"Nessun prodotto necessitava di categorizzazione"})}catch(Pe){console.error("❌ Errore durante categorizzazione:",Pe);let Ce="Errore durante la categorizzazione automatica";Pe instanceof Error?Pe.name==="DeepSeekCategorizationError"?Ce=Pe.message:Pe.message.includes("network")||Pe.message.includes("fetch")?Ce="Errore di connessione. Verifica la tua connessione internet":Pe.message.includes("API key")?Ce="Configurazione AI non valida":Pe.message.includes("rate limit")&&(Ce="Troppe richieste. Riprova tra qualche minuto"):typeof Pe=="string"&&(Ce=Pe),r({title:"Errore Categorizzazione",description:Ce,variant:"destructive"})}finally{k(!1)}}),q=()=>G(this,null,function*(){if(t){S(!0);try{const X=ee.title.trim()||"Spesa del ".concat(new Date().toLocaleDateString("it-IT")),de=new of("shopping_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),X,[],t.username,new Date,ee.supermarketId==="none"?void 0:ee.supermarketId,ee.isPublic,!1,void 0,void 0,void 0,void 0,[],new Date,!1),Pe=yield o(de),Ce=()=>a==null?void 0:a.find(_t=>_t.id===Pe);let xt=0;const tt=10,At=()=>G(this,null,function*(){const _t=Ce();_t?(g(_t),N(!0),S(!1)):xt<tt?(xt++,setTimeout(At,100)):(de.id=Pe,g(de),N(!0),n&&Oe(!0),S(!1))});At(),U(!1),Y({title:"",supermarketId:"none",isPublic:!1}),r({title:"Lista creata",description:'"'.concat(X,'" creata con successo')})}catch(X){S(!1),r({title:"Errore",description:"Impossibile creare la lista",variant:"destructive"})}}}),ye=()=>G(this,null,function*(){j&&p&&p.items.filter(de=>!de.category||de.category==="Altro"||de.category.trim()==="").length>0&&u&&u.length>0&&(yield V(p)),N(!j)}),fe=X=>G(this,null,function*(){const de=v==null?void 0:v.find(Pe=>Pe.id===X);if(de)try{de.isDeleted=!1,de.updatedAt=new Date,yield c(X,de),r({title:"Lista ripristinata",description:'"'.concat(de.title,'" ripristinata dal cestino')})}catch(Pe){r({title:"Errore",description:"Impossibile ripristinare la lista",variant:"destructive"})}}),le=X=>G(this,null,function*(){const de=v==null?void 0:v.find(Pe=>Pe.id===X);if(!(!de||!window.confirm('Eliminare definitivamente "'.concat(de.title,'"? Questa azione non può essere annullata.'))))try{yield l(X),r({title:"Lista eliminata definitivamente",description:'"'.concat(de.title,'" eliminata per sempre')})}catch(Pe){r({title:"Errore",description:"Impossibile eliminare la lista definitivamente",variant:"destructive"})}}),_e=X=>G(this,null,function*(){const de=a==null?void 0:a.find(Pe=>Pe.id===X);if(!(!de||!window.confirm('Eliminare "'.concat(de.title,'"?'))))try{de.isDeleted=!0,de.updatedAt=new Date,yield c(X,de),(p==null?void 0:p.id)===X&&(g(null),N(!1),x(""),Oe(!1)),r({title:"Lista eliminata",description:'"'.concat(de.title,'" spostata nel cestino')})}catch(Pe){r({title:"Errore",description:"Impossibile eliminare la lista",variant:"destructive"})}}),Ke=()=>G(this,null,function*(){if(!(!t||!Q.name.trim()))try{const X=new af("cat_".concat(Q.name.toLowerCase().replace(/\s+/g,"_"),"_").concat(Date.now()),Q.name.trim(),t.username,new Date,Q.description.trim()||void 0,Q.color,Q.icon,((u==null?void 0:u.length)||0)+1,new Date);yield d(X),H({name:"",description:"",color:"#81B29A",icon:"📦"}),K(!1),r({title:"Categoria creata",description:'"'.concat(Q.name,'" creata con successo')})}catch(X){r({title:"Errore",description:"Impossibile creare la categoria",variant:"destructive"})}}),Ge=()=>G(this,null,function*(){if(!(!t||!re.name.trim()))try{const X=new sf("market_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),re.name.trim(),t.username,new Date,re.address.trim()||void 0,void 0,void 0,void 0,void 0,re.color,!0,new Date);yield h(X),se({name:"",address:"",color:"#E07A5F"}),xe(!1),r({title:"Supermercato creato",description:'"'.concat(re.name,'" creato con successo')})}catch(X){r({title:"Errore",description:"Impossibile creare il supermercato",variant:"destructive"})}}),yt=()=>p?p.getCompletionStats():{completed:0,total:0,percentage:0};return i?s.jsx("div",{className:"container mx-auto p-6 max-w-7xl",children:s.jsxs("div",{className:"flex justify-center items-center py-20",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cambridge-blue"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Caricamento Spesa..."})]})}):s.jsxs("div",{className:ne("container mx-auto p-6 max-w-7xl",e),children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(TE,{className:"h-8 w-8 text-cambridge-blue"}),s.jsx("h1",{className:"text-3xl font-bold text-delft-blue",children:"Spesa"})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs(he,{variant:"outline",className:"text-cambridge-blue border-cambridge-blue",children:[Be.total," ",Be.total===1?"lista":"liste"]}),Be.completed>0&&s.jsxs(he,{variant:"outline",className:"text-green-600 border-green-200",children:[Be.completed," completate"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ae,{onClick:()=>U(!0),className:"bg-cambridge-blue hover:bg-cambridge-blue/90 text-white",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),n?"":"Nuova Lista"]}),s.jsxs(Lg,{children:[s.jsx(Fg,{asChild:!0,children:s.jsx(ae,{variant:"outline",children:s.jsx(JF,{className:"h-4 w-4"})})}),s.jsxs(tf,{align:"end",children:[s.jsxs(Lr,{onClick:()=>K(!0),children:[s.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Gestisci Categorie"]}),s.jsxs(Lr,{onClick:()=>xe(!0),children:[s.jsx(ed,{className:"h-4 w-4 mr-2"}),"Gestisci Supermercati"]}),s.jsxs(Lr,{onClick:()=>ue(!0),children:[s.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Cestino (",(v==null?void 0:v.length)||0,")"]})]})]})]})]}),s.jsx(Me,{className:"mb-6",children:s.jsxs(Re,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Su,{className:"h-4 w-4 text-cambridge-blue"}),s.jsx("span",{className:"font-medium text-delft-blue",children:"Filtri"})]}),s.jsx(ae,{variant:"ghost",onClick:()=>L(!B),size:"sm",children:B?s.jsx(wo,{className:"h-4 w-4"}):s.jsx(yi,{className:"h-4 w-4"})})]}),B&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ih,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(st,{placeholder:"Cerca nelle liste...",value:_,onChange:X=>O(X.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(zt,{value:C,onValueChange:R,children:[s.jsxs(It,{children:[s.jsx(Sl,{className:"h-4 w-4 mr-2"}),s.jsx(Ut,{placeholder:"Categoria"})]}),s.jsxs($t,{children:[s.jsx(je,{value:"all",children:"Tutte le categorie"}),u==null?void 0:u.map(X=>s.jsx(je,{value:X.name,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:X.icon}),X.name]})},X.id))]})]}),s.jsxs(zt,{value:I,onValueChange:F,children:[s.jsxs(It,{children:[s.jsx(ed,{className:"h-4 w-4 mr-2"}),s.jsx(Ut,{placeholder:"Supermercato"})]}),s.jsxs($t,{children:[s.jsx(je,{value:"all",children:"Tutti i supermercati"}),f==null?void 0:f.map(X=>s.jsx(je,{value:X.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:X.color}}),X.name]})},X.id))]})]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-delft-blue",children:["Le tue liste (",Ae.length,")"]}),Ae.length===0?s.jsx(Me,{children:s.jsxs(Re,{className:"p-8 text-center",children:[s.jsx(Us,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Nessuna lista della spesa trovata"})]})}):s.jsx("div",{className:"space-y-3",children:Ae.map(X=>{const de=f==null?void 0:f.find(Ce=>Ce.id===X.supermarketId),Pe=X.getCompletionStats();return s.jsx(Me,{className:ne("cursor-pointer transition-all hover:shadow-md",(p==null?void 0:p.id)===X.id?"ring-2 ring-burnt-sienna border-burnt-sienna":""),onClick:()=>{g(X),N(!1),x(""),n&&Oe(!0)},children:s.jsxs(Re,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"font-medium text-delft-blue truncate flex-1",children:X.title}),s.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[X.isPublic?s.jsx(gn,{className:"h-3 w-3 text-muted-foreground"}):s.jsx(vn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:Ce=>{Ce.stopPropagation(),_e(X.id)},className:"h-6 w-6 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",children:s.jsx(Yr,{className:"h-3 w-3"})})]})]}),de&&s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ed,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:de.name})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[Pe.completed,"/",Pe.total," completati"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:hs(X.createdAt,{addSuffix:!0,locale:Gt})})]})]})},X.id)})})]}),!n&&s.jsx("div",{className:"lg:col-span-2",children:p?s.jsxs(Me,{children:[s.jsx(er,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Hr,{className:"text-xl text-delft-blue",children:p.title}),s.jsxs(ae,{variant:j?"default":"outline",size:"sm",onClick:ye,className:j?"bg-burnt-sienna hover:bg-burnt-sienna/90":"",children:[j?s.jsx(Rt,{className:"h-4 w-4"}):s.jsx(xi,{className:"h-4 w-4"}),j?"Salva":"Modifica"]})]})}),s.jsxs(Re,{className:"space-y-6",children:[j&&s.jsxs("div",{children:[s.jsx(Ot,{htmlFor:"new-item",children:"Aggiungi prodotto (premi Enter)"}),s.jsx(st,{id:"new-item",placeholder:"Scrivi qui un prodotto...",value:b,onChange:X=>x(X.target.value),onKeyDown:ve})]}),p.items.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Us,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:j?"Inizia a scrivere i prodotti!":"Questa lista è vuota."})]}):j?s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:p.sortItemsByDate().map(X=>s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-white",children:[s.jsx(Fs,{className:"h-5 w-5 text-gray-300"}),s.jsx("span",{className:"flex-1",children:X.text}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>$(X.id),className:"text-red-500 hover:text-red-700",children:s.jsx(Yr,{className:"h-4 w-4"})})]},X.id))}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Progresso spesa"}),s.jsxs("span",{className:"text-muted-foreground",children:[yt().completed,"/",yt().total]})]}),s.jsx(gy,{value:yt().percentage,className:"h-3"})]}),s.jsx("div",{className:"space-y-6 max-h-96 overflow-y-auto",children:(()=>{const X=(u||[]).sort((Ce,xt)=>Ce.order-xt.order),de=p.getItemsByCategory(),Pe=[];X.forEach(Ce=>{de.has(Ce.name)&&Pe.push([Ce.name,de.get(Ce.name)])});for(const[Ce,xt]of de.entries())X.find(tt=>tt.name===Ce)||Pe.push([Ce,xt]);return Pe.map(([Ce,xt],tt)=>s.jsxs("div",{children:[tt>0&&s.jsx("hr",{className:"border-gray-200 my-4"}),s.jsx("div",{className:"space-y-2",children:xt.map(At=>s.jsxs("div",{className:ne("flex items-center gap-3 p-3 rounded-lg border transition-colors",At.completed?"bg-green-50 border-green-200 text-green-700":"bg-white hover:bg-gray-50"),children:[s.jsx("button",{onClick:()=>ze(At.id),className:"flex-shrink-0",children:At.completed?s.jsx(dp,{className:"h-5 w-5 text-green-600"}):s.jsx(Fs,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})}),s.jsx("span",{className:ne("flex-1",At.completed&&"line-through"),children:At.text}),s.jsxs(zt,{value:At.category||"Altro",onValueChange:_t=>lt(At.id,_t),children:[s.jsx(It,{className:"w-32 h-8 text-xs",children:s.jsx(Ut,{})}),s.jsxs($t,{children:[u==null?void 0:u.map(_t=>s.jsx(je,{value:_t.name,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs",children:_t.icon}),s.jsx("span",{className:"text-xs",children:_t.name})]})},_t.id)),s.jsx(je,{value:"Altro",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs",children:"📋"}),s.jsx("span",{className:"text-xs",children:"Altro"})]})})]})]})]},At.id))})]},Ce))})()})]})]})]}):s.jsx(Me,{children:s.jsxs(Re,{className:"p-12 text-center",children:[s.jsx(Us,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-delft-blue mb-2",children:"Seleziona una lista della spesa"}),s.jsx("p",{className:"text-muted-foreground",children:"Scegli una lista dalla colonna di sinistra per visualizzarla e modificarla"})]})})})]}),n&&s.jsx(cr,{open:ke,onOpenChange:Oe,children:s.jsxs(tr,{className:"sm:max-w-full h-[90vh] p-0 flex flex-col",children:[s.jsx(rr,{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(nr,{children:p==null?void 0:p.title}),s.jsx(ae,{variant:j?"default":"outline",size:"sm",onClick:ye,children:j?s.jsx(Rt,{className:"h-4 w-4"}):s.jsx(xi,{className:"h-4 w-4"})})]})}),p&&s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[j&&s.jsx("div",{className:"p-4 border-b bg-gray-50",children:s.jsx(st,{placeholder:"Aggiungi prodotto (Enter)",value:b,onChange:X=>x(X.target.value),onKeyDown:ve})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:p.items.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Us,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:j?"Inizia a scrivere!":"Lista vuota"})]}):j?s.jsx("div",{className:"space-y-2",children:p.sortItemsByDate().map(X=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border",children:[s.jsx(Fs,{className:"h-4 w-4 text-gray-300"}),s.jsx("span",{className:"flex-1 text-sm",children:X.text}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>$(X.id),className:"p-1 h-6 w-6 text-red-500",children:s.jsx(Yr,{className:"h-3 w-3"})})]},X.id))}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"font-medium",children:"Progresso"}),s.jsxs("span",{className:"text-muted-foreground",children:[yt().completed,"/",yt().total]})]}),s.jsx(gy,{value:yt().percentage,className:"h-2"})]}),(()=>{const X=(u||[]).sort((Ce,xt)=>Ce.order-xt.order),de=p.getItemsByCategory(),Pe=[];X.forEach(Ce=>{de.has(Ce.name)&&Pe.push([Ce.name,de.get(Ce.name)])});for(const[Ce,xt]of de.entries())X.find(tt=>tt.name===Ce)||Pe.push([Ce,xt]);return Pe.map(([Ce,xt],tt)=>s.jsxs("div",{children:[tt>0&&s.jsx("hr",{className:"border-gray-200 my-3"}),xt.map(At=>s.jsxs("div",{className:ne("flex flex-col gap-2 p-3 rounded-lg border text-sm mb-2",At.completed?"bg-green-50 border-green-200 text-green-700":"bg-white"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>ze(At.id),className:"flex-shrink-0",children:At.completed?s.jsx(dp,{className:"h-4 w-4 text-green-600"}):s.jsx(Fs,{className:"h-4 w-4 text-gray-400"})}),s.jsx("span",{className:ne("flex-1",At.completed&&"line-through"),children:At.text})]}),s.jsxs(zt,{value:At.category||"Altro",onValueChange:_t=>lt(At.id,_t),children:[s.jsx(It,{className:"w-full h-8 text-xs",children:s.jsx(Ut,{})}),s.jsxs($t,{children:[u==null?void 0:u.map(_t=>s.jsx(je,{value:_t.name,children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs",children:_t.icon}),s.jsx("span",{className:"text-xs",children:_t.name})]})},_t.id)),s.jsx(je,{value:"Altro",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs",children:"📋"}),s.jsx("span",{className:"text-xs",children:"Altro"})]})})]})]})]},At.id))]},Ce))})()]})}),s.jsx("div",{className:"p-4 border-t",children:s.jsx(ae,{variant:"secondary",onClick:()=>Oe(!1),className:"w-full",children:"Chiudi"})})]})]})}),s.jsx(cr,{open:z,onOpenChange:U,children:s.jsxs(tr,{className:"sm:max-w-md",children:[s.jsxs(rr,{children:[s.jsx(nr,{children:"Crea Nuova Lista"}),s.jsx(Tl,{children:"Crea una nuova lista della spesa personalizzata."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ot,{children:"Titolo (opzionale)"}),s.jsx(st,{placeholder:"Spesa del ".concat(new Date().toLocaleDateString("it-IT")),value:ee.title,onChange:X=>Y(de=>D(A({},de),{title:X.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Ot,{children:"Supermercato (opzionale)"}),s.jsxs(zt,{value:ee.supermarketId,onValueChange:X=>Y(de=>D(A({},de),{supermarketId:X})),children:[s.jsx(It,{children:s.jsx(Ut,{placeholder:"Seleziona supermercato"})}),s.jsxs($t,{children:[s.jsx(je,{value:"none",children:"Nessun supermercato"}),f==null?void 0:f.map(X=>s.jsx(je,{value:X.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:X.color}}),X.name]})},X.id))]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Nr,{checked:ee.isPublic,onCheckedChange:X=>Y(de=>D(A({},de),{isPublic:X}))}),s.jsxs(Ot,{className:"flex items-center gap-2",children:[ee.isPublic?s.jsx(gn,{className:"h-4 w-4"}):s.jsx(vn,{className:"h-4 w-4"}),ee.isPublic?"Lista pubblica":"Lista privata"]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(ae,{onClick:q,className:"flex-1 bg-burnt-sienna hover:bg-burnt-sienna/90",children:"Crea Lista"}),s.jsx(ae,{variant:"outline",onClick:()=>U(!1),className:"flex-1",children:"Annulla"})]})]})]})}),s.jsx(cr,{open:Z,onOpenChange:K,children:s.jsxs(tr,{className:"sm:max-w-md",children:[s.jsx(rr,{children:s.jsx(nr,{children:"Crea Nuova Categoria"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ot,{children:"Nome categoria *"}),s.jsx(st,{placeholder:"Nome categoria",value:Q.name,onChange:X=>H(de=>D(A({},de),{name:X.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Ot,{children:"Icona"}),s.jsx("div",{className:"flex gap-2 flex-wrap mt-2",children:["📦","🛒","🍽️","🥘","☕","🧾"].map(X=>s.jsx("button",{className:ne("p-2 border rounded-md hover:bg-gray-50",Q.icon===X?"border-burnt-sienna bg-burnt-sienna/10":""),onClick:()=>H(de=>D(A({},de),{icon:X})),children:X},X))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(ae,{onClick:Ke,disabled:!Q.name.trim(),className:"flex-1 bg-burnt-sienna hover:bg-burnt-sienna/90",children:"Crea Categoria"}),s.jsx(ae,{variant:"outline",onClick:()=>K(!1),className:"flex-1",children:"Annulla"})]})]})]})}),s.jsx(cr,{open:ie,onOpenChange:xe,children:s.jsxs(tr,{className:"sm:max-w-md",children:[s.jsx(rr,{children:s.jsx(nr,{children:"Crea Nuovo Supermercato"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ot,{children:"Nome supermercato *"}),s.jsx(st,{placeholder:"Nome supermercato",value:re.name,onChange:X=>se(de=>D(A({},de),{name:X.target.value}))})]}),s.jsxs("div",{children:[s.jsx(Ot,{children:"Indirizzo"}),s.jsx(st,{placeholder:"Indirizzo (opzionale)",value:re.address,onChange:X=>se(de=>D(A({},de),{address:X.target.value}))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(ae,{onClick:Ge,disabled:!re.name.trim(),className:"flex-1 bg-burnt-sienna hover:bg-burnt-sienna/90",children:"Crea Supermercato"}),s.jsx(ae,{variant:"outline",onClick:()=>xe(!1),className:"flex-1",children:"Annulla"})]})]})]})}),s.jsx(cr,{open:w,onOpenChange:()=>{},children:s.jsxs(tr,{className:"sm:max-w-md",onPointerDownOutside:X=>X.preventDefault(),onEscapeKeyDown:X=>X.preventDefault(),children:[s.jsx(rr,{children:s.jsx(nr,{className:"text-center",children:"Creazione Lista in Corso"})}),s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cambridge-blue mb-4"}),s.jsx("p",{className:"text-muted-foreground text-center",children:"Sto sincronizzando la nuova lista..."}),s.jsx("p",{className:"text-sm text-muted-foreground text-center mt-2",children:"Questo richiederà solo qualche secondo"})]})]})}),s.jsx(cr,{open:P,onOpenChange:()=>{},children:s.jsxs(tr,{children:[s.jsx(rr,{children:s.jsx(nr,{children:"🤖 Categorizzazione AI in Corso"})}),s.jsxs("div",{className:"flex flex-col items-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mb-4"}),s.jsx("p",{children:"DeepSeek sta analizzando i prodotti..."})]})]})}),s.jsx(cr,{open:Fe,onOpenChange:ue,children:s.jsxs(tr,{className:"sm:max-w-2xl w-[95vw] h-[85vh] flex flex-col p-0",children:[s.jsxs(rr,{className:"p-4 border-b bg-white",children:[s.jsxs(nr,{className:"flex items-center gap-2",children:[s.jsx(Yr,{className:"h-5 w-5 text-red-500"}),"Cestino (",(v==null?void 0:v.length)||0," liste)"]}),s.jsx(Tl,{className:"text-sm",children:"Le liste eliminate possono essere ripristinate o eliminate definitivamente."})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:!v||v.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yr,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-delft-blue mb-2",children:"Cestino vuoto"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Non ci sono liste eliminate"})]}):v.map(X=>{const de=f==null?void 0:f.find(tt=>tt.id===X.supermarketId),Pe=X.getCompletionStats(),Ce=T.has(X.id),xt=()=>{const tt=new Set(T);Ce?tt.delete(X.id):tt.add(X.id),E(tt)};return s.jsx(Me,{className:"border-red-200",children:s.jsxs(Re,{className:"p-3",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-delft-blue text-sm truncate",children:X.title}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>xt(),className:"h-6 w-6 p-0 flex-shrink-0",children:Ce?s.jsx(wo,{className:"h-3 w-3"}):s.jsx(yi,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("span",{children:[Pe.total," prodotti"]}),de&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ed,{className:"h-2 w-2"}),de.name]}),s.jsx("span",{children:hs(X.updatedAt||X.createdAt,{addSuffix:!0,locale:Gt})})]})]})}),!Ce&&X.items.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mb-1",children:[X.items.slice(0,4).map(tt=>s.jsxs(he,{variant:"secondary",className:ne("text-xs py-0 px-1",tt.completed?"bg-green-100 text-green-700":""),children:[tt.completed&&s.jsx(Rt,{className:"h-2 w-2 mr-1"}),tt.text]},tt.id)),X.items.length>4&&s.jsxs(he,{variant:"outline",className:"text-xs py-0 px-1",children:["+",X.items.length-4]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[Pe.completed,"/",Pe.total," completati (",Pe.percentage,"%)"]})]}),Ce&&X.items.length>0&&s.jsxs("div",{className:"mb-3 border-t pt-2",children:[s.jsxs("div",{className:"text-xs font-medium text-delft-blue mb-2",children:["Tutti i prodotti (",X.items.length,"):"]}),s.jsx("div",{className:"grid grid-cols-1 gap-1 max-h-32 overflow-y-auto",children:X.items.map(tt=>s.jsxs("div",{className:ne("flex items-center gap-2 p-1 rounded text-xs",tt.completed?"bg-green-50 text-green-700":"bg-gray-50"),children:[tt.completed?s.jsx(dp,{className:"h-3 w-3 text-green-600 flex-shrink-0"}):s.jsx(Fs,{className:"h-3 w-3 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:ne("flex-1 truncate",tt.completed&&"line-through"),children:tt.text}),tt.category&&tt.category!=="Altro"&&s.jsx(he,{variant:"outline",className:"text-xs py-0 px-1",children:tt.category})]},tt.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>fe(X.id),className:"flex-1 text-green-600 hover:text-green-700 hover:bg-green-50 text-xs",children:[s.jsx(Rt,{className:"h-3 w-3 mr-1"}),"Ripristina"]}),s.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>le(X.id),className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50 text-xs",children:[s.jsx(jo,{className:"h-3 w-3 mr-1"}),"Elimina"]})]})]})},X.id)})}),s.jsx("div",{className:"border-t p-4 bg-white",children:s.jsx(ae,{variant:"secondary",onClick:()=>ue(!1),className:"w-full",children:"Chiudi"})})]})})]})}function sxe(){const{user:e}=Lt();return s.jsx(ZU,{children:s.jsxs(e_,{children:[s.jsx(ya,{path:"/shopping",component:lve}),s.jsx(ya,{path:"/notes",component:hve}),s.jsx(ya,{path:"/calendar",component:Kye}),s.jsx(ya,{path:"/shoppingfood",children:()=>s.jsx(ixe,{})}),(e==null?void 0:e.role)==="admin"&&s.jsx(ya,{path:"/admin/users",component:HM}),(e==null?void 0:e.role)==="admin"&&s.jsx(ya,{path:"/admin/panel",component:Zye}),s.jsx(ya,{path:"/",children:s.jsx(YI,{to:"/shopping"})})]})})}function oxe(){var v;const{user:e}=Lt(),{theme:t,toggleTheme:r}=JC(),{preferences:n,updatePreference:a,updatePreferences:i,resetPreferences:o,isLoading:c}=MM(),[l,u]=y.useState(!1),{toast:d}=Ir(),f=(p,g)=>{a(p,g),u(!1),d({title:"Aggiornamento",description:'Preferenza "'.concat(p,'" aggiornata')})},h=()=>{confirm("Sei sicuro di voler resettare tutte le preferenze ai valori default?")&&(o(),u(!1),d({title:"Reset",description:"Preferenze resettate ai valori default"}))},m=()=>{const p=JSON.stringify(n,null,2),g=new Blob([p],{type:"application/json"}),b=URL.createObjectURL(g),x=document.createElement("a");x.href=b,x.download="familytask-preferences-".concat(e==null?void 0:e.username,"-").concat(new Date().toISOString().split("T")[0],".json"),x.click(),URL.revokeObjectURL(b),d({title:"Esportazione",description:"Preferenze esportate"})};return c?s.jsx("div",{className:"flex items-center justify-center min-h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cambridge-blue mx-auto mb-4"}),s.jsx("p",{className:"text-delft-blue dark:text-eggshell",children:"Caricamento impostazioni..."})]})}):s.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-delft-blue dark:text-eggshell flex items-center gap-3",children:[s.jsx(Nl,{className:"h-8 w-8"}),"Impostazioni Utente"]}),s.jsx("p",{className:"text-delft-blue/70 dark:text-eggshell/70 mt-1",children:"Personalizza la tua esperienza FamilyTaskTracker"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(he,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:[s.jsx(Aa,{className:"h-3 w-3 mr-1"}),e==null?void 0:e.username," (",e==null?void 0:e.role,")"]}),s.jsxs(he,{variant:"secondary",className:"bg-green-100 text-green-700",children:[s.jsx(Bi,{className:"h-3 w-3 mr-1"}),"Salvate in Sessione"]})]})]}),s.jsxs(Me,{children:[s.jsx(er,{children:s.jsxs(Hr,{className:"flex items-center gap-2",children:[s.jsx(Xd,{className:"h-5 w-5"}),"Preferenze di Visualizzazione"]})}),s.jsxs(Re,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ot,{className:"text-base font-medium",children:"Modalità Vista Shopping List"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-eggshell/50 dark:bg-delft-blue/20",children:[s.jsx(i5,{className:"h-4 w-4 ".concat(n.viewMode==="compact"?"text-cambridge-blue":"text-gray-400")}),s.jsx(Nr,{checked:n.viewMode==="images",onCheckedChange:p=>f("viewMode",p?"images":"compact"),className:"data-[state=checked]:bg-cambridge-blue"}),s.jsx(Xd,{className:"h-4 w-4 ".concat(n.viewMode==="images"?"text-cambridge-blue":"text-gray-400")}),s.jsx("span",{className:"font-medium",children:n.viewMode==="images"?"Vista Immagini":"Vista Compatta"})]}),s.jsx(he,{variant:"outline",className:"bg-yellow-100 text-yellow-700",children:"💾 Salvato automaticamente"})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"La modalità vista determina come vengono mostrati gli articoli nella shopping list."})]}),s.jsx(mu,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ot,{className:"text-base font-medium",children:"Articoli per Pagina"}),s.jsxs(zt,{value:n.itemsPerPage.toString(),onValueChange:p=>f("itemsPerPage",parseInt(p)),children:[s.jsx(It,{className:"w-48",children:s.jsx(Ut,{})}),s.jsxs($t,{children:[s.jsx(je,{value:"10",children:"10 articoli"}),s.jsx(je,{value:"20",children:"20 articoli"}),s.jsx(je,{value:"30",children:"30 articoli"}),s.jsx(je,{value:"50",children:"50 articoli"}),s.jsx(je,{value:"100",children:"100 articoli"})]})]})]}),s.jsx(mu,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ot,{className:"text-base font-medium",children:"Tema Applicazione"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-eggshell/50 dark:bg-delft-blue/20",children:[s.jsx(Cg,{className:"h-4 w-4 ".concat(t==="light"?"text-cambridge-blue":"text-gray-400")}),s.jsx(Nr,{checked:t==="dark",onCheckedChange:r,className:"data-[state=checked]:bg-cambridge-blue"}),s.jsx(_g,{className:"h-4 w-4 ".concat(t==="dark"?"text-cambridge-blue":"text-gray-400")}),s.jsx("span",{className:"font-medium",children:t==="light"?"Tema Chiaro":"Tema Scuro"})]}),s.jsxs(he,{variant:"outline",className:"bg-blue-100 text-blue-700",children:[s.jsx(o5,{className:"h-3 w-3 mr-1"}),"Sincronizzato con sistema"]})]})]})]})]}),s.jsxs(Me,{children:[s.jsx(er,{children:s.jsxs(Hr,{className:"flex items-center gap-2",children:[s.jsx(wl,{className:"h-5 w-5"}),"Filtri Predefiniti"]})}),s.jsxs(Re,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ot,{className:"text-base font-medium",children:"Categoria Predefinita"}),s.jsxs(zt,{value:n.defaultCategory,onValueChange:p=>f("defaultCategory",p),children:[s.jsx(It,{className:"w-64",children:s.jsx(Ut,{})}),s.jsxs($t,{children:[s.jsx(je,{value:"all",children:"Tutte le Categorie"}),s.jsx(je,{value:"Alimentari",children:"🥘 Alimentari"}),s.jsx(je,{value:"Casa",children:"🏠 Casa"}),s.jsx(je,{value:"Elettronica",children:"💻 Elettronica"}),s.jsx(je,{value:"Abbigliamento",children:"👕 Abbigliamento"}),s.jsx(je,{value:"Salute",children:"💊 Salute"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ot,{className:"text-base font-medium",children:"Priorità Predefinita"}),s.jsxs(zt,{value:n.defaultPriority,onValueChange:p=>f("defaultPriority",p),children:[s.jsx(It,{className:"w-64",children:s.jsx(Ut,{})}),s.jsxs($t,{children:[s.jsx(je,{value:"all",children:"Tutte le Priorità"}),s.jsx(je,{value:"high",children:"🔴 Alta"}),s.jsx(je,{value:"medium",children:"🟡 Media"}),s.jsx(je,{value:"low",children:"🟢 Bassa"})]})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ot,{className:"text-base font-medium",children:"Mostra Articoli Completati"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Include gli articoli già completati nella vista predefinita"})]}),s.jsx(Nr,{checked:n.showCompleted,onCheckedChange:p=>f("showCompleted",p),className:"data-[state=checked]:bg-cambridge-blue"})]})})]})]}),s.jsxs(Me,{children:[s.jsx(er,{children:s.jsxs(Hr,{className:"flex items-center gap-2",children:[s.jsx(Ng,{className:"h-5 w-5"}),"Impostazioni Notifiche"]})}),s.jsxs(Re,{className:"space-y-6",children:[s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ot,{className:"text-base font-medium",children:"Abilita Notifiche"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Ricevi notifiche per aggiornamenti e promemoria"})]}),s.jsx(Nr,{checked:n.enableNotifications,onCheckedChange:p=>f("enableNotifications",p),className:"data-[state=checked]:bg-cambridge-blue"})]})}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ot,{className:"text-base font-medium",children:"Notifiche Email"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Ricevi un riepilogo giornaliero via email"})]}),s.jsx(Nr,{checked:n.emailNotifications,onCheckedChange:p=>f("emailNotifications",p),className:"data-[state=checked]:bg-cambridge-blue",disabled:!n.enableNotifications})]})})]})]}),s.jsxs(Me,{children:[s.jsx(er,{children:s.jsxs(Hr,{className:"flex items-center gap-2",children:[s.jsx(gn,{className:"h-5 w-5"}),"Impostazioni Regionali"]})}),s.jsx(Re,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ot,{className:"text-base font-medium",children:"Lingua"}),s.jsxs(zt,{value:n.language,onValueChange:p=>f("language",p),children:[s.jsx(It,{className:"w-48",children:s.jsx(Ut,{})}),s.jsxs($t,{children:[s.jsx(je,{value:"it",children:"🇮🇹 Italiano"}),s.jsx(je,{value:"en",children:"🇺🇸 English"})]})]})]})})]}),s.jsxs(Me,{children:[s.jsx(er,{children:s.jsxs(Hr,{className:"flex items-center gap-2",children:[s.jsx(Bi,{className:"h-5 w-5"}),"Gestione Dati e Backup"]})}),s.jsxs(Re,{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Bi,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Le tue preferenze sono salvate in SessionStorage"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"I dati vengono conservati per tutta la durata della sessione browser. Chiudendo il browser, le preferenze verranno perse."}),s.jsxs("div",{className:"mt-3 text-xs text-blue-600 dark:text-blue-400",children:[s.jsx("strong",{children:"Chiave storage:"})," familyTaskTracker_preferences_",e==null?void 0:e.username]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ot,{className:"text-base font-medium",children:"Esporta Preferenze"}),s.jsxs(ae,{onClick:m,variant:"outline",className:"w-full",children:[s.jsx(Pg,{className:"mr-2 h-4 w-4"}),"Scarica Backup JSON"]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Salva le tue preferenze come file JSON"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ot,{className:"text-base font-medium",children:"Spazio Utilizzato"}),s.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Preferenze:"}),s.jsxs("span",{className:"font-mono",children:[new Blob([JSON.stringify(n)]).size," bytes"]})]}),s.jsxs("div",{className:"flex justify-between text-gray-500",children:[s.jsx("span",{children:"Tema:"}),s.jsxs("span",{className:"font-mono",children:[((v=sessionStorage.getItem("theme"))==null?void 0:v.length)||0," bytes"]})]})]})})]})]})]})]}),s.jsxs(Me,{className:"border-orange-200 dark:border-orange-800",children:[s.jsx(er,{children:s.jsxs(Hr,{className:"flex items-center gap-2 text-orange-700 dark:text-orange-300",children:[s.jsx(bw,{className:"h-5 w-5"}),"Azioni Avanzate"]})}),s.jsxs(Re,{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-orange-900 dark:text-orange-100",children:"Reset Completo Preferenze"}),s.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:"Ripristina tutte le impostazioni ai valori predefiniti. Questa azione non può essere annullata."})]}),s.jsxs(ae,{onClick:h,variant:"destructive",size:"sm",className:"ml-4",children:[s.jsx(bw,{className:"mr-2 h-4 w-4"}),"Reset Tutto"]})]})}),s.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-900 dark:text-red-100",children:"Cancella Tutti i Dati di Sessione"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"Rimuove completamente tutti i dati salvati in SessionStorage, incluse preferenze e tema. Richiede ricaricamento pagina."})]}),s.jsxs(ae,{onClick:()=>{confirm("Sei sicuro? Tutti i dati di sessione verranno persi e la pagina verrà ricaricata.")&&(sessionStorage.clear(),window.location.reload())},variant:"destructive",size:"sm",className:"ml-4",children:[s.jsx(Bi,{className:"mr-2 h-4 w-4"}),"Cancella Tutto"]})]})})]})]}),s.jsxs(Me,{className:"border-green-200 dark:border-green-800",children:[s.jsx(er,{children:s.jsxs(Hr,{className:"flex items-center gap-2 text-green-700 dark:text-green-300",children:[s.jsx(wl,{className:"h-5 w-5"}),"Riepilogo Configurazione Attuale"]})}),s.jsx(Re,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-delft-blue dark:text-eggshell",children:"Visualizzazione"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Vista:"}),s.jsx(he,{variant:"outline",className:n.viewMode==="images"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700",children:n.viewMode==="images"?"🖼️ Immagini":"📝 Compatta"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Items/Pagina:"}),s.jsx("span",{className:"font-mono",children:n.itemsPerPage})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tema:"}),s.jsx(he,{variant:"outline",className:t==="dark"?"bg-gray-800 text-gray-100":"bg-yellow-100 text-yellow-700",children:t==="dark"?"🌙 Scuro":"☀️ Chiaro"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-delft-blue dark:text-eggshell",children:"Filtri Default"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Categoria:"}),s.jsx("span",{className:"font-mono text-xs",children:n.defaultCategory})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Priorità:"}),s.jsx("span",{className:"font-mono text-xs",children:n.defaultPriority})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Archiviati:"}),s.jsx(he,{variant:"outline",className:n.showCompleted?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:n.showCompleted?"✅ Sì":"❌ No"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-delft-blue dark:text-eggshell",children:"Notifiche"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Abilitate:"}),s.jsx(he,{variant:"outline",className:n.enableNotifications?"bg-green-100 text-green-700":"bg-red-100 text-red-700",children:n.enableNotifications?"🔔 Sì":"🔕 No"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Email:"}),s.jsx(he,{variant:"outline",className:n.emailNotifications?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",children:n.emailNotifications?"📧 Sì":"📭 No"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Lingua:"}),s.jsx("span",{className:"font-mono text-xs",children:n.language==="it"?"🇮🇹 IT":"🇺🇸 EN"})]})]})]})]})})]}),s.jsxs(Me,{className:"border-purple-200 dark:border-purple-800",children:[s.jsx(er,{children:s.jsx(Hr,{className:"flex items-center gap-2 text-purple-700 dark:text-purple-300",children:"💡 Tips e Suggerimenti"})}),s.jsx(Re,{children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-blue-500",children:"📱"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Vista Immagini vs Compatta:"})," La vista immagini è ideale per prodotti con foto, mentre la vista compatta permette di vedere più articoli contemporaneamente."]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-green-500",children:"💾"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Salvataggio Automatico:"})," Tutte le modifiche alle preferenze vengono salvate automaticamente in SessionStorage senza bisogno di conferma."]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-orange-500",children:"🔄"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Sincronizzazione Multi-Device:"})," Per ora le preferenze sono salvate localmente. In futuro potrebbero essere sincronizzate con il cloud."]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-purple-500",children:"⚡"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Performance:"})," La vista compatta carica più velocemente quando hai molti articoli, mentre la vista immagini offre un'esperienza più ricca."]})]})]})})]}),s.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-4",children:s.jsxs("p",{children:["FamilyTaskTracker v","1.0.0"," • Preferenze User: ",e==null?void 0:e.username," • Ultimo aggiornamento: ",new Date().toLocaleDateString("it-IT")]})})]})}function cxe(){const[e,t]=y.useState(()=>window.location.hash.slice(1)||"/");y.useEffect(()=>{const n=()=>{const a=window.location.hash.slice(1)||"/";t(a)};return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)},[]);const r=y.useCallback(n=>{try{window.location.hash=n}catch(a){console.error("Navigation error:",a)}},[]);return[e,r]}function lxe(){const{user:e,isLoading:t}=Lt();return t?s.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsx("span",{className:"ml-3 text-foreground font-medium",children:"Loading..."})]}):e?s.jsxs(e_,{children:[s.jsx(ya,{path:"/settings",children:s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx("div",{className:"container mx-auto p-6",children:s.jsx(oxe,{})})})}),s.jsx(ya,{children:s.jsx(sxe,{})})]}):s.jsx(H6,{})}function uxe(){return s.jsx(q6,{children:s.jsx(b$,{client:N$,children:s.jsx(Ry,{children:s.jsx(Q3,{children:s.jsx(sve,{children:s.jsx(QA,{hook:cxe,children:s.jsx(lxe,{})})})})})})})}BA(document.getElementById("root")).render(s.jsx(uxe,{}))});export default dxe();
